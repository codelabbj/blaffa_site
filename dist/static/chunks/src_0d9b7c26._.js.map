{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rarsh/Documents/blaffa%20project/blaffa_site/src/lib/axios.ts"],"sourcesContent":["import axios, { AxiosError, InternalAxiosRequestConfig } from 'axios';\r\n\r\nconst API_URL = 'https://api.blaffa.net';\r\n\r\n// Create axios instance with base URL\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nlet isRefreshing = false;\r\nlet failedQueue: Array<{\r\n  resolve: (token: string) => void;\r\n  reject: (error: unknown) => void;\r\n}> = [];\r\n\r\nconst processQueue = (error: unknown, token: string | null = null) => {\r\n  failedQueue.forEach(prom => {\r\n    if (error) {\r\n      prom.reject(error);\r\n    } else {\r\n      prom.resolve(token!);\r\n    }\r\n  });\r\n  failedQueue = [];\r\n};\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('accessToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle token refresh\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error: AxiosError) => {\r\n    const originalRequest = error.config as InternalAxiosRequestConfig & { _retry?: boolean };\r\n\r\n    // If the error is 401 and we haven't tried to refresh yet\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      if (isRefreshing) {\r\n        // If we're already refreshing, add the request to the queue\r\n        return new Promise((resolve, reject) => {\r\n          failedQueue.push({ resolve, reject });\r\n        })\r\n          .then((token) => {\r\n            originalRequest.headers.Authorization = `Bearer ${token}`;\r\n            return api(originalRequest);\r\n          })\r\n          .catch((err) => {\r\n            return Promise.reject(err);\r\n          });\r\n      }\r\n\r\n      originalRequest._retry = true;\r\n      isRefreshing = true;\r\n\r\n      try {\r\n        const refreshToken = localStorage.getItem('refreshToken');\r\n        if (!refreshToken) {\r\n          // No refresh token available, redirect to login\r\n          localStorage.removeItem('accessToken');\r\n          window.location.href = '/auth';\r\n          return Promise.reject(error);\r\n        }\r\n\r\n        // Try to refresh the token\r\n        const response = await axios.post(\r\n          `${API_URL}/auth/refresh`,\r\n          { refresh: refreshToken },\r\n          { headers: { 'Content-Type': 'application/json' } }\r\n        );\r\n\r\n        const { access, refresh: newRefresh } = response.data;\r\n        \r\n        // Update tokens in localStorage\r\n        localStorage.setItem('accessToken', access);\r\n        if (newRefresh) {\r\n          localStorage.setItem('refreshToken', newRefresh);\r\n        }\r\n\r\n        // Update the Authorization header\r\n        api.defaults.headers.common.Authorization = `Bearer ${access}`;\r\n        originalRequest.headers.Authorization = `Bearer ${access}`;\r\n\r\n        // Process the queue\r\n        processQueue(null, access);\r\n\r\n        // Retry the original request\r\n        return api(originalRequest);\r\n      } catch (refreshError) {\r\n        // If refresh fails, clear tokens and redirect to login\r\n        console.error('Failed to refresh token:', refreshError);\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        window.location.href = '/auth';\r\n        processQueue(refreshError);\r\n        return Promise.reject(refreshError);\r\n      } finally {\r\n        isRefreshing = false;\r\n      }\r\n    }\r\n\r\n    // For other errors, just reject\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,UAAU;AAEhB,sCAAsC;AACtC,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,IAAI,eAAe;AACnB,IAAI,cAGC,EAAE;AAEP,MAAM,eAAe,CAAC,OAAgB,QAAuB,IAAI;IAC/D,YAAY,OAAO,CAAC,CAAA;QAClB,IAAI,OAAO;YACT,KAAK,MAAM,CAAC;QACd,OAAO;YACL,KAAK,OAAO,CAAC;QACf;IACF;IACA,cAAc,EAAE;AAClB;AAEA,wCAAwC;AACxC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,+CAA+C;AAC/C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,0DAA0D;IAC1D,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC7D,IAAI,cAAc;YAChB,4DAA4D;YAC5D,OAAO,IAAI,QAAQ,CAAC,SAAS;gBAC3B,YAAY,IAAI,CAAC;oBAAE;oBAAS;gBAAO;YACrC,GACG,IAAI,CAAC,CAAC;gBACL,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;gBACzD,OAAO,IAAI;YACb,GACC,KAAK,CAAC,CAAC;gBACN,OAAO,QAAQ,MAAM,CAAC;YACxB;QACJ;QAEA,gBAAgB,MAAM,GAAG;QACzB,eAAe;QAEf,IAAI;YACF,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,CAAC,cAAc;gBACjB,gDAAgD;gBAChD,aAAa,UAAU,CAAC;gBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACvB,OAAO,QAAQ,MAAM,CAAC;YACxB;YAEA,2BAA2B;YAC3B,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAC/B,GAAG,QAAQ,aAAa,CAAC,EACzB;gBAAE,SAAS;YAAa,GACxB;gBAAE,SAAS;oBAAE,gBAAgB;gBAAmB;YAAE;YAGpD,MAAM,EAAE,MAAM,EAAE,SAAS,UAAU,EAAE,GAAG,SAAS,IAAI;YAErD,gCAAgC;YAChC,aAAa,OAAO,CAAC,eAAe;YACpC,IAAI,YAAY;gBACd,aAAa,OAAO,CAAC,gBAAgB;YACvC;YAEA,kCAAkC;YAClC,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAC9D,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAE1D,oBAAoB;YACpB,aAAa,MAAM;YAEnB,6BAA6B;YAC7B,OAAO,IAAI;QACb,EAAE,OAAO,cAAc;YACrB,uDAAuD;YACvD,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB,aAAa;YACb,OAAO,QAAQ,MAAM,CAAC;QACxB,SAAU;YACR,eAAe;QACjB;IACF;IAEA,gCAAgC;IAChC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rarsh/Documents/blaffa%20project/blaffa_site/src/components/TransactionHistory.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { ArrowDownLeft, ArrowUpRight,  X,  Activity,  Copy, CheckCircle, Clock, XCircle, AlertCircle, ChevronRight, Smartphone, Phone, CreditCard, Hash, Calendar, } from 'lucide-react';\n//import Footer from '../components/footer';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from './ThemeProvider';\nimport api from '@/lib/axios';\n// Define the App interface\ninterface App {\n  id: string;\n  name: string;\n  image: string;\n  public_name: string;\n  is_active: boolean;\n}\n\n// Define API response interfaces\n/**\n * @typedef {Object} User\n * @property {string} id\n * @property {string} email\n * @property {string} first_name\n * @property {string} last_name\n */\ninterface User {\n  id: string;\n  email: string;\n  first_name: string;\n  last_name: string;\n}\n\n/**\n * @typedef {Object} App\n * @property {string} id\n * @property {string} name\n * @property {string} image\n * @property {string} public_name\n * @property {boolean} is_active\n */\n\n/**\n * @typedef {Object} Network\n * @property {number} id\n * @property {string} name\n * @property {string} public_name\n * @property {string} image\n * @property {string} country_code\n * @property {string} indication\n */\ninterface Network {\n  id: number;\n  name: string;\n  public_name: string;\n  image: string;\n  country_code: string;\n  indication: string;\n}\n\n/**\n * @typedef {Object} Network\n * @property {number} id\n * @property {string} name\n * @property {string} public_name\n * @property {string} image\n * @property {string} country_code\n * @property {string} indication\n */\n\ninterface Transaction {\n  id: string;\n  amount: number;\n  reference: string;\n  type_trans: string;\n  status: string;\n  created_at: string;\n  phone_number: string;\n  app: App;\n  network: Network;\n  user: User;\n  user_app_id: string;\n  transaction_reference: string | null;\n  error_message: string | null;\n  net_payable_amount: number | null;\n}\n\n// Define the HistoricItem type\ntype HistoricItem = {\n  id: string;\n  user: string;\n  created_at: string;\n  transaction: Transaction;\n};\n\n/**\n * @typedef {Object} ApiResponse\n * @property {number} count\n * @property {string|null} next\n * @property {string|null} previous\n * @property {HistoricItem[]} results\n */\n\nexport default function TransactionHistory() {\n  const [transactions, setTransactions] = useState<HistoricItem[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [page, setPage] = useState(1);\n // const [ setHasMore] = useState(true);\n  const [selectedTransaction, setSelectedTransaction] = useState<HistoricItem | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const {t} = useTranslation();\n  const { theme } = useTheme();\n\n  interface CustomWebSocket extends WebSocket {\n    pingInterval?: NodeJS.Timeout | null;\n  }\n  \n  const webSocketRef = useRef<CustomWebSocket | null>(null);\n\n  const wsHealth = useRef({\n    lastMessageTime: 0,\n    messageCount: 0\n  });\n  \n\n  // WebSocket reference\n  const webSocketReconnectAttempts = useRef(0);\n  // Transactions map to track unique transactions\n  const transactionsMapRef = useRef(new Map());\n  // Reconnect timeout reference for WebSocket\n  const reconnectTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  \n  // Format date from ISO string to readable format\n  const formatDate = (isoDate: string) => {\n    const date = new Date(isoDate);\n    return date.toLocaleDateString('fr-FR', {\n      day: 'numeric',\n      month: 'short',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: false,\n      timeZone: 'UTC'\n    });\n  };\n  \n  // Build API URL based on filters and pagination\n  const getApiUrl = (pageNumber: number, activeFilter: string) => {\n    let apiUrl = `/blaffa/historic${pageNumber > 1 ? `?page=${pageNumber}` : ''}`;\n    \n    if (activeFilter === 'deposits') {\n      apiUrl = `/blaffa/historic${pageNumber > 1 ? `?page=${pageNumber}&` : '?'}type=deposit`;\n    } else if (activeFilter === 'withdrawals') {\n      apiUrl = `/blaffa/historic${pageNumber > 1 ? `?page=${pageNumber}&` : '?'}type=withdrawal`;\n    }\n    \n    return apiUrl;\n  };\n  \n  // Create a function to generate a composite key for transactions\n  const getTransactionKey = (transaction: HistoricItem | Transaction) => {\n    // Check for different possible properties to handle various formats\n    const id = 'transaction' in transaction\n      ? transaction.transaction.id\n      : transaction.id;\n    \n    if (!id) {\n      console.error('Could not extract ID from transaction:', transaction);\n      // Generate a fallback ID to prevent errors\n      return `unknown-${Math.random().toString(36).substring(2, 11)}`;\n    }\n    \n    return id.toString();\n  };\n  \n  // Add this function to cycle through filter options\n  \n  \n  // Update the setupWebSocket function with better error handling and fallback\n  const setupWebSocket = () => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      setError('Authentication required for real-time updates');\n      console.log(error);\n      window.location.href = '/auth';\n      return;\n    }\n\n    // Clean up existing connection\n    cleanupWebSocket();\n\n    try {\n      const wsUrl = `wss://api.blaffa.net/ws/socket?token=${encodeURIComponent(token)}`;\n      webSocketRef.current = new WebSocket(wsUrl);\n\n      // Set connection timeout\n      const connectionTimeout = setTimeout(() => {\n        if (webSocketRef.current?.readyState !== WebSocket.OPEN) {\n          handleConnectionFailure('Connection timeout');\n        }\n      }, 5000);\n\n      webSocketRef.current.onopen = () => {\n        clearTimeout(connectionTimeout);\n        console.log('WebSocket connected successfully');\n        webSocketReconnectAttempts.current = 0;\n        startPingInterval();\n      };\n\n      webSocketRef.current.onclose = (event) => {\n        clearTimeout(connectionTimeout);\n        handleWebSocketClose(event);\n      };\n\n      webSocketRef.current.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        handleConnectionFailure('Connection failed');\n      };\n\n      webSocketRef.current.onmessage = handleWebSocketMessage;\n\n    } catch (error) {\n      console.error('WebSocket setup failed:', error);\n      setError(error instanceof Error ? error.message : 'Failed to establish connection');\n      handleConnectionFailure('Failed to initialize WebSocket');\n    }\n  };\n\n  // Add these helper functions\n  const cleanupWebSocket = () => {\n    if (webSocketRef.current) {\n      webSocketRef.current.close();\n      webSocketRef.current = null;\n    }\n    if (reconnectTimeoutRef.current) {\n      clearTimeout(reconnectTimeoutRef.current);\n    }\n  };\n\n  const startPingInterval = () => {\n    const pingInterval = setInterval(() => {\n      if (webSocketRef.current?.readyState === WebSocket.OPEN) {\n        try {\n          webSocketRef.current.send(JSON.stringify({ type: 'ping' }));\n        } catch (error) {\n          console.error('Failed to send ping:', error);\n          cleanupWebSocket();\n          setupWebSocket();\n        }\n      } else {\n        clearInterval(pingInterval);\n      }\n    }, 30000);\n\n    // Store the interval ID for cleanup\n    if (webSocketRef.current) {\n      webSocketRef.current.pingInterval = pingInterval;\n    }\n  };\n\n  const handleConnectionFailure = (message: string) => {\n    console.error(message);\n    setError(message);\n    \n    // Implement exponential backoff\n    const backoffDelay = Math.min(1000 * Math.pow(2, webSocketReconnectAttempts.current), 30000);\n    webSocketReconnectAttempts.current++;\n\n    reconnectTimeoutRef.current = setTimeout(() => {\n      setupWebSocket();\n    }, backoffDelay);\n  };\n\n  const handleWebSocketMessage = (event: MessageEvent) => {\n    try {\n      const data = JSON.parse(event.data);\n      wsHealth.current = {\n        lastMessageTime: Date.now(),\n        messageCount: wsHealth.current.messageCount + 1\n      };\n\n      switch (data.type) {\n        case 'transaction_update':\n          handleTransactionUpdate(data.transaction);\n          break;\n        case 'new_transaction':\n          handleNewTransaction(data.transaction);\n          break;\n        case 'pong':\n          console.log('Received pong from server');\n          break;\n        case 'error':\n          console.error('Server error:', data.message);\n          setError(data.message);\n          break;\n        default:\n          if (data.transaction) {\n            const existingTransaction = transactionsMapRef.current.has(getTransactionKey(data.transaction));\n            if (existingTransaction) {\n              handleTransactionUpdate(data.transaction);\n            } else {\n              handleNewTransaction(data.transaction);\n            }\n          }\n      }\n\n    } catch (error) {\n      console.error('Error processing message:', error);\n    }\n  };\n\n  const handleWebSocketClose = (event: CloseEvent) => {\n    cleanupWebSocket();\n    \n    const reason = getCloseReason(event.code);\n    console.log(`WebSocket closed: ${reason}`);\n\n    if (event.code !== 1000) {\n      handleConnectionFailure(reason);\n    }\n  };\n\n  const getCloseReason = (code: number): string => {\n    const closeReasons: Record<number, string> = {\n      1000: 'Normal closure',\n      1001: 'Going away',\n      1002: 'Protocol error',\n      1003: 'Unsupported data',\n      1005: 'No status received',\n      1006: 'Abnormal closure',\n      1007: 'Invalid frame payload data',\n      1008: 'Policy violation',\n      1009: 'Message too big',\n      1010: 'Mandatory extension',\n      1011: 'Internal server error',\n      1012: 'Service restart',\n      1013: 'Try again later',\n      1014: 'Bad gateway',\n      1015: 'TLS handshake'\n    };\n\n    return closeReasons[code] || `Unknown reason (${code})`;\n  };\n\n  // Handle new transaction from WebSocket\n  const handleNewTransaction = (transaction: Transaction) => {\n    const key = getTransactionKey(transaction);\n    \n    // Only add if it matches the current filter\n    if (shouldShowTransaction(transaction)) {\n      // Check if we already have this transaction\n      if (!transactionsMapRef.current.has(key)) {\n        // Create a proper HistoricItem\n        const historicItem: HistoricItem = {\n          id: transaction.id,\n          user: transaction.user?.id || '',\n          created_at: transaction.created_at,\n          transaction: transaction\n        };\n        \n        // Add to our map\n        transactionsMapRef.current.set(key, historicItem);\n        \n        // Add to state (at the beginning)\n        setTransactions(prev => [historicItem, ...prev]);\n      }\n    }\n  };\n  \n  // Handle transaction updates from WebSocket\n  const handleTransactionUpdate = (updatedTransaction: Transaction) => {\n    const key = getTransactionKey(updatedTransaction);\n    \n    console.log('Received update for transaction:', key, updatedTransaction);\n    console.log('Does this transaction exist in our map?', transactionsMapRef.current.has(key));\n    \n    // Update the transaction in our state\n    setTransactions(prev => \n      prev.map(item => {\n        if (getTransactionKey(item) === key) {\n          // Create updated item with new transaction data\n          return { \n            ...item, \n            transaction: updatedTransaction \n          };\n        }\n        return item;\n      })\n    );\n    \n    // Update the transaction in our map\n    if (transactionsMapRef.current.has(key)) {\n      const existingItem = transactionsMapRef.current.get(key);\n      if (existingItem) {\n        const updatedItem = {\n          ...existingItem,\n          transaction: updatedTransaction\n        };\n        transactionsMapRef.current.set(key, updatedItem);\n      }\n    }\n  };\n  \n  // Filter transactions based on current filter\n  const shouldShowTransaction = (item: HistoricItem | Transaction) => {\n    const transaction = 'transaction' in item ? item.transaction : item;\n    \n    if (!transaction) return false;\n    \n    return true;\n  };\n  \n  // Fetch transactions from API\n  const fetchTransactions = async (pageNumber: number, activeFilter: string) => {\n    setLoading(true);\n    \n    try {\n      const apiUrl = getApiUrl(pageNumber, activeFilter);\n      console.log('Fetching transactions from:', apiUrl);\n      \n      const token = localStorage.getItem('accessToken');\n      if (!token) {\n        console.error('No access token found');\n        setError('You must be logged in to view transactions.');\n        setLoading(false);\n        return;\n      }\n      \n      const response = await api.get(apiUrl, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n      \n      if (response.status !== 200) {\n        const errorData = await response.data;\n        console.error('Error Data:', errorData);\n        throw new Error(errorData.message);\n      }\n      \n      const data = response.data;\n      console.log('Fetched Transactions:', data);\n      \n      // Process the fetched transactions\n      if (pageNumber === 1) {\n        // Reset the transactions map for first page\n        transactionsMapRef.current.clear();\n        \n        // Check if we got any transactions\n        if (data.results && data.results.length > 0) {\n          // Add each transaction to the map\n          data.results.forEach((tx: HistoricItem) => {\n            const key = getTransactionKey(tx);\n            transactionsMapRef.current.set(key, tx);\n          });\n          \n          setTransactions(data.results);\n        } else {\n          // No transactions found\n          setTransactions([]);\n        }\n      } else {\n        // For pagination, only add transactions that don't already exist\n        const newTransactions = data.results.filter((tx: HistoricItem) => {\n          const key = getTransactionKey(tx);\n          if (!transactionsMapRef.current.has(key)) {\n            transactionsMapRef.current.set(key, tx);\n            return true;\n          }\n          return false;\n        });\n        \n        setTransactions(prev => [...prev, ...newTransactions]);\n      }\n      \n      setError(null);\n    } catch (error) {\n      console.error('Error fetching transactions:', error);\n      if (error instanceof Error) {\n        setError(error.message || 'Failed to load transactions. Please try again.');\n        console.error('Error message:', error.message);\n      } else {\n        setError('Failed to load transactions. Please try again.');\n        console.error('Unknown error:', error);\n      }\n      \n      // Set empty transactions if API failed\n      if (pageNumber === 1) {\n        setTransactions([]);\n        transactionsMapRef.current.clear();\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // Initial fetch and WebSocket setup\n  useEffect(() => {\n    fetchTransactions(page, 'all');\n    \n    // Setup WebSocket connection\n    setupWebSocket();\n    \n    // Add health check interval for WebSocket\n    const healthCheckInterval = setInterval(() => {\n      const now = Date.now();\n      const minutesSinceLastMessage = (now - wsHealth.current.lastMessageTime) / (1000 * 60);\n      \n      if (wsHealth.current.lastMessageTime > 0 && minutesSinceLastMessage > 5) {\n        console.warn('No WebSocket messages received in 5 minutes, reconnecting...');\n        setupWebSocket(); // Force reconnection\n      }\n    }, 60000); // Check every minute\n    \n    // Cleanup function\n    return () => {\n      clearInterval(healthCheckInterval);\n      if (webSocketRef.current) {\n        // Clear ping interval if exists\n        if (webSocketRef.current.pingInterval) {\n          clearInterval(webSocketRef.current.pingInterval);\n        }\n        \n        webSocketRef.current.close();\n        webSocketRef.current = null;\n      }\n      \n      // Clear any pending reconnection timeouts\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n      }\n    };\n  }, []);\n  \n  // Verify WebSocket connection after initial setup\n  useEffect(() => {\n    // Verify connection after initial setup\n    const verifyConnectionTimeout = setTimeout(() => {\n      // If we haven't received any messages after 10 seconds of setup\n      if (wsHealth.current.messageCount === 0 && webSocketRef.current && \n          webSocketRef.current.readyState === WebSocket.OPEN) {\n        console.log('Testing WebSocket connection with manual ping...');\n        try {\n          webSocketRef.current.send(JSON.stringify({ type: 'ping' }));\n        } catch (error) {\n          console.error('Failed to send ping, reconnecting WebSocket:', error);\n          setupWebSocket();\n        }\n      }\n    }, 10000);\n    \n    return () => clearTimeout(verifyConnectionTimeout);\n  }, []);\n  \n  // Reset page when tab changes to refetch from the beginning\n  useEffect(() => {\n    setPage(1);\n    fetchTransactions(1, 'all');\n  }, []);\n \n  \n  // Show transaction details in modal\n  const openTransactionDetails = (transaction: HistoricItem) => {\n    setSelectedTransaction(transaction);\n    setIsModalOpen(true);\n  };\n  \n  // Copy transaction ID or reference to clipboard\n  const copyToClipboard = (text: string) => {\n    navigator.clipboard.writeText(text)\n      .then(() => {\n        // Could add a toast notification here\n        console.log('Copied to clipboard:', text);\n      })\n      .catch(err => {\n        console.error('Failed to copy:', err);\n      });\n  };\n  \n  // Format the transaction amount with currency symbol\n  const formatAmount = (amount: number) => {\n    return new Intl.NumberFormat('fr-BJ', {\n      style: 'currency',\n      currency: 'XOF',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  const getTransactionTypeIcon = (type: string) => {\n      return type === 'deposit' ? (\n        <ArrowDownLeft className=\"w-5 h-5\" />\n      ) : (\n        <ArrowUpRight className=\"w-5 h-5\" />\n      );\n    };\n  \n    const getStatusIcon = (status: string) => {\n      switch (status) {\n        case 'completed':\n          return <CheckCircle className=\"w-4 h-4 text-green-500\" />;\n        case 'accept':\n          return <CheckCircle className=\"w-4 h-4 text-green-500\" />;\n        case 'payment_init_success':\n          return <Clock className=\"w-4 h-4 text-blue500\" />;\n        case 'pending':\n          return <Clock className=\"w-4 h-4 text-yellow-500\" />;\n        case 'failed':\n        case 'error':\n          return <XCircle className=\"w-4 h-4 text-red-500\" />;\n        default:\n          return <AlertCircle className=\"w-4 h-4 text-gray-500\" />;\n      }\n    };\n\n    const formatStatusText = (status: string) => {\n      if (status === 'payment_init_success') return 'payment_init_success';\n      const statusMap: Record<string, string> = {\n        completed: 'Completed',\n        accept: 'Accepted',\n        pending: 'Pending',\n        failed: 'Failed',\n        error: 'Failed'\n      };\n      \n      return statusMap[status.toLowerCase()] || status;\n    };\n\n    const getStatusBadgeClass = (status: string) => {\n      switch (status) {\n        case 'completed':\n        case 'accept':\n          return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400';\n        case 'payment_init_success':\n          return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400';\n        case 'pending':\n          return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400';\n        case 'failed':\n        case 'error':\n          return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400';\n        default:\n          return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400';\n      }\n    };\n\n  return (\n    <div className={`rounded-2xl shadow-sm border border-gray-200 bg-gradient-to-br ${theme.colors.a_background} ${theme.colors.text}`}>\n      {/* Background gradient effects */}\n      <div className=\"absolute top-20 -left-10 w-40 h-40 bg-orange-700/20 rounded-full blur-3xl animate-pulse-slow\"></div>\n      <div className=\"absolute bottom-20 right-10 w-60 h-60 bg-blue-700/10 rounded-full blur-3xl animate-pulse-slow\"></div>\n     <div className={`${theme.colors.c_background} shadow-md rounded-2xl p-6 w-full overflow-hidden`}>\n        {/* Header with title and controls */}\n        <div className=\"p-6 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-xl font-semibold\">Historique</h3>\n            <a className=\"text-blue-600 hover:text-blue-700 font-medium flex items-center space-x-1\" href=\"/all_transactions\">\n              <span>Voir tout</span>\n              {/* <ChevronRight className=\"w-4 h-4\" /> */}\n            </a>\n          </div>\n        </div>\n        \n        {/* Transaction list */}\n        <div className=\"space-y-4\">\n          <style>\n            {`\n              @keyframes slideInUp {\n                from {\n                  opacity: 0;\n                  transform: translateY(20px) scale(0.95);\n                }\n                to {\n                  opacity: 1;\n                  transform: translateY(0) scale(1);\n                }\n              }\n              \n              @keyframes shimmer {\n                0% { background-position: -200px 0; }\n                100% { background-position: calc(200px + 100%) 0; }\n              }\n              \n              .shimmer-effect {\n                background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);\n                background-size: 200px 100%;\n                animation: shimmer 2s infinite;\n              }\n            `}\n          </style>\n\n          {loading && page === 1 ? (\n            <div className=\"flex justify-center items-center py-16\">\n              <div className=\"relative\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-blue-500/30 border-t-blue-500\"></div>\n                <div className=\"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/20 to-blue-500/20 animate-pulse\"></div>\n              </div>\n            </div>\n          ) : transactions.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center py-20 px-6\">\n              <div className=\"bg-gradient-to-br from-slate-800 to-slate-700 rounded-2xl p-6 mb-6 shadow-2xl border border-slate-600/50\">\n                <Activity className=\"w-12 h-12 text-slate-400 mx-auto\" />\n              </div>\n              <h3 className=\"text-xl font-semibold  mb-3\">Aucune transaction trouvée</h3>\n              <p className=\"text-slate-400 text-center max-w-md leading-relaxed\">\n                Your transaction history will appear here once you start making payments.\n              </p>\n            </div>\n          ) : (\n            <div className=\"w-full\">\n              <div className=\"grid gap-4\">\n                {transactions.map((item, index) => (\n                  <div\n                    key={item.id}\n                    className={`group relative w-full overflow-hidden rounded-2xl bg-gradient-to-r ${theme.colors.s_background} backdrop-blur-sm border border-slate-600/50 hover:border-blue-500/50 transition-all duration-500 cursor-pointer hover:shadow-2xl hover:shadow-blue-500/10`}\n                    onClick={() => openTransactionDetails(item)}\n                    style={{\n                      animation: `slideInUp 0.6s ease-out ${index * 100}ms both`\n                    }}\n                  >\n                    {/* Hover shimmer effect */}\n                    <div className=\"absolute inset-0 shimmer-effect opacity-0 group-hover:opacity-100 transition-opacity duration-500\"></div>\n                    \n                    <div className=\"relative p-6 w-full\">\n                      {/* Desktop Layout */}\n                      <div className=\"hidden sm:flex items-center w-full\">\n                        {/* Left Section - Icon and Details */}\n                        <div className=\"flex items-center space-x-4 flex-1 min-w-0 pr-4\">\n                          {/* Icon with enhanced styling */}\n                          <div className={`relative w-14 h-14 rounded-2xl flex items-center justify-center flex-shrink-0 transition-all duration-500 group-hover:scale-110 group-hover:rotate-6 ${\n                            item.transaction.type_trans === 'deposit'\n                              ? 'bg-gradient-to-br from-green-500/20 to-emerald-600/20 text-green-400 shadow-lg shadow-green-500/20'\n                              : 'bg-gradient-to-br from-blue-500/20 to-indigo-600/20 text-blue-400 shadow-lg shadow-blue-500/20'\n                          }`}>\n                            {getTransactionTypeIcon(item.transaction.type_trans)}\n                            <div className={`absolute inset-0 rounded-2xl ${\n                              item.transaction.type_trans === 'deposit' \n                                ? 'bg-gradient-to-br from-green-500/10 to-emerald-600/10' \n                                : 'bg-gradient-to-br from-blue-500/10 to-indigo-600/10'\n                            } opacity-0 group-hover:opacity-100 transition-opacity duration-500`}></div>\n                          </div>\n\n                          {/* Transaction Details */}\n                          <div className=\"flex-1 min-w-0\">\n                            <div className=\"flex items-center space-x-3 mb-2\">\n                              <h3 className=\"font-semibold text-lg transition-colors duration-300\">\n                                {item.transaction.type_trans === 'deposit' ? t('Deposit') : item.transaction.type_trans === 'withdrawal' ? t('Withdraw') : item.transaction.type_trans === 'buy' ? t('Buy') : item.transaction.type_trans === 'sale' ? t('Sale') : item.transaction.type_trans}\n                              </h3>\n                              <div className={`flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium transition-all duration-300 ${getStatusBadgeClass(item.transaction.status)} group-hover:scale-105`}>\n                                {getStatusIcon(item.transaction.status)}\n                                <span className=\"ml-1 capitalize\">{item.transaction.status === 'payment_init_success' ? 'payment_init_success' : formatStatusText(item.transaction.status)}</span>\n                              </div>\n                            </div>\n                            \n                            <div className=\"flex items-center space-x-4 text-sm text-slate-400 group-hover:text-slate-300 transition-colors duration-300\">\n                              <span className=\"font-mono\">{item.transaction.phone_number}</span>\n                              <span>•</span>\n                              <span>{formatDate(item.transaction.created_at)}</span>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Right Section - Amount and Reference */}\n                        <div className=\"text-right space-y-2 flex-shrink-0\">\n                          <div className={`font-bold text-2xl transition-all duration-300 group-hover:scale-105 ${\n                            item.transaction.type_trans === 'deposit'\n                              ? 'text-green-400 group-hover:text-green-300'\n                              : 'text-blue-400 group-hover:text-blue-300'\n                          }`}>\n                            {item.transaction.type_trans === 'deposit' ? '+' : '-'}\n                            {formatAmount(item.transaction.amount)}\n                          </div>\n                          <div className=\"text-xs text-slate-500 font-mono\">\n                            #{item.transaction.reference.substring(0, 12)}...\n                          </div>\n                        </div>\n\n                        {/* Arrow Icon */}\n                        <div className=\"ml-4 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:translate-x-1 flex-shrink-0\">\n                          <ChevronRight className=\"w-5 h-5 text-slate-400\" />\n                        </div>\n                      </div>\n\n                      {/* Mobile Layout */}\n                      <div className=\"sm:hidden space-y-4\">\n                        {/* Top Row - Icon, Title, Status */}\n                        <div className=\"flex items-center space-x-3\">\n                          <div className={`relative w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0 transition-all duration-500 group-hover:scale-110 group-hover:rotate-6 ${\n                            item.transaction.type_trans === 'deposit'\n                              ? 'bg-gradient-to-br from-green-500/20 to-emerald-600/20 text-green-400 shadow-lg shadow-green-500/20'\n                              : 'bg-gradient-to-br from-blue-500/20 to-indigo-600/20 text-blue-400 shadow-lg shadow-blue-500/20'\n                          }`}>\n                            {getTransactionTypeIcon(item.transaction.type_trans)}\n                          </div>\n                          \n                          <div className=\"flex-1 min-w-0\">\n                            <h3 className=\"font-semibold text-lg\">\n                              {item.transaction.type_trans === 'deposit' ? t('Deposit') : item.transaction.type_trans === 'withdrawal' ? t('Withdraw') : item.transaction.type_trans === 'buy' ? t('Buy') : item.transaction.type_trans === 'sale' ? t('Sale') : item.transaction.type_trans}\n                            </h3>\n                          </div>\n                          \n                          <div className={`flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium ${getStatusBadgeClass(item.transaction.status)}`}>\n                            {getStatusIcon(item.transaction.status)}\n                            <span className=\"ml-1 capitalize\">{item.transaction.status === 'payment_init_success' ? 'payment_init_success' : formatStatusText(item.transaction.status)}</span>\n                          </div>\n                        </div>\n\n                        {/* Bottom Row - Amount, Details */}\n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"space-y-1\">\n                            <div className=\"text-sm text-slate-400 font-mono\">{item.transaction.phone_number}</div>\n                            <div className=\"text-sm text-slate-400\">{formatDate(item.transaction.created_at)}</div>\n                            <div className=\"text-xs text-slate-500 font-mono\">\n                              #{item.transaction.reference.substring(0, 12)}...\n                            </div>\n                          </div>\n                          \n                          <div className={`font-bold text-xl ${\n                            item.transaction.type_trans === 'deposit'\n                              ? 'text-green-400'\n                              : 'text-blue-400'\n                          }`}>\n                            {item.transaction.type_trans === 'deposit' ? '+' : '-'}\n                            {formatAmount(item.transaction.amount)}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Gradient border effect on hover */}\n                    <div className=\"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none\">\n                      <div className=\"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/20 via-blue-500/20 to-blue-500/20 blur-sm\"></div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Load More Indicator */}\n          {loading && page > 1 && (\n            <div className=\"flex justify-center items-center py-8\">\n              <div className=\"relative\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-3 border-blue-500/30 border-t-blue-500\"></div>\n                <div className=\"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/10 to-blue-500/10 animate-pulse\"></div>\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Transaction detail modal */}\n        {isModalOpen && selectedTransaction && (\n          <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 modal-backdrop\">\n            <div className=\"bg-gradient-to-br from-slate-800/95 to-slate-700/95 backdrop-blur-xl rounded-3xl w-full max-w-lg shadow-2xl border border-slate-600/50 modal-content\">\n              {/* Header */}\n              <div className=\"relative p-6 pb-0\">\n                <div className=\"flex justify-between items-start mb-6\">\n                  <div>\n                    <h3 className=\"text-2xl font-bold text-white mb-1\">Transaction Details</h3>\n                    <p className=\"text-slate-400 text-sm\">Review your transaction information</p>\n                  </div>\n                  <button \n                    onClick={() => setIsModalOpen(false)}\n                    className=\"w-10 h-10 rounded-xl bg-slate-700/50 hover:bg-slate-600/50 text-slate-400 hover:text-white transition-all duration-300 flex items-center justify-center group\"\n                  >\n                    <X size={20} className=\"group-hover:rotate-90 transition-transform duration-300\" />\n                  </button>\n                </div>\n                \n                {/* Transaction Type & Status Card */}\n                <div className=\"bg-gradient-to-r from-slate-700/50 to-slate-600/50 backdrop-blur-sm rounded-2xl p-4 border border-slate-600/30\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className={`w-16 h-16 rounded-2xl flex items-center justify-center transition-all duration-300 ${\n                      selectedTransaction.transaction.type_trans === 'deposit' \n                        ? 'bg-gradient-to-br from-green-500/20 to-emerald-600/20 text-green-400 shadow-lg shadow-green-500/20' \n                        : 'bg-gradient-to-br from-blue-500/20 to-indigo-600/20 text-blue-400 shadow-lg shadow-blue-500/20'\n                    }`}>\n                      {getTransactionTypeIcon(selectedTransaction.transaction.type_trans)}\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-3 mb-2\">\n                        <h4 className=\"font-semibold text-xl text-white\">\n                          {selectedTransaction.transaction.type_trans === 'deposit' ? 'Deposit' : selectedTransaction.transaction.type_trans === 'withdrawal' ? 'Withdrawal' : selectedTransaction.transaction.type_trans === 'buy' ? 'Buy' : selectedTransaction.transaction.type_trans === 'sale' ? 'Sale' : selectedTransaction.transaction.type_trans}\n                        </h4>\n                        <div className={`flex items-center space-x-1 px-3 py-1.5 rounded-full text-sm font-medium ${getStatusBadgeClass(selectedTransaction.transaction.status)}`}>\n                          {getStatusIcon(selectedTransaction.transaction.status)}\n                          <span className=\"ml-1 capitalize\">{selectedTransaction.transaction.status === 'payment_init_success' ? 'payment_init_success' : formatStatusText(selectedTransaction.transaction.status)}</span>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center text-slate-400 text-sm\">\n                        <Calendar className=\"w-4 h-4 mr-2\" />\n                        {formatDate(selectedTransaction.transaction.created_at)}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Amount Section */}\n              <div className=\"px-6 py-4\">\n                <div className=\"bg-gradient-to-br from-slate-900/50 to-slate-800/50 rounded-2xl p-6 border border-slate-600/30\">\n                  <div className=\"text-center\">\n                    <div className=\"text-slate-400 text-sm mb-2 font-medium\">Transaction Amount</div>\n                    <div className={`text-4xl font-bold mb-2 ${\n                      selectedTransaction.transaction.type_trans === 'deposit' \n                        ? 'text-green-400' \n                        : 'text-blue-400'\n                    }`}>\n                      {selectedTransaction.transaction.type_trans === 'deposit' ? '+' : '-'}\n                      {formatAmount(selectedTransaction.transaction.amount)}\n                    </div>\n                    <div className=\"text-slate-500 text-xs\">\n                      {selectedTransaction.transaction.type_trans === 'deposit' ? 'Received' : 'Sent'}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Details Grid */}\n              <div className=\"px-6 pb-6\">\n                <div className=\"space-y-4\">\n                  {/* Transaction ID */}\n                  <div className=\"bg-slate-700/30 rounded-xl p-4 border border-slate-600/20\">\n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"flex items-center text-slate-400 text-sm font-medium\">\n                        <Hash className=\"w-4 h-4 mr-2\" />\n                        Transaction ID\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-white text-sm font-mono\">{selectedTransaction.transaction.reference.substring(0, 16)}...</span>\n                        <button \n                          onClick={() => copyToClipboard(selectedTransaction.id)}\n                          className=\"w-8 h-8 rounded-lg bg-slate-600/50 hover:bg-slate-500/50 text-slate-400 hover:text-white transition-all duration-300 flex items-center justify-center group\"\n                        >\n                          <Copy size={14} className=\"group-hover:scale-110 transition-transform duration-300\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Reference */}\n                  <div className=\"bg-slate-700/30 rounded-xl p-4 border border-slate-600/20\">\n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"flex items-center text-slate-400 text-sm font-medium\">\n                        <CreditCard className=\"w-4 h-4 mr-2\" />\n                        Reference\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-white text-sm font-mono\">{selectedTransaction.transaction.reference}</span>\n                        <button \n                          onClick={() => copyToClipboard(selectedTransaction.transaction.reference)}\n                          className=\"w-8 h-8 rounded-lg bg-slate-600/50 hover:bg-slate-500/50 text-slate-400 hover:text-white transition-all duration-300 flex items-center justify-center group\"\n                        >\n                          <Copy size={14} className=\"group-hover:scale-110 transition-transform duration-300\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Phone Number */}\n                  <div className=\"bg-slate-700/30 rounded-xl p-4 border border-slate-600/20\">\n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"flex items-center text-slate-400 text-sm font-medium\">\n                        <Phone className=\"w-4 h-4 mr-2\" />\n                        Phone Number\n                      </div>\n                      <span className=\"text-white text-sm font-mono\">{selectedTransaction.transaction.phone_number}</span>\n                    </div>\n                  </div>\n                  \n                  {/* Network (if available) */}\n                  {selectedTransaction.transaction.network && (\n                    <div className=\"bg-slate-700/30 rounded-xl p-4 border border-slate-600/20\">\n                      <div className=\"flex justify-between items-center\">\n                        <div className=\"flex items-center text-slate-400 text-sm font-medium\">\n                          <Smartphone className=\"w-4 h-4 mr-2\" />\n                          Network\n                        </div>\n                        <span className=\"text-white text-sm\">{selectedTransaction.transaction.network.public_name || selectedTransaction.transaction.network.name}</span>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n              \n              {/* Footer */}\n              <div className=\"px-6 pb-6\">\n                <div className=\"flex gap-3\">\n                  <button\n                    onClick={() => setIsModalOpen(false)}\n                    className=\"flex-1 px-6 py-3 bg-slate-700/50 hover:bg-slate-600/50 text-white rounded-xl transition-all duration-300 font-medium border border-slate-600/30 hover:border-slate-500/50\"\n                  >\n                    Close\n                  </button>\n                  <button\n                    onClick={() => copyToClipboard(selectedTransaction.transaction.reference)}\n                    className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-600 hover:from-blue-500 hover:to-blue-500 text-white rounded-xl transition-all duration-300 font-medium shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 flex items-center gap-2\"\n                  >\n                    <Copy size={16} />\n                    Copy Details\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1712, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rarsh/Documents/blaffa%20project/blaffa_site/src/components/footer.tsx"],"sourcesContent":["import { useTranslation } from \"react-i18next\";\r\n\r\nexport default function Footer() {\r\n    const { t } = useTranslation();\r\n    return(\r\n      <footer className=\"text-center py-6 text-gray-400 text-sm\">\r\n      <p>{t(\"© 2025 Blaffa. All rights reserved .\")}<a className=\"text-blue-500 font-extrabold\" href=\"https://api.blaffa.net/blaffa/privacy/policy/\"> Private Policy</a></p>\r\n    </footer>\r\n    )\r\n}"],"names":[],"mappings":";;;;AAAA;AAAA;;;;AAEe,SAAS;;IACpB,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,mKAAA,CAAA,iBAAc,AAAD;IAC3B,qBACE,6LAAC;QAAO,WAAU;kBAClB,cAAA,6LAAC;;gBAAG,EAAE;8BAAwC,6LAAC;oBAAE,WAAU;oBAA+B,MAAK;8BAAgD;;;;;;;;;;;;;;;;;AAGrJ;GAPwB;;QACN,mKAAA,CAAA,iBAAc;;;KADR","debugId":null}},
    {"offset": {"line": 1767, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rarsh/Documents/blaffa%20project/blaffa_site/src/components/ThemeToggle.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { useTheme } from './ThemeProvider';\r\n\r\nconst ThemeToggle: React.FC = () => {\r\n  const { theme, toggleTheme } = useTheme();\r\n  \r\n  return (\r\n    <button\r\n      onClick={toggleTheme}\r\n      className=\"flex items-center justify-center p-2 rounded-full\"\r\n      style={{ \r\n        backgroundColor: theme.mode === 'dark' ? '#374151' : '#e5e7eb',\r\n      }}\r\n      aria-label={`Switch to ${theme.mode === 'light' ? 'dark' : 'light'} mode`}\r\n    >\r\n      {theme.mode === 'light' ? (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\r\n        </svg>\r\n      ) : (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n        </svg>\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ThemeToggle;"],"names":[],"mappings":";;;;AAGA;;;AAHA;;AAKA,MAAM,cAAwB;;IAC5B,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,sIAAA,CAAA,WAAQ,AAAD;IAEtC,qBACE,6LAAC;QACC,SAAS;QACT,WAAU;QACV,OAAO;YACL,iBAAiB,MAAM,IAAI,KAAK,SAAS,YAAY;QACvD;QACA,cAAY,CAAC,UAAU,EAAE,MAAM,IAAI,KAAK,UAAU,SAAS,QAAQ,KAAK,CAAC;kBAExE,MAAM,IAAI,KAAK,wBACd,6LAAC;YAAI,OAAM;YAA6B,WAAU;YAAU,MAAK;YAAO,SAAQ;YAAY,QAAO;sBACjG,cAAA,6LAAC;gBAAK,eAAc;gBAAQ,gBAAe;gBAAQ,aAAa;gBAAG,GAAE;;;;;;;;;;iCAGvE,6LAAC;YAAI,OAAM;YAA6B,WAAU;YAAU,MAAK;YAAO,SAAQ;YAAY,QAAO;sBACjG,cAAA,6LAAC;gBAAK,eAAc;gBAAQ,gBAAe;gBAAQ,aAAa;gBAAG,GAAE;;;;;;;;;;;;;;;;AAK/E;GAvBM;;QAC2B,sIAAA,CAAA,WAAQ;;;KADnC;uCAyBS","debugId":null}},
    {"offset": {"line": 1851, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rarsh/Documents/blaffa%20project/blaffa_site/src/components/DashboardHeader.tsx"],"sourcesContent":["\r\n\"use client\";\r\nimport { useState, useEffect } from 'react'; // Removed MouseEvent import from react\r\nimport { User, Bell, Download} from 'lucide-react';\r\nimport Image from 'next/image';\r\nimport ThemeToggle from './ThemeToggle';\r\n//import LanguageToggle from './LanguageToggle';\r\nimport { useTranslation } from 'react-i18next';\r\n//import api from '@/lib/axios';\r\n\r\n\r\nconst DashboardHeader = () => {\r\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\r\n  const { t } = useTranslation();\r\n  \r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setTimeout(() => {\r\n      }, 5000);\r\n    }, 3000);\r\n  }, []);\r\n\r\n  // Close mobile menu when clicking outside\r\n  useEffect(() => {\r\n    // Use the native DOM MouseEvent type\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      // Safely check if event.target is an Element before using closest\r\n      if (showMobileMenu && event.target instanceof Element && !event.target.closest('.mobile-menu-container')) {\r\n        setShowMobileMenu(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('click', handleClickOutside);\r\n    return () => document.removeEventListener('click', handleClickOutside);\r\n  }, [showMobileMenu]);\r\n\r\n  // Explicitly type the action parameter\r\n  const handleMenuItemClick = (action: () => void) => {\r\n    setShowMobileMenu(false);\r\n    if (typeof action === 'function') {\r\n      action();\r\n    }\r\n  };\r\n\r\n  // return (\r\n  //   <>\r\n  //     <header className=\" backdrop-blur-lg border-b border-black/20 sticky top-0 z-50\">\r\n  //       <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n  //         <div className=\"flex items-center justify-between h-16\">\r\n  //           <div className=\"flex items-center space-x-4\">\r\n  //             <div className=\"flex items-center space-x-2\">\r\n  //               <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center\">\r\n  //                 <Image src=\"/logo.png\" alt=\"Logo\" width={50} height={50} className=\"rounded-full\" />\r\n  //               </div>\r\n  //               <span className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-blue-600 bg-clip-text text-transparent\">\r\n  //                 Blaffa\r\n  //               </span>\r\n  //             </div>\r\n  //           </div>\r\n            \r\n  //           <div className=\"flex items-center space-x-4\">\r\n  //               <button\r\n  //                 onClick={() => handleMenuItemClick(() => {\r\n  //                   window.location.href = 'https://api.blaffa.net/download_apk';\r\n  //                 })}\r\n  //                 className=\"w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-800 transition-colors text-left group\"\r\n  //               >\r\n  //                 <div className=\"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center group-hover:bg-blue-500/30 transition-colors\">\r\n  //                   <Download size={16} className=\"text-blue-500\" />\r\n  //                 </div>\r\n  //                 <span className=\"text-gray-400 group-hover:text-white transition-colors\">\r\n  //                   {t(\"Télécharger l'application\")}\r\n  //                 </span>\r\n  //               </button>\r\n  //             <a href='/notifications' className=\"relative p-2  hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors\">\r\n  //                 <Bell className=\"h-6 w-6\" />\r\n  //                 {/* {notifications.some((n) => !n.is_read) && (\r\n  //                   <span className=\"absolute -top-1 -right-1 text-white text-xs px-1.5 rounded-full\">\r\n  //                     {notifications.filter((n) => !n.is_read).length}\r\n  //                   </span>\r\n  //                 )} */}\r\n  //             </a>\r\n  //             <a className=\"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center relative group\" href='/profile'>\r\n  //               <User size={16} className=\"text-sm text-white font-bold group-hover:scale-110 transition-transform\"/>\r\n  //               <div className=\"absolute inset-0 bg-blue-500 rounded-full animate-ping opacity-75 duration-1000 hidden group-hover:block\"></div>\r\n  //             </a>\r\n  //             <div className=\"w-8 h-8 \"><ThemeToggle /></div>\r\n  //           </div>\r\n  //         </div>\r\n  //       </div>\r\n  //     </header>\r\n\r\n  //   </>\r\n\r\n  // );\r\n\r\n  return (\r\n  <>\r\n    <header className=\"backdrop-blur-lg border-b border-black/20 sticky top-0 z-50 overflow-x-hidden\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full\">\r\n        <div className=\"flex items-center justify-between h-16 w-full overflow-x-hidden\">\r\n          <div className=\"flex items-center space-x-4 flex-shrink-0\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              {/* <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center\">\r\n                \r\n              </div> */}\r\n              <Image src=\"/logo.png\" alt=\"Logo\" width={40} height={40} className=\"rounded-full\" />\r\n              <span className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-blue-600 bg-clip-text text-transparent\">\r\n                Blaffa\r\n              </span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-2 sm:space-x-4 flex-shrink-0\">\r\n            {/* Desktop Download Button */}\r\n            <button\r\n              onClick={() => handleMenuItemClick(() => {\r\n                window.location.href = 'https://api.blaffa.net/download_apk';\r\n              })}\r\n              className=\"hidden lg:flex px-3 py-2 items-center gap-2 hover:bg-gray-800 transition-colors text-left group rounded-lg max-w-fit\"\r\n            >\r\n              <div className=\"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center group-hover:bg-blue-500/30 transition-colors\">\r\n                <Download size={16} className=\"text-blue-500\" />\r\n              </div>\r\n              <span className=\"text-gray-400 group-hover:text-white transition-colors text-sm whitespace-nowrap\">\r\n                {t(\"Télécharger l'application\")}\r\n              </span>\r\n            </button>\r\n\r\n            {/* Mobile Download Button - Icon Only */}\r\n            <button\r\n              onClick={() => handleMenuItemClick(() => {\r\n                window.location.href = 'https://api.blaffa.net/download_apk';\r\n              })}\r\n              className=\"lg:hidden p-2 hover:bg-gray-800 transition-colors rounded-lg\"\r\n              title={t(\"Télécharger l'application\")}\r\n            >\r\n              <Download size={18} className=\"text-blue-500\" />\r\n            </button>\r\n\r\n            <a href='/notifications' className=\"relative p-2 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors\">\r\n              <Bell className=\"h-5 w-5 sm:h-6 sm:w-6\" />\r\n              {/* {notifications.some((n) => !n.is_read) && (\r\n                <span className=\"absolute -top-1 -right-1 text-white text-xs px-1.5 rounded-full\">\r\n                  {notifications.filter((n) => !n.is_read).length}\r\n                </span>\r\n              )} */}\r\n            </a>\r\n            \r\n            <a className=\"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center relative group\" href='/profile'>\r\n              <User size={16} className=\"text-sm text-white font-bold group-hover:scale-110 transition-transform\"/>\r\n              <div className=\"absolute inset-0 bg-blue-500 rounded-full animate-ping opacity-75 duration-1000 hidden group-hover:block\"></div>\r\n            </a>\r\n            \r\n            <div className=\"w-8 h-8\">\r\n              <ThemeToggle />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  </>\r\n);\r\n\r\n};\r\n\r\nexport default DashboardHeader;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rarsh/Documents/blaffa%20project/blaffa_site/src/components/Advertisement_Hero.tsx"],"sourcesContent":["\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\n//import { ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport Image from 'next/image'; // Import Next.js Image component\r\n//import { useTranslation } from 'react-i18next';\r\nimport api from '../lib/axios';\r\n\r\n// Define the type for a single slide object\r\ninterface Slide {\r\n  id: string;\r\n  image: string; // Assuming image is a URL string\r\n  content?: string; // content might be optional\r\n  created_at: string;\r\n  enable: boolean;\r\n  // Add any other properties your API returns\r\n}\r\n\r\ninterface Ad {\r\n  enable: boolean;\r\n \r\n}\r\n\r\n\r\nconst SlidingHero = ({ baseUrl = 'https://api.blaffa.net' }) => {\r\n  // Use the Slide type for the slides state\r\n  const [slides, setSlides] = useState<Slide[]>([]);\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  // Explicitly type the error state\r\n  const [error, setError] = useState<string | null>(null);\r\n  // Type imageLoaded as a record mapping string IDs to boolean\r\n  const [imageLoaded, setImageLoaded] = useState<Record<string, boolean>>({});\r\n  //const { t } = useTranslation();\r\n\r\n  // Fetch advertisements from API\r\n  useEffect(() => {\r\n    const fetchAds = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null); // Clear previous errors\r\n        const response = await api.get(`/blaffa/advertisement`);\r\n        \r\n        // With Axios, the response data is directly available in response.data\r\n        const data = response.data;\r\n        \r\n        // Ensure data.results is an array and contains objects matching Slide interface\r\n        if (Array.isArray(data.results)) {\r\n          const enabledAds: Slide[] = data.results.filter((ad: Ad) => ad.enable); // Use 'any' temporarily if structure is uncertain, or refine filter type\r\n          setSlides(enabledAds);\r\n        } else {\r\n            console.error('API response results is not an array:', data);\r\n            setSlides([]); // Set to empty array if results is not as expected\r\n        }\r\n\r\n      } catch (err: unknown) { // Catch error as unknown\r\n        console.error('Error fetching advertisements:', err);\r\n        let errorMessage = 'An unexpected error occurred.';\r\n        if (err instanceof Error) {\r\n            errorMessage = err.message;\r\n        } else if (typeof err === 'string') {\r\n            errorMessage = err;\r\n        }\r\n        setError(`Failed to load advertisements: ${errorMessage}`);\r\n        // Fallback demo data - ensure it matches the Slide interface\r\n        setSlides([\r\n          {\r\n            id: 'demo-1',\r\n            image: '/HeroImage.jpg',\r\n            content: '',\r\n            created_at: new Date().toISOString(),\r\n            enable: true\r\n          },\r\n          {\r\n            id: 'demo-2',\r\n            image: '/HeroImage2.jpg',\r\n            content: '',\r\n            created_at: new Date().toISOString(),\r\n            enable: true\r\n          }\r\n        ]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAds();\r\n  }, [baseUrl]);\r\n\r\n  // Auto-slide functionality\r\n  useEffect(() => {\r\n    if (slides.length <= 1) return;\r\n\r\n    const interval = setInterval(() => {\r\n      setCurrentSlide(prev => (prev + 1) % slides.length);\r\n    }, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [slides.length]);\r\n\r\n \r\n\r\n  const handleImageLoad = useCallback((slideId: string) => { // Explicitly type slideId\r\n    setImageLoaded(prev => ({ ...prev, [slideId]: true }));\r\n  }, []);\r\n\r\n  // Handle image error - use Next.js Image onError signature\r\n  const handleImageError = useCallback((slideId: string, e: React.SyntheticEvent<HTMLImageElement, Event>) => {\r\n      console.error(`Failed to load image for slide ${slideId}:`, e);\r\n      // Optionally set a fallback image source here if needed, though Next/Image handles some fallbacks\r\n      // e.currentTarget.src = 'fallback-image-url.jpg'; // Example fallback\r\n      setImageLoaded(prev => ({ ...prev, [slideId]: true })); // Mark as loaded even on error to show fallback/broken image\r\n  }, []);\r\n\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"relative w-full h-64 md:h-96 lg:h-[500px] bg-gradient-to-r from-gray-800 to-gray-900 flex items-center justify-center\">\r\n        <div className=\"flex space-x-2\">\r\n          <div className=\"w-3 h-3 bg-white rounded-full animate-bounce\"></div>\r\n          <div className=\"w-3 h-3 bg-white rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n          <div className=\"w-3 h-3 bg-white rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error && slides.length === 0) {\r\n    return (\r\n      <div className=\"relative w-full h-64 md:h-96 lg:h-[500px] bg-gradient-to-r from-red-900 to-red-800 flex items-center justify-center text-white\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold mb-2\">Unable to load content</h2>\r\n          <p className=\"text-red-200\">{error}</p> {/* Display the specific error message */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full h-64 md:h-96 lg:h-[500px] overflow-hidden bg-black rounded-2xl shadow-lg\">\r\n      {/* Slides Container */}\r\n      <div\r\n        className=\"flex transition-transform duration-700 ease-in-out h-full\"\r\n        style={{ transform: `translateX(-${currentSlide * 100}%)` }}\r\n      >\r\n        {/* Explicitly type the slide parameter */}\r\n        {slides.map((slide: Slide, index: number) => (\r\n          <div\r\n            key={slide.id}\r\n            className=\"relative flex-shrink-0 w-full h-full\"\r\n          >\r\n            {/* Background Image using Next.js Image */}\r\n            <div className=\"absolute inset-0\">\r\n              <Image\r\n                src={slide.image}\r\n                alt={slide.content || `Slide ${index + 1}`}\r\n                fill // Use fill to make the image cover the parent div\r\n                className={`object-cover transition-opacity duration-500 ${\r\n                  imageLoaded[slide.id] ? 'opacity-100' : 'opacity-0'\r\n                }`}\r\n                onLoad={() => handleImageLoad(slide.id)}\r\n                onError={(e) => handleImageError(slide.id, e)} // Use the new error handler\r\n                sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\" // Define appropriate sizes\r\n                priority={index === 0} // Prioritize loading the first image\r\n              />\r\n              {/* Gradient Overlay */}\r\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent\"></div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n              <div className=\"text-center text-white px-4 max-w-4xl\">\r\n                <h1 className=\"text-2xl md:text-4xl lg:text-6xl font-bold mb-4 leading-tight drop-shadow-lg\">\r\n                  {slide.content}\r\n                </h1>\r\n                {/* <div className=\"w-20 h-1 bg-gradient-to-r from-blue-400 to-purple-600 mx-auto rounded-full\"></div> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Navigation Arrows */}\r\n      {slides.length > 1 && (\r\n        <>\r\n          {/* <button\r\n            onClick={prevSlide}\r\n            className=\"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white p-2 md:p-3 rounded-full transition-all duration-300 hover:scale-110 z-10\" // Added z-10 to ensure arrows are above images\r\n            aria-label=\"Previous slide\"\r\n          >\r\n            <ChevronLeft className=\"w-5 h-5 md:w-6 md:h-6\" />\r\n          </button>\r\n\r\n          <button\r\n            onClick={nextSlide}\r\n            className=\"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white p-2 md:p-3 rounded-full transition-all duration-300 hover:scale-110 z-10\" // Added z-10\r\n            aria-label=\"Next slide\"\r\n          >\r\n            <ChevronRight className=\"w-5 h-5 md:w-6 md:h-6\" />\r\n          </button> */}\r\n        </>\r\n      )}\r\n\r\n      {/* Dots Indicator */}\r\n      {/* {slides.length > 1 && (\r\n        <div className=\"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2 z-10\"> \r\n          {slides.map((_, index) => (\r\n            <button\r\n              key={index}\r\n              onClick={() => goToSlide(index)}\r\n              className={`w-3 h-3 rounded-full transition-all duration-300 ${\r\n                index === currentSlide\r\n                  ? 'bg-white scale-125'\r\n                  : 'bg-white/50 hover:bg-white/75'\r\n              }`}\r\n              aria-label={`Go to slide ${index + 1}`}\r\n            />\r\n          ))}\r\n        </div>\r\n      )} */}\r\n\r\n      {/* Progress Bar */}\r\n      {/* {slides.length > 1 && (\r\n        <div className=\"absolute bottom-0 left-0 w-full h-1 bg-white/20 z-10\"> \r\n          <div\r\n            className=\"h-full bg-gradient-to-r from-blue-400 to-purple-600 transition-all duration-700 ease-in-out\"\r\n            style={{ width: `${((currentSlide + 1) / slides.length) * 100}%` }}\r\n          />\r\n        </div>\r\n      )} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SlidingHero;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2458, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rarsh/Documents/blaffa%20project/blaffa_site/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from 'react';\r\n//import DashboardHeader from '@/components/DashboardHeader';\r\nimport TransactionHistory from '@/components/TransactionHistory';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Footer from '@/components/footer';\r\nimport { useTheme } from '../../components/ThemeProvider';\r\nimport DashboardHeader from '@/components/DashboardHeader';\r\n\r\n//import Advertisement_Hero from '@/components/Advertisement_Hero';\r\n//import { ArrowDownLeft, ArrowUpRight, Ticket, CreditCard } from 'lucide-react';\r\nimport { \r\n  ArrowDownLeft, \r\n  ArrowUpRight, \r\n  Gift, \r\n  Coins,\r\n  // Bell,\r\n  \r\n} from 'lucide-react';\r\nimport Image from 'next/image'\r\n//import ThemeToggle from '../../components/ThemeToggle';\r\nimport Advertisement_Hero from '../../components/Advertisement_Hero';\r\n//import notifications from '../notifications/page'\r\n\r\n\r\nexport default function Dashboard() {\r\n  const { t } = useTranslation();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  // const [animateHeader, setAnimateHeader] = useState(false);\r\n  const { theme } = useTheme();\r\n\r\n  \r\n  useEffect(() => {\r\n    const savedTheme = localStorage.getItem('theme') || 'dark';\r\n    document.documentElement.classList.toggle('dark', savedTheme === 'dark');\r\n  }, []);\r\n  \r\n  \r\n  \r\n  // Simulates loading state\r\n  useEffect(() => {\r\n    // setAnimateHeader(true);\r\n    setTimeout(() => {\r\n      setIsLoading(false);\r\n    }, 1000);\r\n    \r\n    // Show a notification after 3 seconds\r\n   \r\n    \r\n    // Trigger header animation\r\n    setTimeout(() => {\r\n      // setAnimateHeader(true);\r\n    }, 500);\r\n  }, []);\r\n \r\n  return (\r\n    <div className={`min-h-screen bg-gradient-to-br ${theme.colors.a_background} font-sans relative overflow-hidden`}>\r\n      {/* Background gradient effects */}\r\n      <div className=\"absolute top-20 -left-10 w-40 h-40 bg-blue-700/20 rounded-full blur-3xl animate-pulse-slow\"></div>\r\n      <div className=\"absolute bottom-20 right-10 w-60 h-60 bg-blue-700/10 rounded-full blur-3xl animate-pulse-slow\"></div>\r\n      \r\n      {/* Loading overlay */}\r\n      {isLoading && (\r\n        <div className=\"absolute inset-0 bg-gray-900/90 z-50 flex items-center justify-center\">\r\n          <div className=\"flex flex-col items-center gap-3\">\r\n            <div className=\"w-16 h-16 border-4 border-gray-700 border-t-blue-500 rounded-full animate-spin\"></div>\r\n            <p className=\"text-gray-400\">Loading Blaffa...</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Header */}\r\n      <DashboardHeader />\r\n      \r\n      {/* Main Content */}\r\n      <main className=\"py-4 md:py-6 px-4 md:px-6\">\r\n        {/* Welcome Section */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold mb-2\">Bienvenue sur Blaffa</h1>\r\n          <p className=\" \">Gérez vos finances en toute simplicité</p>\r\n        </div>\r\n\r\n        <div className={`relative overflow-hidden rounded-3xl -mx-4 px-4 md:mx-0 md:px-8 py-4 md:py-8 `}>\r\n         <Advertisement_Hero />\r\n        </div>\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n            {/* Main Content */}\r\n            <div className=\"lg:col-span-2 space-y-6\">\r\n              {/* Balance Card */}\r\n              {/* relative overflow-hidden bg-gradient-to-br ${theme.colors.a_background} rounded-3xl p-8 text-white */}\r\n              <div className={`md:relative md:overflow-hidden md:bg-gradient-to-br md:${theme.colors.a_background} md:rounded-3xl p-4 md:p-8 md:text-white`}>\r\n                <div className=\"hidden md:block absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16\"></div>\r\n                <div className=\"hidden md:block absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12\"></div>\r\n              \r\n                <div className=\"relative z-10\">\r\n                  {/* Mobile Layout (5 buttons in a row with square icons) */}\r\n                  <div className=\"flex gap-1 justify-center md:hidden\">\r\n                    {/* Crypto Button */}\r\n                    <a href=\"/crypto\" className=\"group relative flex-1 flex flex-col items-center justify-center p-2 transition-all duration-300 active:scale-95\">\r\n                      <div className=\"w-12 h-12 rounded-lg bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center mb-1 group-active:scale-90 transition-transform shadow-lg shadow-yellow-500/25\">\r\n                        <Coins size={20} className=\"text-white drop-shadow-sm\" />\r\n                      </div>\r\n                      <span className=\"font-medium text-[10px] \">{t(\"Crypto\")}</span>\r\n                    </a>\r\n                    {/* Deposit Button */}\r\n                    <a href=\"/deposit\" className=\"group relative flex-1 flex flex-col items-center justify-center p-2 transition-all duration-300 active:scale-95\">\r\n                      <div className=\"w-12 h-12 rounded-lg bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center mb-1 group-active:scale-90 transition-transform shadow-lg shadow-red-500/25\">\r\n                        <ArrowUpRight size={20} className=\"text-white drop-shadow-sm\" />\r\n                      </div>\r\n                      <span className=\"font-medium text-[10px] \">{t(\"Deposit\")}</span>\r\n                    </a>\r\n                    {/* Withdraw Button */}\r\n                    <a href=\"/withdraw\" className=\"group relative flex-1 flex flex-col items-center justify-center p-2 transition-all duration-300 active:scale-95\">\r\n                      <div className=\"w-12 h-12 rounded-lg bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center mb-1 group-active:scale-90 transition-transform shadow-lg shadow-blue-500/25\">\r\n                        <ArrowDownLeft size={20} className=\"text-white drop-shadow-sm\" />\r\n                      </div>\r\n                      <span className=\"font-medium text-[10px] \">{t(\"Withdraw\")}</span>\r\n                    </a>\r\n                    {/* Coupon Button */}\r\n                    <a href=\"/coupon\" className=\"group relative flex-1 flex flex-col items-center justify-center p-2 transition-all duration-300 active:scale-95\">\r\n                      <div className=\"w-12 h-12 rounded-lg bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center mb-1 group-active:scale-90 transition-transform shadow-lg shadow-orange-500/25\">\r\n                        <Gift size={20} className=\"text-white drop-shadow-sm\" />\r\n                      </div>\r\n                      <span className=\"font-medium text-[10px] \">{t(\"Coupon\")}</span>\r\n                    </a>\r\n                  </div>\r\n\r\n                  {/* Desktop Layout (Grid) - Same as first code */}\r\n                  <div className=\"hidden md:grid grid-cols-4 gap-4\">\r\n                    {/* Crypto */}\r\n                    <a href=\"/crypto\" className=\"bg-gradient-to-br from-yellow-400 to-yellow-600 backdrop-blur-sm rounded-2xl p-4 hover:bg-white/15 transition-all duration-300 cursor-pointer group border border-white/5 hover:border-white/20\">\r\n                      <div className=\"flex flex-col lg:flex-row lg:items-center lg:gap-3\">\r\n                        <div className=\"relative mb-3 lg:mb-0\">\r\n                          <div className=\"w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-yellow-500/25\">\r\n                            <Coins className=\"w-6 h-6 text-white drop-shadow-sm\" />\r\n                          </div>\r\n                          <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-300 rounded-full opacity-60 group-hover:opacity-80 transition-opacity\"></div>\r\n                        </div>\r\n                        <span className=\"text-sm font-medium text-white/90 group-hover:text-white transition-colors\">\r\n                          {t(\"Crypto\")}\r\n                        </span>\r\n                      </div>\r\n                    </a>\r\n                    {/* Déposer */}\r\n                    <a href=\"/deposit\" className=\"bg-gradient-to-br from-red-400 to-red-600 backdrop-blur-sm rounded-2xl p-4 hover:bg-white/15 transition-all duration-300 cursor-pointer group border border-white/5 hover:border-white/20\">\r\n                      <div className=\"flex flex-col lg:flex-row lg:items-center lg:gap-3\">\r\n                        <div className=\"relative mb-3 lg:mb-0\">\r\n                          <div className=\"w-12 h-12 bg-gradient-to-br from-red-400 to-red-600 rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-red-500/25\">\r\n                            <ArrowUpRight className=\"w-6 h-6 text-white drop-shadow-sm\" />\r\n                          </div>\r\n                          <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-red-300 rounded-full opacity-60 group-hover:opacity-80 transition-opacity\"></div>\r\n                        </div>\r\n                        <span className=\"text-sm font-medium text-white/90 group-hover:text-white transition-colors\">\r\n                          {t(\"Deposit\")}\r\n                        </span>\r\n                      </div>\r\n                    </a>\r\n                    {/* Retirer */}\r\n                    <a href=\"/withdraw\" className=\"bg-gradient-to-br from-blue-400 to-blue-600 backdrop-blur-sm rounded-2xl p-4 hover:bg-white/15 transition-all duration-300 cursor-pointer group border border-white/5 hover:border-white/20\">\r\n                      <div className=\"flex flex-col lg:flex-row lg:items-center lg:gap-3\">\r\n                        <div className=\"relative mb-3 lg:mb-0\">\r\n                          <div className=\"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-blue-500/25\">\r\n                            <ArrowDownLeft className=\"w-6 h-6 text-white drop-shadow-sm\" />\r\n                          </div>\r\n                          <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-blue-300 rounded-full opacity-60 group-hover:opacity-80 transition-opacity\"></div>\r\n                        </div>\r\n                        <span className=\"text-sm font-medium text-white/90 group-hover:text-white transition-colors\">\r\n                          {t(\"Withdraw\")}\r\n                        </span>\r\n                      </div>\r\n                    </a>\r\n                    {/* Coupon */}\r\n                    <a href=\"/coupon\" className=\"bg-gradient-to-br from-orange-400 to-orange-600 backdrop-blur-sm rounded-2xl p-4 hover:bg-white/15 transition-all duration-300 cursor-pointer group border border-white/5 hover:border-white/20\">\r\n                      <div className=\"flex flex-col lg:flex-row lg:items-center lg:gap-3\">\r\n                        <div className=\"relative mb-3 lg:mb-0\">\r\n                          <div className=\"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-orange-500/25\">\r\n                            <Gift className=\"w-6 h-6 text-white drop-shadow-sm\" />\r\n                          </div>\r\n                          <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-orange-300 rounded-full opacity-60 group-hover:opacity-80 transition-opacity\"></div>\r\n                        </div>\r\n                        <span className=\"text-sm font-medium text-white/90 group-hover:text-white transition-colors\">\r\n                          {t(\"Coupon\")}\r\n                        </span>\r\n                      </div>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <br/>\r\n\r\n        {/**/}\r\n        {/* Transaction History */}\r\n        <TransactionHistory/>\r\n\r\n        <div className=\"relative mb-4\">\r\n          <a \r\n            href=\"https://wa.me/+2250566643821\" \r\n            target=\"_blank\" \r\n            rel=\"noopener noreferrer\"\r\n            className=\"group fixed bottom-24 right-6 z-40 flex items-center justify-center w-16 h-16 md:w-20 md:h-20 bg-green-500 hover:bg-green-600 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 active:scale-95\"\r\n          >\r\n            {/* Pulsing ring effect */}\r\n            <div className=\"absolute inset-0 rounded-full bg-green-400 animate-ping opacity-75\"></div>\r\n            <div className=\"absolute inset-0 rounded-full bg-green-500 animate-pulse\"></div>\r\n            \r\n            {/* WhatsApp Icon */}\r\n            <Image src='/whatsapp.png' width=\"64\" height=\"64\" className=\"text-white relative z-10 md:w-10 md:h-10\" alt='whatsapp' />\r\n            \r\n            \r\n            {/* Tooltip */}\r\n            <div className=\"absolute right-full mr-3 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white px-3 py-2 rounded-lg text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap\">\r\n              Contact us on WhatsApp\r\n              <div className=\"absolute top-1/2 left-full transform -translate-y-1/2 border-4 border-transparent border-l-gray-900\"></div>\r\n            </div>\r\n          </a>\r\n        </div>\r\n        \r\n        <Footer/>\r\n        \r\n      </main>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}