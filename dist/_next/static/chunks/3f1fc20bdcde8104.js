(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],71689)},95468,e=>{"use strict";let s=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],95468)},95896,e=>{"use strict";var s=e.i(43476),t=e.i(71645),l=e.i(18566),a=e.i(71689),r=e.i(95468);let i=(0,e.i(75254).default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var o=e.i(59919),c=e.i(63816);e.s(["default",0,()=>{let{theme:e}=(0,o.useTheme)(),d=(0,l.useRouter)(),[n,u]=(0,t.useState)(!1),[m,x]=(0,t.useState)([]),[b,p]=(0,t.useState)(!0),[h,f]=(0,t.useState)(""),[g,y]=(0,t.useState)("single"),[j,N]=(0,t.useState)(""),[v,k]=(0,t.useState)(null),[w,C]=(0,t.useState)(null),[$,S]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{let e=await c.default.get("/blaffa/app_name?operation_type=coupon");200===e.status&&x(e.data||[])}catch(e){console.error("Error fetching platforms:",e)}finally{p(!1)}})()},[]);let z=async()=>{if(v&&j){u(!0),C(null);try{let e=await c.default.post("/blaffa/coupon",{bet_app_id:v,code:h,cote:j,coupon_type:g});201===e.status&&(S(!0),setTimeout(()=>{d.push("/coupon")},2e3))}catch(e){console.error("Error creating coupon:",e),C(e.response?.data?.error||e.response?.data?.detail||"Une erreur est survenue lors de la création du coupon.")}finally{u(!1)}}};return(0,s.jsxs)("div",{className:`min-h-screen ${e.colors.a_background} font-sans pb-24`,children:[(0,s.jsx)("header",{className:"sticky top-0 z-50 bg-transparent",children:(0,s.jsxs)("div",{className:"w-full px-6 h-20 flex items-center",children:[(0,s.jsx)("button",{onClick:()=>d.back(),className:`p-2 -ml-2 rounded-full ${e.colors.hover} transition-colors`,children:(0,s.jsx)(a.ArrowLeft,{className:e.colors.text,size:28})}),(0,s.jsx)("h1",{className:`flex-1 text-center text-xl font-bold ${e.colors.text} pr-8`,children:"Informations de base"})]})}),(0,s.jsxs)("main",{className:"w-full px-6 space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-start",children:[(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{className:`block text-sm font-semibold ${e.colors.text}`,children:"Code du coupon"}),(0,s.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"Ex: COUP123",className:`w-full p-5 rounded-2xl border ${"dark"===e.mode?"bg-slate-800 border-slate-700 text-white":"bg-white border-gray-200 text-gray-900"} focus:ring-2 focus:ring-blue-500 outline-none transition-all placeholder:text-gray-400`})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{className:`block text-sm font-semibold ${e.colors.text}`,children:"Type de coupon"}),(0,s.jsx)("div",{className:"space-y-3",children:[{id:"single",label:"Simple"},{id:"combine",label:"Combiné"}].map(t=>(0,s.jsxs)("button",{onClick:()=>y(t.id),className:`w-full p-5 rounded-2xl border flex items-center justify-between transition-all ${g===t.id?"border-blue-700 bg-blue-50/50 dark:bg-blue-900/20":"dark"===e.mode?"border-slate-800 bg-slate-800":"border-gray-200 bg-white"}`,children:[(0,s.jsx)("span",{className:`font-medium ${e.colors.text}`,children:t.label}),g===t.id?(0,s.jsx)(r.CheckCircle2,{size:24,className:"text-[#002d72]"}):(0,s.jsx)(i,{size:24,className:"text-gray-300"})]},t.id))})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{className:`block text-sm font-semibold ${e.colors.text}`,children:"Côte totale"}),(0,s.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"Ex: 2.50",className:`w-full p-5 rounded-2xl border ${"dark"===e.mode?"bg-slate-800 border-slate-700 text-white":"bg-white border-gray-200 text-gray-900"} focus:ring-2 focus:ring-blue-500 outline-none transition-all placeholder:text-gray-400`})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("label",{className:`block text-sm font-semibold ${e.colors.text}`,children:"Bookmaker"}),(0,s.jsx)("div",{className:"space-y-3",children:b?[1,2,3].map(t=>(0,s.jsx)("div",{className:`h-20 rounded-2xl animate-pulse ${"dark"===e.mode?"bg-slate-800":"bg-gray-100"}`},t)):m.map(t=>(0,s.jsxs)("button",{onClick:()=>k(t.id),className:`w-full p-5 rounded-2xl border flex items-center transition-all ${v===t.id?"border-blue-700 bg-blue-50/50 dark:bg-blue-900/20":"dark"===e.mode?"border-slate-800 bg-slate-800":"border-gray-200 bg-white"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gray-50 flex items-center justify-center p-2 border border-gray-100 shrink-0",children:(0,s.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-full object-contain"})}),(0,s.jsx)("span",{className:`font-semibold text-lg ${e.colors.text}`,children:t.public_name||t.name})]}),v===t.id?(0,s.jsx)(r.CheckCircle2,{size:24,className:"text-[#002d72]"}):(0,s.jsx)(i,{size:24,className:"text-gray-300"})]},t.id))})]})]}),w&&(0,s.jsx)("div",{className:"p-4 rounded-xl bg-red-50 border border-red-100 text-red-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:w}),$&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-green-50 border border-green-100 text-green-600 text-sm font-medium animate-in fade-in slide-in-from-top-2 flex items-center gap-2",children:[(0,s.jsx)(r.CheckCircle2,{size:18}),"Coupon créé avec succès ! Redirection..."]})]}),(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-transparent pointer-events-none",children:(0,s.jsx)("div",{className:"w-full pointer-events-auto",children:(0,s.jsx)("button",{onClick:z,disabled:n||!v||!j,className:"w-full h-18 bg-[#002d72] active:bg-[#001d4a] text-white font-bold text-xl rounded-2xl shadow-xl transition-all active:scale-[0.98] disabled:opacity-50 py-5 flex items-center justify-center",children:n?(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Suivant"})})})]})}],95896)}]);