(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{622:(e,t,r)=>{Promise.resolve().then(r.bind(r,7327))},4830:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var s=r(5155),a=r(2115),o=r(3861),l=r(1007),n=r(6766),c=r(7280);let i=()=>{let{theme:e,toggleTheme:t}=(0,c.D)();return(0,s.jsx)("button",{onClick:t,className:"flex items-center justify-center p-2 rounded-full",style:{backgroundColor:"dark"===e.mode?"#374151":"#e5e7eb"},"aria-label":"Switch to ".concat("light"===e.mode?"dark":"light"," mode"),children:"light"===e.mode?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};var d=r(1218);let m=()=>{let[e,t]=(0,a.useState)(!1),{t:r}=(0,d.Bd)();return(0,a.useEffect)(()=>{setTimeout(()=>{setTimeout(()=>{},5e3)},3e3)},[]),(0,a.useEffect)(()=>{let r=r=>{e&&r.target instanceof Element&&!r.target.closest(".mobile-menu-container")&&t(!1)};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)},[e]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("header",{className:"backdrop-blur-lg border-b border-black/20 sticky top-0 z-50 overflow-x-hidden",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16 w-full overflow-x-hidden",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(n.default,{src:"/logo.png",alt:"Logo",width:40,height:40,className:"rounded-full"}),(0,s.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-blue-600 bg-clip-text text-transparent",children:"Blaffa"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[(0,s.jsx)("a",{href:"/notifications",className:"relative p-2 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors",children:(0,s.jsx)(o.A,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),(0,s.jsxs)("a",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center relative group",href:"/profile",children:[(0,s.jsx)(l.A,{size:16,className:"text-sm text-white font-bold group-hover:scale-110 transition-transform"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-blue-500 rounded-full animate-ping opacity-75 duration-1000 hidden group-hover:block"})]}),(0,s.jsx)("div",{className:"w-8 h-8",children:(0,s.jsx)(i,{})})]})]})})})})}},5077:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(3464);let a="https://api.blaffa.net",o=s.A.create({baseURL:a,headers:{"Content-Type":"application/json"}}),l=!1,n=[],c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.forEach(r=>{e?r.reject(e):r.resolve(t)}),n=[]};o.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!r._retry){if(l)return new Promise((e,t)=>{n.push({resolve:e,reject:t})}).then(e=>(r.headers.Authorization="Bearer ".concat(e),o(r))).catch(e=>Promise.reject(e));r._retry=!0,l=!0;try{let t=localStorage.getItem("refreshToken");if(!t)return localStorage.removeItem("accessToken"),window.location.href="/auth",Promise.reject(e);let{access:l,refresh:n}=(await s.A.post("".concat(a,"/auth/refresh"),{refresh:t},{headers:{"Content-Type":"application/json"}})).data;return localStorage.setItem("accessToken",l),n&&localStorage.setItem("refreshToken",n),o.defaults.headers.common.Authorization="Bearer ".concat(l),r.headers.Authorization="Bearer ".concat(l),c(null,l),o(r)}catch(e){return console.error("Failed to refresh token:",e),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/auth",c(e),Promise.reject(e)}finally{l=!1}}return Promise.reject(e)});let i=o},7280:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,N:()=>n});var s=r(5155),a=r(2115);let o={light:{mode:"light",colors:{primary:"#0070f3",secondary:"#0ea5e9",s_text:"text-blue-600",d_text:"text-slate-900",s_background:"from-slate-100/80 to-slate-200/80",sl_background:"bg-slate-100",c_background:"bg-slate-100/50",a_background:"from-slate-100 via-blue-100 to-slate-50",background:"bg-slate-50",text:"#1f2937",accent:"#8b5cf6",hover:"hover:bg-gray-100"},values:{borderRadius:"0.5rem",fontSizes:{small:"0.875rem",medium:"1rem",large:"1.25rem"},spacing:{small:"0.5rem",medium:"1rem",large:"2rem"}}},dark:{mode:"dark",colors:{primary:"#3b82f6",secondary:"#0ea5e9",s_text:"text-blue-300",d_text:"text-slate-300",s_background:"from-slate-800/80 to-slate-700/80",sl_background:"bg-slate-900",c_background:"bg-slate-800/50",a_background:"from-slate-900 via-blue-900 to-slate-800",background:"bg-slate-800",text:"#f9fafb",accent:"#a78bfa",hover:"hover:bg-gray-700"},values:{borderRadius:"0.5rem",fontSizes:{small:"0.875rem",medium:"1rem",large:"1.25rem"},spacing:{small:"0.5rem",medium:"1rem",large:"2rem"}}}},l=(0,a.createContext)(void 0),n=e=>{let{children:t}=e,[r,n]=(0,a.useState)("light"),[c,i]=(0,a.useState)(!1),d=e=>{n(e),c&&(localStorage.setItem("theme",e),m(e))},m=e=>{let t=document.documentElement,r=o[e];if(!r||!r.colors||!r.values)return void console.warn("Theme '".concat(e,"' not found or incomplete"));Object.entries(r.colors).forEach(e=>{let[r,s]=e;"string"==typeof s&&s.startsWith("#")&&t.style.setProperty("--color-".concat(r),s)}),t.style.setProperty("--border-radius",r.values.borderRadius),Object.entries(r.values.fontSizes).forEach(e=>{let[r,s]=e;t.style.setProperty("--font-size-".concat(r),s)}),Object.entries(r.values.spacing).forEach(e=>{let[r,s]=e;t.style.setProperty("--spacing-".concat(r),s)}),t.setAttribute("data-theme",e)};if((0,a.useEffect)(()=>{let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=e||(t?"dark":"light");n(r),m(r),i(!0);let s=window.matchMedia("(prefers-color-scheme: dark)"),a=e=>{if(!localStorage.getItem("theme")){let t=e.matches?"dark":"light";n(t),m(t)}};return s.addEventListener("change",a),()=>s.removeEventListener("change",a)},[]),!c)return null;let u=o[r];return u?(0,s.jsx)(l.Provider,{value:{theme:u,setTheme:d,toggleTheme:()=>{d("light"===r?"dark":"light")}},children:(0,s.jsx)("div",{className:"".concat(r,"-theme"),children:t})}):(console.error("Invalid theme mode: ".concat(r)),null)},c=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},7327:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(5155),a=r(2115),o=r(8126),l=r.n(o),n=r(1218),c=r(7280),i=r(5077),d=r(4830);let m=()=>{let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!0),[m,u]=(0,a.useState)(null),[h,x]=(0,a.useState)(!1),{t:f}=(0,n.Bd)(),{theme:b}=(0,c.D)();(0,a.useEffect)(()=>{let e=localStorage.getItem("accessToken");if(!e){console.error(f("No access token found.")),window.location.href="/";return}g(e)},[]);let g=async e=>{try{o(!0),u(null);let r=await i.A.get("/blaffa/coupon",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(200!==r.status){let e=await r.data.catch(()=>({message:"Unknown error"}));throw Error("HTTP error! status: ".concat(r.status,", message: ").concat(e.message||r.statusText))}let s=await r.data;console.log("API Response:",s),s&&s.results&&Array.isArray(s.results)?t(s.results):Array.isArray(s)?t(s):(console.error("API response results is not an array:",s),t([]))}catch(e){console.error("Error fetching coupons:",e)}finally{o(!1)}},p=e=>{navigator.clipboard.writeText(e),x(!0),setTimeout(()=>x(!1),2e3)};return r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:"Coupons - blaffa"}),(0,s.jsx)("meta",{name:"description",content:"View all available coupons"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br ".concat(b.colors.a_background," flex items-center justify-center p-4"),children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"relative mb-6",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500/30 border-t-blue-500 mx-auto"}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/20 to-blue-500/20 animate-pulse"})]}),(0,s.jsx)("p",{className:"text-slate-300 text-lg font-medium",children:"Loading coupons..."})]})})]}):m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:"Coupons - blaffa"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br ".concat(b.colors.a_background," flex items-center justify-center p-4"),children:(0,s.jsxs)("div",{className:"text-center max-w-md bg-gradient-to-r from-slate-800/80 to-slate-700/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-slate-600/50 p-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-red-500/20 to-red-600/20 text-red-400 shadow-lg shadow-red-500/20 flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Error Loading Coupons"}),(0,s.jsx)("p",{className:"text-slate-400 mb-6 leading-relaxed",children:m}),(0,s.jsx)("button",{onClick:()=>{let e=localStorage.getItem("accessToken");e?g(e):(console.error(f("No access token found for retry.")),window.location.href="/")},className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-600 hover:from-blue-500 hover:to-blue-500 text-white rounded-xl transition-all duration-300 font-medium shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 hover:scale-105",children:"Try Again"})]})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:"Coupons - blaffa"}),(0,s.jsx)("meta",{name:"description",content:"View all available coupons from blaffa"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br ".concat(b.colors.a_background," p-4"),children:[(0,s.jsx)(d.A,{}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:f("Available Coupons")}),(0,s.jsx)("p",{className:"text-slate-400",children:"Discover amazing deals and offers"})]}),(0,s.jsx)("div",{className:"flex items-center gap-4 mt-4 md:mt-0",children:(0,s.jsxs)("button",{onClick:()=>window.history.back(),className:"flex items-center text-white bg-gradient-to-r from-slate-700/50 to-slate-600/50 hover:from-slate-600/50 hover:to-slate-500/50 px-6 py-3 rounded-xl border border-slate-600/30 hover:border-slate-500/50 transition-all duration-300 backdrop-blur-sm shadow-lg hover:shadow-xl group",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 group-hover:-translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),f("Back")]})})]}),(0,s.jsx)("div",{className:"bg-gradient-to-r ".concat(b.colors.s_background," backdrop-blur-sm rounded-3xl shadow-2xl border border-slate-600/50 overflow-hidden"),children:(0,s.jsx)("div",{className:"p-8",children:e&&0!==e.length?(0,s.jsx)("div",{className:"flex flex-col gap-6",children:e.map((e,t)=>{var r,a;return e?(0,s.jsx)("div",{className:"rounded-2xl shadow p-6 bg-gradient-to-br ".concat(b.colors.s_background),style:{borderRadius:"1rem"},children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"font-bold text-base ",children:"App"}),(0,s.jsx)("span",{className:"text-base ",children:(null==(r=e.bet_app)?void 0:r.public_name)||(null==(a=e.bet_app)?void 0:a.name)||"Unknown"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"font-bold text-base",children:"Code"}),(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-base tracking-widest ",children:e.code||(e.id?e.id.slice(0,8):"N/A")}),(0,s.jsx)("button",{onClick:()=>p(e.code||(e.id?e.id.slice(0,8):"N/A")),className:"p-1 rounded hover:bg-gray-200","aria-label":"Copy code",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("rect",{x:"3",y:"3",width:"13",height:"13",rx:"2",stroke:"currentColor",strokeWidth:"2"})]})}),h&&(0,s.jsx)("span",{className:"text-xs text-green-600 ml-1",children:"Copied!"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"font-bold text-base ",children:"Date"}),(0,s.jsx)("span",{className:"text-base ",children:e.created_at?e.created_at.slice(0,10):"N/A"})]})]})},e.id||t):(console.warn("Undefined coupon at index:",t),null)})}):(0,s.jsx)("div",{className:"rounded-2xl shadow p-6 text-center bg-gradient-to-br ".concat(b.colors.s_background),style:{borderRadius:"1rem"},children:(0,s.jsx)("div",{className:" font-semibold",children:"Aucun coupon disponible."})})})})]})]})]})}},8126:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{var t=t=>e(e.s=t);e.O(0,[218,464,928,441,684,358],()=>t(622)),_N_E=e.O()}]);