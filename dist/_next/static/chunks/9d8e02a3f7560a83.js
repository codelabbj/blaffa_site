(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36159,(e,t,s)=>{"use strict";function a(){return null}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return a}}),("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},74886,e=>{"use strict";let t=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},70273,e=>{"use strict";let t=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},75623,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(36159),l=e.i(59919),r=e.i(63816),d=e.i(18566),n=e.i(71689),i=e.i(70273),o=e.i(75254);let c=(0,o.default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),x=(0,o.default)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var m=e.i(74886),u=e.i(43531),h=e.i(7233);let p=(0,o.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),f=(0,o.default)("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);e.s(["default",0,()=>{let[e,o]=(0,s.useState)([]),[b,g]=(0,s.useState)(null),[j,y]=(0,s.useState)([]),[k,N]=(0,s.useState)(null),[v,_]=(0,s.useState)(!0),[w,$]=(0,s.useState)(!0),[M,C]=(0,s.useState)(null),[z,S]=(0,s.useState)(null),{theme:A}=(0,l.useTheme)(),E=(0,d.useRouter)(),F=async()=>{try{let e=await r.default.get("/blaffa/app_name?operation_type=coupon");200===e.status&&o(e.data||[])}catch(e){console.error("Error fetching platforms:",e)}finally{$(!1)}},T=async(e=null)=>{_(!0);try{let t=e?`/blaffa/coupon?bet_app=${e}`:"/blaffa/coupon",s=await r.default.get(t);if(200===s.status){let e=s.data;y(e.results||e||[])}}catch(e){console.error("Error fetching coupons:",e),C("Failed to load coupons.")}finally{_(!1)}},H=async()=>{if(localStorage.getItem("accessToken"))try{let e=await r.default.get("/auth/me");if(200===e.status){let t=e.data;N({first_name:t.first_name,last_name:t.last_name,email:t.email,can_publish_coupons:t.can_publish_coupons,is_staff:t.is_staff})}}catch(e){console.error("Error fetching profile:",e)}};(0,s.useEffect)(()=>{F(),T(),H()},[]),(0,s.useEffect)(()=>{null!==b?T(b):T()},[b]);let P=(e,t)=>e||t?`${(e||"").charAt(0)}${(t||"").charAt(0)}`.toUpperCase():"??";return(0,t.jsxs)("div",{className:`${A.colors.a_background} font-sans`,children:[(0,t.jsx)(a.default,{children:(0,t.jsx)("title",{children:"Coupons - Blaffa"})}),(0,t.jsx)("header",{className:"bg-transparent sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"w-full px-6 h-16 flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:()=>E.back(),className:`p-2 -ml-2 rounded-full ${A.colors.hover} transition-colors`,children:(0,t.jsx)(n.ArrowLeft,{className:A.colors.text,size:24})}),(0,t.jsx)("h1",{className:`text-lg font-bold ${A.colors.text}`,children:"Coupon"}),(0,t.jsx)("div",{className:"w-8"})]})}),(0,t.jsxs)("main",{className:"w-full p-6 space-y-6",children:[(0,t.jsxs)("div",{className:`${A.colors.a_background} p-5 rounded-3xl shadow-[0_4px_20px_rgba(0,0,0,0.03)] flex flex-col gap-6 border ${"dark"===A.mode?"border-slate-800":"border-gray-50"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-12 h-12 rounded-xl ${"dark"===A.mode?"bg-slate-700":"bg-[#E8E8E8]"} flex items-center justify-center ${"dark"===A.mode?"text-slate-300":"text-[#999999]"} font-bold text-lg`,children:P(k?.first_name,k?.last_name)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:`font-bold text-base ${A.colors.text}`,children:k?`${k.first_name} ${k.last_name}`:"Anonyme"}),(0,t.jsx)("div",{className:"flex gap-0.5 mt-0.5",children:[1,2,3,4,5].map(e=>(0,t.jsx)(i.Star,{size:14,className:e<=4?"fill-yellow-400 text-yellow-400":"text-gray-200 fill-gray-200"},e))})]})]}),(k?.can_publish_coupons||k?.is_staff)&&(0,t.jsx)("button",{onClick:()=>E.push("/coupon/create"),className:"w-10 h-10 rounded-xl bg-[#002d72] flex items-center justify-center text-white shadow-lg active:scale-95 transition-transform",children:(0,t.jsx)(h.Plus,{size:24,strokeWidth:3})})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:`flex-1 ${A.colors.a_background} border ${"dark"===A.mode?"border-slate-800":"border-gray-100"} rounded-2xl p-3 text-center`,children:[(0,t.jsx)("div",{className:`text-xl font-black ${"dark"===A.mode?"text-blue-400":"text-[#002d72]"} leading-none`,children:"0"}),(0,t.jsx)("div",{className:`text-xs ${A.colors.d_text} opacity-60 font-medium mt-1`,children:"Mes coupons"})]}),(0,t.jsxs)("div",{className:`flex-1 ${A.colors.a_background} border ${"dark"===A.mode?"border-slate-800":"border-gray-100"} rounded-2xl p-3 text-center`,children:[(0,t.jsx)("div",{className:"text-xl font-black text-green-600 leading-none",children:"0 FCFA"}),(0,t.jsx)("div",{className:`text-xs ${A.colors.d_text} opacity-60 font-medium mt-1`,children:"Bonus"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide",children:[(0,t.jsxs)("button",{onClick:()=>g(null),className:`flex-shrink-0 ${A.colors.a_background} px-4 py-3 rounded-2xl shadow-[0_2px_10px_rgba(0,0,0,0.02)] flex items-center gap-2 border transition-all
              ${null===b?"border-blue-600 ring-2 ring-blue-600/20":"dark"===A.mode?"border-slate-800":"border-transparent opacity-60 hover:opacity-100"}`,children:[(0,t.jsx)("div",{className:`w-8 h-8 rounded-lg ${"dark"===A.mode?"bg-slate-700":"bg-gray-50"} flex items-center justify-center`,children:(0,t.jsx)(f,{className:null===b?"text-blue-600":"text-gray-400",size:16})}),(0,t.jsx)("span",{className:`font-bold text-sm ${null===b?"text-blue-600":A.colors.text}`,children:"Tous"})]}),w?[1,2,3].map(e=>(0,t.jsx)("div",{className:`flex-shrink-0 w-32 h-14 ${"dark"===A.mode?"bg-slate-800":"bg-gray-100"} rounded-2xl animate-pulse`},e)):e.map(e=>(0,t.jsxs)("button",{onClick:()=>g(e.id),className:`flex-shrink-0 ${A.colors.a_background} px-4 py-3 rounded-2xl shadow-[0_2px_10px_rgba(0,0,0,0.02)] flex items-center gap-2 border transition-all
                  ${b===e.id?"border-blue-600 ring-2 ring-blue-600/20":"dark"===A.mode?"border-slate-800":"border-transparent opacity-60 hover:opacity-100"}`,children:[(0,t.jsx)("div",{className:`w-8 h-8 rounded-lg ${"dark"===A.mode?"bg-slate-700":"bg-gray-50"} flex items-center justify-center p-1`,children:e.image?(0,t.jsx)("img",{src:e.image,alt:"",className:"w-6 h-6 object-contain"}):(0,t.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded-md flex items-center justify-center text-white font-bold text-[10px]",children:e.name.charAt(0)})}),(0,t.jsx)("span",{className:`font-bold text-sm ${b===e.id?"text-blue-600":A.colors.text}`,children:e.public_name||e.name})]},e.id))]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,t.jsx)("h2",{className:`text-2xl font-bold ${A.colors.text}`,children:"Prédicitions du jour"}),(0,t.jsx)("span",{className:`text-lg font-medium ${A.colors.d_text} opacity-60`,children:new Date().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),v?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-gray-400 animate-pulse",children:"Chargement des coupons..."})]}):0===j.length?(0,t.jsxs)("div",{className:"text-center py-20 space-y-4",children:[(0,t.jsx)(f,{size:64,className:"mx-auto text-gray-200"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Aucune prédiction pour aujourd'hui."})]}):(0,t.jsx)("div",{className:"space-y-6",children:j.map(e=>(0,t.jsxs)("div",{className:`${A.colors.a_background} rounded-3xl p-5 shadow-[0_4px_25px_rgba(0,0,0,0.04)] border ${"dark"===A.mode?"border-slate-800":"border-transparent"} transition-all hover:shadow-lg`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:`w-12 h-12 rounded-xl ${"dark"===A.mode?"bg-slate-700":"bg-[#E8E8E8]"} ${"dark"===A.mode?"text-slate-400":"text-[#999999]"} flex items-center justify-center font-bold text-lg`,children:P(e.author_first_name,e.author_last_name)}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:`font-bold text-base ${A.colors.text}`,children:[e.author_first_name," ",e.author_last_name]}),(0,t.jsx)("div",{className:"flex gap-0.5 mt-0.5",children:[1,2,3,4,5].map(s=>(0,t.jsx)(i.Star,{size:14,className:s<=Math.round(e.author_rating)?"fill-yellow-400 text-yellow-400":"text-gray-200 fill-gray-200"},s))})]})]}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-1.5 bg-[#E9F3FF] dark:bg-blue-900/30 text-[#1976D2] dark:text-blue-300 text-xs px-3 py-1.5 rounded-lg font-bold mb-4",children:[(0,t.jsx)(p,{size:14}),"combine"===e.coupon_type?`Combin\xe9 (${e.match_count} matchs)`:"Simple"]}),(0,t.jsxs)("div",{className:"flex justify-between items-end mb-6",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:`${A.colors.d_text} opacity-60 text-xs uppercase tracking-wide font-medium leading-none`,children:["Côte totale: ",(0,t.jsx)("span",{className:`text-2xl font-black ml-1 ${A.colors.text}`,children:e.cote})]})}),(0,t.jsxs)("div",{className:`flex items-center gap-2 ${"dark"===A.mode?"bg-slate-800 border-slate-700":"bg-[#F8F9FA] border-gray-100"} py-1.5 px-3 rounded-xl shadow-sm border`,children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded flex items-center justify-center overflow-hidden",children:(0,t.jsx)("img",{src:e.bet_app.image,alt:"app",className:"w-full h-full object-contain"})}),(0,t.jsx)("span",{className:`font-bold text-xs ${A.colors.text}`,children:e.bet_app.public_name})]})]}),(0,t.jsx)("hr",{className:`border-gray-50 ${"dark"===A.mode?"border-slate-700/50":""} mb-4`}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:`flex items-center gap-4 ${"dark"===A.mode?"text-slate-400":"text-[#999999]"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(c,{size:18,className:e.user_liked?"text-blue-500 fill-blue-500":""}),(0,t.jsx)("span",{className:"font-bold text-sm",children:e.likes})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(x,{size:18,className:e.user_disliked?"text-red-500 fill-red-500":""}),(0,t.jsx)("span",{className:"font-bold text-sm",children:e.dislikes})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 ml-1",children:[(0,t.jsx)(i.Star,{size:18,className:"fill-yellow-400 text-yellow-400"}),(0,t.jsx)("span",{className:`font-bold text-sm ${A.colors.text}`,children:e.average_rating||"4.5"})]})]}),(0,t.jsxs)("button",{onClick:()=>{var t,s;return t=e.code,s=e.id,void(navigator.clipboard.writeText(t),S(s),setTimeout(()=>S(null),2e3))},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-black transition-all shadow-sm active:scale-95
                      ${z===e.id?"bg-green-100 text-green-700 border border-green-200":"bg-[#ECF2FF] text-[#002d72] dark:text-blue-300"}`,children:[z===e.id?(0,t.jsx)(u.Check,{size:16,strokeWidth:3}):(0,t.jsx)("div",{className:"p-0.5 rounded bg-white/60 dark:bg-gray-800/60",children:(0,t.jsx)(m.Copy,{size:14})}),(0,t.jsx)("span",{children:e.code})]})]})]},e.id))})]})]})}],75623)}]);