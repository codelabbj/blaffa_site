(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38596,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566);e.i(85269);var s=e.i(22831),o=e.i(59919),l=e.i(69218),n=e.i(69638),i=e.i(43432),d=e.i(73884),c=e.i(7233),m=e.i(71689),u=e.i(63816);function x(){let e=(0,a.useRouter)(),{t:x}=(0,s.useTranslation)(),[h,p]=(0,r.useState)("selectId"),[b,g]=(0,r.useState)(null),[f,j]=(0,r.useState)([]),[v,w]=(0,r.useState)(null),[k,N]=(0,r.useState)({amount:"",phoneNumber:"",betid:"",otp_code:""}),[y,_]=(0,r.useState)({amount:"",phoneNumber:"",otp_code:""}),[$,C]=(0,r.useState)([]),[S,A]=(0,r.useState)([]),[L,z]=(0,r.useState)(!1),[I,T]=(0,r.useState)(""),[B,P]=(0,r.useState)(""),[F,M]=(0,r.useState)(!1),[D,W]=(0,r.useState)(null),[E,R]=(0,r.useState)(null),{theme:q}=(0,o.useTheme)(),{addMessageHandler:U}=(0,l.useWebSocket)(),[V,O]=(0,r.useState)(null),[Y,H]=(0,r.useState)(!1),[K,X]=(0,r.useState)(""),[G,J]=(0,r.useState)(""),[Q,Z]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(""),[er,ea]=(0,r.useState)(""),[es,eo]=(0,r.useState)(null),[el,en]=(0,r.useState)(!1),[ei,ed]=(0,r.useState)([]),[ec,em]=(0,r.useState)(null),[eu,ex]=(0,r.useState)(!1),[eh,ep]=(0,r.useState)(!1),[eb,eg]=(0,r.useState)(null),[ef,ej]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=U(e=>{"transaction_link"===e.type&&e.data&&R(e.data)});return()=>e()},[U]),(0,r.useEffect)(()=>{if(I){let e=setTimeout(()=>{T("")},2e4);return()=>clearTimeout(e)}},[I]);let ev=e=>{if(!v?.indication||!e)return e;let t=v.indication;return e.startsWith("+")?e:e.startsWith(t.replace("+",""))?`+${e}`:e.startsWith(t)?e:`${t}${e}`},ew=async()=>{try{let e=await u.default.get("/blaffa/app_name?operation_type=deposit");if(200===e.status){let t=e.data;j(Array.isArray(t)?t:[])}else console.error("Failed to fetch platforms:",e.status),j([])}catch(e){console.error("Error fetching platforms:",e),j([])}};(0,r.useEffect)(()=>{(async()=>{let e=localStorage.getItem("accessToken");try{z(!0);let t=[ew()];e&&(t.push(u.default.get("/blaffa/network/?type=deposit",{headers:{Authorization:`Bearer ${e}`}}).then(e=>C(e.data))),t.push(u.default.get("/blaffa/id_link",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{let t=e.data,r=[];Array.isArray(t)?r=t:t?.results?r=t.results:t?.data&&(r=t.data),A(r)}))),await Promise.allSettled(t)}catch(e){console.error("Error fetching data:",e)}finally{z(!1)}})()},[]);let ek=async e=>{let t=localStorage.getItem("accessToken");if(!t)return[];try{let r=await u.default.get("/blaffa/user-phone/",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},params:{network:e}});if(200===r.status)return Array.isArray(r.data)?r.data:[];return[]}catch(e){return console.error("Error fetching user phones:",e),[]}},eN=async(e,t)=>{let r=localStorage.getItem("accessToken");if(!r)return null;try{let a=await u.default.post("/blaffa/user-phone/",{phone:e,network:t},{headers:{Authorization:`Bearer ${r}`}});if(201===a.status)return a.data;return null}catch(e){return console.error("Error adding user phone:",e),null}},ey=async(e,t)=>{let r=localStorage.getItem("accessToken");if(!r)return null;try{let a=await u.default.patch(`/blaffa/user-phone/${e}/`,{phone:t},{headers:{Authorization:`Bearer ${r}`}});if(200===a.status)return a.data;return null}catch(e){return console.error("Error updating user phone:",e),null}},e_=async e=>{let t=localStorage.getItem("accessToken");if(!t)return!1;try{let r=await u.default.delete(`/blaffa/user-phone/${e}/`,{headers:{Authorization:`Bearer ${t}`}});return 204===r.status}catch(e){return console.error("Error deleting user phone:",e),!1}},e$=async e=>{w(e),ex(!0),ed(await ek(e.id)),ex(!1),p("selectPhone")},eC=async()=>{if(!v||!ef.trim())return;if(ef.length>10)return void T(`Num\xe9ro de t\xe9l\xe9phone invalide. Le num\xe9ro ne doit pas d\xe9passer 10 chiffres. Exemple: ${v.placeholder||"771234567"}`);let e=ef.startsWith("+")?ef:ev(ef),t=await eN(e,v.id);return t?(ed(e=>[...e,t]),ej(""),!0):(T(x("Failed to add phone number")),!1)},eS=async()=>{if(!eb||!ef.trim())return;let e=ef.startsWith("+")?ef:ev(ef),t=await ey(eb.id,e);t?(ed(e=>e.map(e=>e.id===eb.id?t:e)),ej(""),ep(!1),eg(null)):T(x("Failed to update phone number"))},eA=async e=>{await e_(e)?(ed(t=>t.filter(t=>t.id!==e)),ec?.id===e&&em(null)):T(x("Failed to delete phone number"))},eL=e=>{let{name:t,value:r}=e.target;N(e=>({...e,[t]:r})),y[t]&&_(e=>({...e,[t]:""}))},ez=()=>{let e=b?.minimun_deposit||b?.minimum_deposit||"100",t=b?.max_deposit||b?.maximum_deposit||"1000000";return{min:parseFloat(String(e)),max:parseFloat(String(t))}},eI=()=>{if(!ec)return T(x("Veuillez sÃ©lectionner un numÃ©ro de tÃ©lÃ©phone")),!1;let e={amount:(e=>{let t;if(!e||""===e.trim())return"Le montant est requis";let r=parseFloat(e);if(isNaN(r))return"Veuillez saisir un montant valide";if(r<=0)return"Le montant doit Ãªtre supÃ©rieur Ã  0";t=v?.name?.toLowerCase()==="moov"?505:v?.name?.toLowerCase()==="orange"?100:b?.minimum_deposit||parseFloat(b?.minimun_deposit||"100");let a=b?.maximum_deposit||parseFloat(b?.max_deposit||"1000000");return r<t?`Le montant minimum est ${t} FCFA`:r>a?`Le montant maximum est ${a} FCFA`:""})(k.amount),phoneNumber:"",otp_code:(e=>{if(v?.otp_required){if(!e||""===e.trim())return"Le code OTP est requis";if(e.trim().length<4)return"Le code OTP doit contenir au moins 4 caractÃ¨res"}return""})(k.otp_code)};return _(e),!Object.values(e).some(e=>""!==e)},eT=async e=>{if((e.preventDefault(),eI())&&b&&v){z(!0);try{let e=localStorage.getItem("accessToken");if(!e)throw Error("Not authenticated");let t=v.country_code?.toLowerCase(),r={type_trans:"deposit",amount:k.amount,app_id:b.id,network_id:v.id,phone_number:ec?(e=>{if(!v?.indication||!e)return e;let t=v.indication,r=t.replace("+","");return e.startsWith("+")&&e.startsWith(t)?e.substring(t.length):e.startsWith(r)?e.substring(r.length):e})(ec.phone):"",user_app_id:V,source:"web"};if(eP(v)||eF(v)){let e=parseFloat(k.amount);r.net_payable_amount=.01*e}v.otp_required&&k.otp_code&&(r.otp_code=k.otp_code);let a=(await u.default.post(`/blaffa/transaction?country_code=${t}`,r,{headers:{Authorization:`Bearer ${e}`}})).data;if(W({transaction:a}),P("Transaction initiÃ©e avec succÃ¨s !"),eP(v)){let e=parseFloat(k.amount),t=v.country_code;await eD(e,t),setTimeout(()=>{window.location.href="/dashboard"},3e3)}else if(eF(v)){let e=parseFloat(k.amount),t=v.country_code;!0===v.payment_by_link&&a.transaction_link?(window.open(a.transaction_link,"_blank"),setTimeout(()=>{window.location.href="/dashboard"},3e3)):(await eW(e,t),setTimeout(()=>{window.location.href="/dashboard"},3e3))}else setTimeout(()=>{window.location.href="/dashboard"},3e3);N({amount:"",phoneNumber:"",betid:"",otp_code:""}),_({amount:"",phoneNumber:"",otp_code:""})}catch(e){if(console.error("Transaction error:",e),"string"==typeof e)T(e);else if(e&&"object"==typeof e&&"response"in e){let{status:t,data:r}=e.response||{};if(400===t&&r){let e=[];r.amount&&e.push(`Amount: ${Array.isArray(r.amount)?r.amount[0]:r.amount}`),T(e.length>0?e.join("\n"):r.detail||"Validation error")}else T(r?.detail||"An error occurred")}else T("An unexpected error occurred");if("object"==typeof e&&null!==e&&"response"in e&&e.response){let{status:t,data:r}=e.response;if(400===t&&r){let e=[];r.amount&&e.push(`Amount: ${Array.isArray(r.amount)?r.amount[0]:r.amount}`),r.phone_number&&e.push(`Phone: ${Array.isArray(r.phone_number)?r.phone_number[0]:r.phone_number}`),r.network_id&&e.push(`Network: ${Array.isArray(r.network_id)?r.network_id[0]:r.network_id}`),r.user_app_id&&e.push(`Bet ID: ${Array.isArray(r.user_app_id)?r.user_app_id[0]:r.user_app_id}`),r.detail&&e.push(r.detail),0===e.length&&e.push(x("Invalid data. Please check your input.")),T(e.join("\n"))}else 401===t?T(x("Your session has expired. Please log in again.")):403===t?T(x("You do not have permission to perform this action.")):404===t?T(x("The requested resource was not found.")):429===t?T(x("Too many requests. Please wait a moment and try again.")):t>=500?T(x("Server error. Please try again later.")):T(x("An error occurred. Please try again."))}else T(x("An error occurred while setting up the request."))}finally{z(!1)}}},eB=async(e,t)=>{try{let r=localStorage.getItem("accessToken");if(!r)return null;let a=await u.default.get("/blaffa/setting/",{headers:{Authorization:`Bearer ${r}`}});if(200===a.status){let r=a.data,s=Array.isArray(r)?r[0]:r;if(!s)return null;if(e?.toLowerCase()==="moov"){if(t?.toLowerCase()==="bf")return s.bf_moov_marchand_phone||s.moov_marchand_phone||null;if(t?.toLowerCase()==="ci")return s.ci_moov_marchand_phone||s.moov_marchand_phone||null}else if(e?.toLowerCase()==="orange"){if(t?.toLowerCase()==="bf")return s.bf_orange_marchand_phone||null;if(t?.toLowerCase()==="ci")return s.ci_orange_marchand_phone||null;return s.orange_marchand_phone||null}return s.moov_marchand_phone||null}return null}catch(e){return console.error("Error fetching settings:",e),null}},eP=e=>{if(!e)return!1;let t=e.name?.toLowerCase()==="moov",r=e.deposit_api?.toLowerCase()==="connect";return t&&r},eF=e=>{if(!e)return!1;let t=e.name?.toLowerCase()==="orange",r=e.deposit_api?.toLowerCase()==="connect";return t&&r},eM=e=>{try{let t=document.createElement("a");t.href=`tel:${e}`,t.style.display="none",document.body.appendChild(t),t.click(),setTimeout(()=>{document.body.removeChild(t)},100)}catch(e){console.error("Error attempting dialer redirect:",e)}},eD=async(e,t)=>{let r,a=await eB("moov",t);if(!a)return void console.warn("Moov merchant phone not found in settings");let s=(r=Math.floor(.99*e),`*155*2*1*${a}*${r}#`);X(s),J(a),eM(s)},eW=async(e,t)=>{let r=await eB("orange",t);if(!r)return void console.warn("Orange merchant phone not found in settings");let a=`*144*2*1*${r}*${e}#`;et(a),ea(r),eM(a)};return(0,t.jsxs)("div",{className:`min-h-screen bg-gradient-to-br ${q.colors.a_background} p-4`,children:[(0,t.jsx)("style",{children:`
          @keyframes slideInUp {
            from {
              opacity: 0;
              transform: translateY(20px) scale(0.95);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
          
          @keyframes shimmer {
            0% { background-position: -200px 0; }
            100% { background-position: calc(200px + 100%) 0; }
          }
          
          @keyframes modalSlideIn {
            from {
              opacity: 0;
              transform: translateY(30px) scale(0.9);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
          
          @keyframes backdropFadeIn {
            from {
              opacity: 0;
              backdrop-filter: blur(0px);
            }
            to {
              opacity: 1;
              backdrop-filter: blur(8px);
            }
          }
          
          .shimmer-effect {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            background-size: 200px 100%;
            animation: shimmer 2s infinite;
          }
          
          .modal-backdrop {
            animation: backdropFadeIn 0.3s ease-out;
          }
          
          .modal-content {
            animation: modalSlideIn 0.4s ease-out;
          }
        `}),(0,t.jsxs)("div",{className:"w-full px-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6 mb-12",children:[(0,t.jsx)("button",{onClick:()=>{"selectId"===h?e.back():"manageBetId"===h?p("selectId"):"selectNetwork"===h?p("manageBetId"):"selectPhone"===h?p("selectNetwork"):"enterDetails"===h?p("selectPhone"):"summary"===h&&p("enterDetails")},className:"p-2 -ml-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:(()=>{switch(h){case"selectId":default:return"DÃ©pÃ´t";case"manageBetId":return"DÃ©pÃ´t - ID Utilisateur";case"selectNetwork":return"DÃ©pÃ´t - RÃ©seau";case"selectPhone":return"DÃ©pÃ´t - NumÃ©ro de tÃ©lÃ©...";case"enterDetails":return"DÃ©pÃ´t - Informations";case"summary":return"Confirmer le dÃ©pÃ´t"}})()})]}),(0,t.jsx)("div",{className:"pb-24",children:(0,t.jsxs)("div",{children:[I&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-900/50 to-red-800/50 border border-red-600/50 text-red-300 rounded-2xl backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.XCircle,{className:"w-5 h-5 mr-3"}),I]})}),B&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-600/50 text-green-300 rounded-2xl backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(n.CheckCircle,{className:"w-5 h-5 mr-3"}),B]})}),!L||B||I?(()=>{switch(h){case"selectId":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("h3",{className:`text-xl font-bold ${q.colors.text} mb-2`,children:"1. SÃ©lectionnez votre plateforme"})}),(0,t.jsx)("div",{className:"w-full flex justify-center",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 w-full",children:f.map(e=>{let r=b?.id===e.id;return(0,t.jsxs)("div",{onClick:()=>(e=>{if(!localStorage.getItem("accessToken")){window.location.href="/login";return}g(e),p("manageBetId")})(e),className:`cursor-pointer ${q.colors.a_background} border rounded-2xl flex flex-col items-center p-6 transition-all duration-300
                        ${r?"border-blue-500 ring-1 ring-blue-500":`${"dark"===q.mode?"border-slate-700":"border-slate-200"} hover:border-blue-300`}`,children:[e.image&&(0,t.jsx)("div",{className:"h-20 w-20 flex items-center justify-center mb-4",children:(0,t.jsx)("img",{src:e.image,alt:e.public_name||e.name,className:"h-16 w-16 object-contain"})}),(0,t.jsx)("div",{className:`font-medium text-base text-center uppercase tracking-wider ${q.colors.text}`,children:e.public_name||e.name})]},e.id)})})}),0===f.length&&!L&&(0,t.jsx)("div",{className:"flex flex-col items-center justify-center py-20 px-6",children:(0,t.jsx)("p",{className:`${q.colors.d_text} opacity-40 text-center`,children:x("Aucune plateforme disponible")})})]});case"manageBetId":let e=S.filter(e=>e.app_name.id===b?.id),r=async e=>{let t=localStorage.getItem("accessToken");if(t)try{await u.default.delete(`/blaffa/id_link/${e}`,{headers:{Authorization:`Bearer ${t}`}}),A(t=>t.filter(t=>t.id!==e))}catch{T(x("Erreur lors de la suppression de l'ID"))}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("h3",{className:`text-xl font-bold ${q.colors.text} mb-2`,children:["2. Choisissez ou crÃ©ez votre ID pour ",b?.public_name||b?.name]})}),(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsxs)("div",{onClick:()=>{O(e.link),p("selectNetwork")},className:`flex items-center justify-between ${q.colors.a_background} border ${"dark"===q.mode?"border-slate-700":"border-slate-200"} rounded-2xl px-6 py-5 cursor-pointer hover:border-blue-300 transition-all`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[b?.image&&(0,t.jsx)("div",{className:`${"dark"===q.mode?"bg-slate-700":"bg-slate-50"} p-2 rounded-lg`,children:(0,t.jsx)("img",{src:b.image,alt:"",className:"w-10 h-10 object-contain"})}),(0,t.jsx)("span",{className:`text-xl font-bold tracking-wider ${q.colors.text}`,children:e.link})]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),r(e.id)},className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))}),(0,t.jsx)("div",{className:"pt-6",children:(0,t.jsxs)("button",{onClick:()=>{let e=b?.public_name||b?.name||"",t=b?.id||"";window.location.href=`/bet_id?origin=deposit&platform=${encodeURIComponent(e)}&platform_id=${t}`},className:"w-full py-4 border border-[#002d72] dark:border-blue-400 rounded-2xl flex items-center justify-center gap-3 text-[#002d72] dark:text-blue-400 font-bold text-lg hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors",children:[(0,t.jsx)(c.Plus,{size:24,strokeWidth:2.5}),"CrÃ©er un nouvel ID"]})}),(0,t.jsx)("div",{className:"flex justify-center pt-8",children:(0,t.jsxs)("button",{onClick:()=>p("selectId"),className:`${q.colors.d_text} opacity-60 flex items-center gap-2 hover:opacity-100 transition-opacity`,children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),x("Retour aux plateformes")]})})]});case"selectNetwork":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("h3",{className:`text-xl font-bold ${q.colors.text} mb-2`,children:"3. SÃ©lectionnez votre rÃ©seau"})}),(0,t.jsx)("div",{className:"space-y-3",children:$.map(e=>(0,t.jsxs)("div",{onClick:()=>e$(e),className:`flex items-center gap-4 p-4 ${q.colors.a_background} border rounded-2xl cursor-pointer transition-all ${v?.id===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":`${"dark"===q.mode?"border-gray-700":"border-gray-200"} hover:border-gray-300`}`,children:[e.image?(0,t.jsx)("div",{className:"w-14 h-14 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-contain"})}):(0,t.jsx)("div",{className:`w-14 h-14 ${"dark"===q.mode?"bg-slate-800":"bg-gray-100"} rounded-lg flex items-center justify-center flex-shrink-0`,children:(0,t.jsx)(i.Phone,{className:`w-6 h-6 ${q.colors.d_text} opacity-40`})}),(0,t.jsx)("span",{className:`text-lg font-medium ${q.colors.text}`,children:e.public_name||e.name})]},e.id))}),(0,t.jsx)("div",{className:"pt-6",children:(0,t.jsx)("button",{onClick:()=>{v&&e$(v)},disabled:!v,className:`w-full py-4 rounded-2xl font-bold text-lg transition-all ${v?"bg-gray-400 hover:bg-gray-500 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Suivant"})}),(0,t.jsx)("div",{className:"flex justify-center pt-4",children:(0,t.jsxs)("button",{onClick:()=>p("manageBetId"),className:`${q.colors.d_text} opacity-60 flex items-center gap-2 hover:opacity-100 transition-opacity`,children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),x("Retour")]})})]});case"selectPhone":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("h3",{className:`text-xl font-bold ${q.colors.text} mb-2`,children:["4. Choisissez ou enregistrez votre numÃ©ro ",v?.public_name||v?.name]})}),eu?(0,t.jsx)("div",{className:"flex justify-center py-20",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-3",children:ei.map(e=>(0,t.jsxs)("div",{onClick:()=>{em(e),p("enterDetails")},className:`flex items-center justify-between ${q.colors.a_background} border ${"dark"===q.mode?"border-slate-700":"border-slate-200"} rounded-2xl px-4 py-4 cursor-pointer hover:border-blue-300 transition-all`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(i.Phone,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:`text-lg font-medium ${q.colors.text}`,children:ev(e.phone)})]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),eA(e.id)},className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))}),(0,t.jsx)("div",{className:"pt-6",children:(0,t.jsxs)("button",{onClick:()=>p("addPhone"),className:"w-full py-4 border-2 border-[#1e4a8e] text-[#1e4a8e] dark:border-blue-400 dark:text-blue-400 rounded-2xl flex items-center justify-center gap-3 font-bold text-lg hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors",children:[(0,t.jsx)(c.Plus,{size:24,strokeWidth:2.5}),"Ajouter un numÃ©ro"]})}),(0,t.jsx)("div",{className:"flex justify-center pt-4",children:(0,t.jsxs)("button",{onClick:()=>p("selectNetwork"),className:`${q.colors.d_text} opacity-60 flex items-center gap-2 hover:opacity-100 transition-opacity`,children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),x("Retour")]})})]})]});case"addPhone":return(0,t.jsxs)("div",{className:`min-h-screen ${q.colors.a_background}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsx)("button",{onClick:()=>p("selectPhone"),className:`p-1 ${q.colors.hover} rounded-full transition-colors`,children:(0,t.jsx)(m.ArrowLeft,{size:28,className:q.colors.text})}),(0,t.jsx)("h3",{className:`text-xl font-bold ${q.colors.text}`,children:"DÃ©pÃ´t - NumÃ©ro de tÃ©lÃ©..."})]}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("h4",{className:`text-lg font-bold ${q.colors.text} mb-2`,children:["4. Choisissez ou enregistrez votre numÃ©ro ",v?.public_name||v?.name]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:`block text-lg font-bold ${q.colors.text} mb-2 px-1`,children:"Nouveau numÃ©ro"}),(0,t.jsx)("input",{type:"tel",value:ef,onChange:e=>ej(e.target.value),placeholder:"Entrez votre numÃ©ro",className:`w-full h-14 px-4 rounded-xl border ${"dark"===q.mode?"border-slate-700":"border-gray-300"} ${q.colors.a_background} text-lg ${q.colors.text} focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all placeholder:text-gray-400`}),I&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-2 px-1",children:I})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:()=>p("selectPhone"),className:"flex-1 h-14 border-2 border-[#1e4a8e] text-[#1e4a8e] dark:border-blue-400 dark:text-blue-400 font-bold text-lg rounded-2xl hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors",children:"Annuler"}),(0,t.jsx)("button",{onClick:async()=>{await eC()&&p("selectPhone")},disabled:!ef,className:"flex-1 h-14 bg-[#1a4384] text-white font-bold text-lg rounded-2xl shadow-lg hover:bg-[#15386b] transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"dark"===q.mode?q.colors.primary:"#1a4384"},children:L?"...":"Enregistrer"})]})]})]});case"enterDetails":return(0,t.jsxs)("div",{className:`min-h-screen ${q.colors.a_background}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsx)("button",{onClick:()=>p("selectPhone"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:(0,t.jsx)(m.ArrowLeft,{size:28,className:"text-gray-900 dark:text-gray-100"})}),(0,t.jsx)("h3",{className:`text-xl font-bold ${q.colors.text}`,children:"5. Confirmer le paiement"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),eI()&&p("summary")},className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:`block text-base ${q.colors.d_text} opacity-70 mb-2`,children:"Montant (F CFA)"}),(0,t.jsx)("input",{type:"number",name:"amount",value:k.amount,onChange:eL,className:`w-full h-14 px-4 rounded-xl border ${!k.amount?"dark"===q.mode?"border-gray-600":"border-gray-300":parseFloat(k.amount)<ez().min||parseFloat(k.amount)>ez().max?"border-red-500":"border-green-500"} bg-white dark:bg-gray-800 text-lg text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all`,placeholder:"Entrez le montant",required:!0,min:ez().min,max:ez().max,step:"1"}),(0,t.jsxs)("div",{className:`mt-2 text-sm font-medium ${!k.amount?q.colors.d_text+" opacity-50":parseFloat(k.amount)<ez().min||parseFloat(k.amount)>ez().max?"text-red-500":"text-green-500"}`,children:[ez().min," F - ",ez().max," F"]}),y.amount&&(0,t.jsx)("p",{className:"mt-2 text-sm text-red-500",children:y.amount})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:`block text-base ${q.colors.d_text} opacity-70 mb-2`,children:"NumÃ©ro de tÃ©lÃ©phone"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:`flex items-center justify-center gap-2 px-4 py-3 w-1/3 ${q.colors.a_background} border ${"dark"===q.mode?"border-slate-700":"border-slate-300"} rounded-xl`,children:[(0,t.jsx)("span",{className:"text-2xl",children:(e=>{if(!e)return"ðŸ‡§ðŸ‡«";switch(e.replace("+","")){case"226":return"ðŸ‡§ðŸ‡«";case"225":return"ðŸ‡¨ðŸ‡®";case"223":return"ðŸ‡²ðŸ‡±";case"221":return"ðŸ‡¸ðŸ‡³";case"228":return"ðŸ‡¹ðŸ‡¬";case"229":return"ðŸ‡§ðŸ‡¯";case"237":return"ðŸ‡¨ðŸ‡²";case"224":return"ðŸ‡¬ðŸ‡³";case"241":return"ðŸ‡¬ðŸ‡¦";case"242":return"ðŸ‡¨ðŸ‡¬";case"243":return"ðŸ‡¨ðŸ‡©";case"227":return"ðŸ‡³ðŸ‡ª";case"233":return"ðŸ‡¬ðŸ‡­";case"234":return"ðŸ‡³ðŸ‡¬";default:return"ðŸŒ"}})(v?.indication)}),(0,t.jsx)("span",{className:`text-lg font-medium ${q.colors.text}`,children:v?.indication||"+225"})]}),(0,t.jsx)("div",{className:`flex-1 relative flex items-center h-14 px-4 rounded-xl border ${"dark"===q.mode?"border-slate-700":"border-slate-300"} ${q.colors.a_background}`,children:(0,t.jsx)("span",{className:`text-lg ${q.colors.text}`,children:ec?v?.indication?ec.phone.replace(RegExp(`^\\+?${v.indication.replace("+","")}`),""):ec.phone:""})})]})]}),v?.deposit_message&&(0,t.jsx)("div",{className:`p-4 ${"dark"===q.mode?"bg-blue-900/20 border-blue-700":"bg-blue-50 border-blue-200"} border rounded-xl`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,t.jsx)("svg",{className:`w-5 h-5 ${"dark"===q.mode?"text-blue-400":"text-blue-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,t.jsx)("p",{className:`text-sm ${"dark"===q.mode?"text-blue-300":"text-blue-700"} uppercase font-medium`,children:v.deposit_message})]})}),v?.tape_code&&(0,t.jsx)("div",{className:`p-4 ${"dark"===q.mode?"bg-green-900/20 border-green-700":"bg-green-50 border-green-200"} border rounded-xl`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,t.jsx)("svg",{className:`w-5 h-5 ${"dark"===q.mode?"text-green-400":"text-green-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,t.jsxs)("p",{className:`text-sm ${"dark"===q.mode?"text-green-300":"text-green-700"} font-medium`,children:["Code Ã  taper: ",(0,t.jsx)("span",{className:"font-bold underline",children:v.tape_code})]})]})}),(0,t.jsx)("div",{className:"text-center",children:b?.deposit_message&&(0,t.jsx)("p",{className:"text-sm text-orange-500 dark:text-orange-400 italic",children:b.deposit_message})}),(0,t.jsx)("div",{className:"pt-6",children:(0,t.jsx)("button",{type:"submit",disabled:L||!k.amount||!ec,className:"w-full h-14 text-white font-bold text-lg rounded-2xl shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"dark"===q.mode?q.colors.primary:"#1a4384"},children:L?"Traitement...":"DÃ©pÃ´t"})})]})]});case"summary":return(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-r from-[#002d72] to-[#1a4384] rounded-3xl p-8 text-white shadow-xl",children:[(0,t.jsxs)("div",{className:"relative z-10 flex items-center gap-6",children:[(0,t.jsx)("div",{className:"bg-white/20 backdrop-blur-md p-4 rounded-2xl",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-1 font-outfit uppercase",children:"Confirmer le dÃ©pÃ´t"}),(0,t.jsx)("p",{className:"text-blue-100 opacity-80 uppercase tracking-wide text-sm font-medium",children:"VÃ©rifiez vos informations"})]})]}),(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-12 -mt-12 bg-white/10 w-48 h-48 rounded-full blur-3xl"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:`flex items-center gap-5 p-5 ${"dark"===q.mode?"bg-slate-800":"bg-white"} border ${"dark"===q.mode?"border-slate-700":"border-slate-100"} rounded-3xl shadow-sm hover:shadow-md transition-all`,children:[(0,t.jsx)("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center p-2 ${"dark"===q.mode?"bg-slate-700":"bg-slate-50"}`,children:b?.image?(0,t.jsx)("img",{src:b.image,alt:"",className:"w-10 h-10 object-contain rounded-lg"}):(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`text-sm ${q.colors.d_text} opacity-50 font-medium uppercase tracking-wider mb-0.5`,children:"Application"}),(0,t.jsx)("p",{className:`text-xl font-bold ${q.colors.text} tracking-tight`,children:b?.public_name||b?.name})]})]}),(0,t.jsxs)("div",{className:`flex items-center gap-5 p-5 ${"dark"===q.mode?"bg-slate-800":"bg-white"} border ${"dark"===q.mode?"border-slate-700":"border-slate-100"} rounded-3xl shadow-sm hover:shadow-md transition-all`,children:[(0,t.jsx)("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${"dark"===q.mode?"bg-green-900/20":"bg-green-50"}`,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-7 w-7 ${"dark"===q.mode?"text-green-400":"text-green-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`text-sm ${q.colors.d_text} opacity-50 font-medium uppercase tracking-wider mb-0.5`,children:"ID Utilisateur"}),(0,t.jsx)("p",{className:`text-xl font-bold ${q.colors.text} tracking-wider`,children:V})]})]}),(0,t.jsxs)("div",{className:`flex items-center gap-5 p-5 ${"dark"===q.mode?"bg-slate-800":"bg-white"} border ${"dark"===q.mode?"border-slate-700":"border-slate-100"} rounded-3xl shadow-sm hover:shadow-md transition-all`,children:[(0,t.jsx)("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center p-2 ${"dark"===q.mode?"bg-slate-700":"bg-slate-50"}`,children:v?.image?(0,t.jsx)("img",{src:v.image,alt:"",className:"w-10 h-10 object-contain"}):(0,t.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`text-sm ${q.colors.d_text} opacity-50 font-medium uppercase tracking-wider mb-0.5`,children:"RÃ©seau"}),(0,t.jsx)("p",{className:`text-xl font-bold ${q.colors.text} tracking-tight`,children:(v?.public_name||v?.name)?.toUpperCase()})]})]}),(0,t.jsxs)("div",{className:`flex items-center gap-5 p-5 ${"dark"===q.mode?"bg-slate-800":"bg-white"} border ${"dark"===q.mode?"border-slate-700":"border-slate-100"} rounded-3xl shadow-sm hover:shadow-md transition-all`,children:[(0,t.jsx)("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${"dark"===q.mode?"bg-purple-900/20":"bg-purple-50"}`,children:(0,t.jsx)(i.Phone,{className:`h-7 w-7 ${"dark"===q.mode?"text-purple-400":"text-purple-600"}`})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`text-sm ${q.colors.d_text} opacity-50 font-medium uppercase tracking-wider mb-0.5`,children:"NumÃ©ro de tÃ©lÃ©phone"}),(0,t.jsx)("p",{className:`text-xl font-bold ${q.colors.text} tracking-wider`,children:ev(ec?.phone||"")})]})]})]}),(0,t.jsxs)("div",{className:`p-5 rounded-3xl flex items-start gap-4 ${"dark"===q.mode?"bg-amber-900/10 border border-amber-900/50":"bg-amber-50 border border-amber-100"}`,children:[(0,t.jsx)("div",{className:`mt-0.5 p-2 rounded-xl ${"dark"===q.mode?"bg-amber-900/30":"bg-white shadow-sm"}`,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("p",{className:`text-sm font-medium ${"dark"===q.mode?"text-amber-200/70":"text-amber-700/80"} leading-relaxed`,children:"Assurez-vous que toutes les informations sont correctes avant de confirmer."})]}),(0,t.jsxs)("div",{className:"pt-4 flex flex-col gap-4",children:[(0,t.jsx)("button",{onClick:eT,disabled:L,className:"w-full h-18 bg-[#002d72] hover:bg-[#001d4a] text-white font-bold text-xl rounded-full shadow-xl shadow-blue-900/20 transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-3 py-6",children:L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}),(0,t.jsx)("span",{children:"Traitement..."})]}):(0,t.jsx)("span",{children:"Confirmer"})}),(0,t.jsx)("button",{onClick:()=>p("enterDetails"),disabled:L,className:`w-full py-4 text-center font-bold text-lg ${q.colors.d_text} opacity-50 hover:opacity-100 transition-opacity disabled:opacity-30`,children:"Retour pour modification"})]})]})}})():(0,t.jsx)("div",{className:"flex justify-center items-center p-20",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500/30 border-t-blue-500"}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/20 to-blue-500/20 animate-pulse"})]})})]})})]}),eh&&eb&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 modal-backdrop",children:(0,t.jsx)("div",{className:`${q.colors.background} rounded-lg shadow-xl w-full max-w-md modal-content`,children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:x("Modifier le numÃ©ro de tÃ©lÃ©phone")}),(0,t.jsx)("button",{onClick:()=>{ep(!1),eg(null),ej("")},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x("NumÃ©ro de tÃ©lÃ©phone")}),(0,t.jsx)("input",{type:"tel",value:ef,onChange:e=>ej(e.target.value),className:"w-full p-2 border rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white border-slate-300 dark:border-slate-600",placeholder:"ex: 771234567"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:x("Entrez le numÃ©ro sans le prÃ©fixe +225")})]})}),(0,t.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ep(!1),eg(null),ej("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",children:x("Annuler")}),(0,t.jsx)("button",{onClick:eS,disabled:!ef.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:x("Modifier")})]})]})})})]})}e.s(["default",()=>x])}]);