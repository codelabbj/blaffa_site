(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11186,e=>{"use strict";var t=e.i(43476),r=e.i(37902),a=e.i(71645),s=e.i(18566);e.i(85269);var l=e.i(22831),o=e.i(59919),n=e.i(69638),i=e.i(43432),d=e.i(73884);let c=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var m=e.i(7233),u=e.i(71689),x=e.i(63816);function h(){let e=(0,s.useRouter)(),{t:h}=(0,l.useTranslation)(),[p,b]=(0,a.useState)("selectId"),[f,g]=(0,a.useState)(null),[j,w]=(0,a.useState)([]),[v,N]=(0,a.useState)(null),[k,y]=(0,a.useState)({withdrawalCode:"",phoneNumber:"",betid:"",amount:""}),[$,_]=(0,a.useState)({amount:"",withdrawalCode:"",phoneNumber:""}),[C,A]=(0,a.useState)([]),[z,S]=(0,a.useState)([]),[I,L]=(0,a.useState)(!1),[B,P]=(0,a.useState)(""),[F,M]=(0,a.useState)(""),{theme:R}=(0,o.useTheme)(),[T,W]=(0,a.useState)(null),[D,E]=(0,a.useState)([]),[q,V]=(0,a.useState)(null),[U,Y]=(0,a.useState)(!1),[H,O]=(0,a.useState)(!1),[K,X]=(0,a.useState)(!1),[G,J]=(0,a.useState)(null),[Q,Z]=(0,a.useState)(""),ee=async e=>{let t=localStorage.getItem("accessToken");if(!t)return[];try{let r=await x.default.get("/blaffa/user-phone/",{headers:{Authorization:`Bearer ${t}`},params:e?{network:e}:{}});if(200===r.status)return Array.isArray(r.data)?r.data:[];return[]}catch(e){return console.error("Error fetching user phones:",e),[]}},et=async(e,t)=>{let r=localStorage.getItem("accessToken");if(!r)return null;try{let a=await x.default.post("/blaffa/user-phone/",{phone:e,network:t},{headers:{Authorization:`Bearer ${r}`}});if(201===a.status)return a.data;return null}catch(e){return console.error("Error adding user phone:",e),null}},er=async(e,t)=>{let r=localStorage.getItem("accessToken");if(!r)return null;try{let a=await x.default.patch(`/blaffa/user-phone/${e}/`,{phone:t},{headers:{Authorization:`Bearer ${r}`}});if(200===a.status)return a.data;return null}catch(e){return console.error("Error updating user phone:",e),null}},ea=async e=>{let t=localStorage.getItem("accessToken");if(!t)return!1;try{let r=await x.default.delete(`/blaffa/user-phone/${e}/`,{headers:{Authorization:`Bearer ${t}`}});return 204===r.status}catch(e){return console.error("Error deleting user phone:",e),!1}},es=async()=>{if(!v||!Q.trim())return;P("");let e=Q.startsWith("+")?Q:eo(Q),t=await et(e,v.id);return t?(E(e=>[...e,t]),Z(""),!0):(P(h("Failed to add phone number")),!1)},el=async()=>{try{let e=await x.default.get("/blaffa/app_name?operation_type=withdrawal");if(200===e.status){let t=e.data;w(Array.isArray(t)?t:[])}else console.error("Failed to fetch platforms:",e.status),w([])}catch(e){console.error("Error fetching platforms:",e),w([])}};(0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem("accessToken");try{L(!0);let t=[el()];e&&(t.push(x.default.get("/blaffa/network/?type=withdrawal",{headers:{Authorization:`Bearer ${e}`}}).then(e=>A(e.data))),t.push(x.default.get("/blaffa/id_link",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{let t=e.data,r=[];Array.isArray(t)?r=t:t?.results?r=t.results:t?.data&&(r=t.data),S(r)}))),await Promise.allSettled(t)}catch(e){console.error("Error fetching data:",e)}finally{L(!1)}})()},[]),(0,a.useEffect)(()=>{if(B){let e=setTimeout(()=>{P("")},2e4);return()=>clearTimeout(e)}},[B]);let eo=e=>{if(!v?.indication||!e)return e;let t=v.indication;return e.startsWith("+")?e:e.startsWith(t.replace("+",""))?`+${e}`:e.startsWith(t)?e:`${t}${e}`},en=e=>{if(!v?.indication||!e)return e;let t=v.indication,r=t.replace("+","");return e.startsWith("+")&&e.startsWith(t)?e.substring(t.length):e.startsWith(r)?e.substring(r.length):e},ei=async()=>{if(!G||!Q.trim())return;let e=Q.startsWith("+")?Q:eo(Q),t=await er(G.id,e);t?(E(e=>e.map(e=>e.id===G.id?t:e)),Z(""),X(!1),J(null)):P(h("Failed to update phone number"))},ed=async e=>{await ea(e)?(E(t=>t.filter(t=>t.id!==e)),q?.id===e&&V(null)):P(h("Failed to delete phone number"))},ec=async e=>{N(e),Y(!0),E(await ee(e.id)),Y(!1),b("selectPhone")},em=()=>{let e=f?.minimun_with||f?.minimum_withdrawal||"100",t=f?.max_win||f?.maximum_withdrawal||"1000000";return{min:parseFloat(String(e)),max:parseFloat(String(t))}},eu=e=>{let{name:t,value:r}=e.target;y(e=>({...e,[t]:r})),$[t]&&_(e=>({...e,[t]:""}))},ex=()=>{var e;if(!q)return P(h("Veuillez sÃ©lectionner un numÃ©ro de tÃ©lÃ©phone")),!1;let t={amount:(e=>{if(!e||""===e.trim())return"Le montant est requis";let t=parseFloat(e);if(isNaN(t))return"Veuillez saisir un montant valide";if(t<=0)return"Le montant doit Ãªtre supÃ©rieur Ã  0";let{min:r,max:a}=em();return t<r?`Le montant minimum est ${r} FCFA`:t>a?`Le montant maximum est ${a} FCFA`:""})(k.amount),withdrawalCode:(e=k.withdrawalCode)&&""!==e.trim()?e.trim().length<3?"Le code de retrait doit contenir au moins 3 caractÃ¨res":"":"Le code de retrait est requis",phoneNumber:""};return _(t),!Object.values(t).some(e=>""!==e)},{originalAmount:eh,feeAmount:ep,netAmount:eb}=(()=>{let e=parseFloat(k.amount)||0;if(!v?.with_fee||!v?.fee_percent)return{originalAmount:e,feeAmount:0,netAmount:e};let t=e*v.fee_percent/100;return{originalAmount:e,feeAmount:t,netAmount:e-t}})(),ef=async e=>{if((e.preventDefault(),ex())&&f&&v&&T){L(!0);try{let e=localStorage.getItem("accessToken");if(!e)throw Error("Not authenticated");let t=v.country_code?.toLowerCase()||"ci";(await x.default.post(`/blaffa/transaction?country_code=${t}`,{type_trans:"withdrawal",withdriwal_code:k.withdrawalCode,phone_number:q?en(q.phone):"",network_id:v.id,app_id:f.id,user_app_id:T,source:"web",amount:parseFloat(k.amount)},{headers:{Authorization:`Bearer ${e}`}})).data,M("Retrait initiÃ© avec succÃ¨s !"),setTimeout(()=>{window.location.href="/dashboard"},3e3),y({withdrawalCode:"",phoneNumber:"",betid:"",amount:""}),_({amount:"",withdrawalCode:"",phoneNumber:""})}catch(e){if(console.error("Withdrawal error:",e),e&&"object"==typeof e&&"response"in e){let{status:t,data:r}=e.response;if(400===t&&r){let e=[];r.withdrawal_code&&e.push(`withdrawal_code: ${Array.isArray(r.withdrawal_code)?r.withdrawal_code[0]:r.withdrawal_code}`),r.phone_number&&e.push(`Phone: ${Array.isArray(r.phone_number)?r.phone_number[0]:r.phone_number}`),r.network_id&&e.push(`Network: ${Array.isArray(r.network_id)?r.network_id[0]:r.network_id}`),r.user_app_id&&e.push(`Bet ID: ${Array.isArray(r.user_app_id)?r.user_app_id[0]:r.user_app_id}`),r.detail&&e.push(r.detail),P(e.join("\n")||"Validation error")}else 401===t?P("Your session has expired. Please log in again."):403===t?P("You do not have permission to perform this action."):404===t?P("The requested resource was not found."):429===t?P("Too many requests. Please wait a moment and try again."):t>=500?P("Server error. Please try again later."):P(r?.detail||"An error occurred. Please try again.")}else e&&"object"==typeof e&&"request"in e?P("Network error. Please check your connection and try again."):P("An error occurred while setting up the request: "+(e instanceof Error?e.message:"An unknown error occurred"))}finally{L(!1)}}};return(0,t.jsxs)("div",{className:`jsx-53d6791cd021ef43 min-h-screen bg-gradient-to-br ${R.colors.a_background} p-4`,children:[(0,t.jsx)("style",{children:`
          @keyframes slideInUp {
            from {
              opacity: 0;
              transform: translateY(20px) scale(0.95);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
          
          @keyframes shimmer {
            0% { background-position: -200px 0; }
            100% { background-position: calc(200px + 100%) 0; }
          }
          
          @keyframes modalSlideIn {
            from {
              opacity: 0;
              transform: translateY(30px) scale(0.9);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
          
          @keyframes backdropFadeIn {
            from {
              opacity: 0;
              backdrop-filter: blur(0px);
            }
            to {
              opacity: 1;
              backdrop-filter: blur(8px);
            }
          }
          
          @keyframes flash {
            0%, 50% {
              opacity: 1;
              transform: scale(1);
            }
            25%, 75% {
              opacity: 0.7;
              transform: scale(1.05);
            }
          }
          
          .shimmer-effect {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            background-size: 200px 100%;
            animation: shimmer 2s infinite;
          }
          
          .modal-backdrop {
            animation: backdropFadeIn 0.3s ease-out;
          }
          
          .modal-content {
            animation: modalSlideIn 0.4s ease-out;
          }
          
          .flash-animation {
            animation: flash 2s infinite;
          }
        `}),(0,t.jsxs)("div",{className:"jsx-53d6791cd021ef43 w-full px-6",children:[(0,t.jsxs)("div",{className:"jsx-53d6791cd021ef43 flex items-center gap-6 mb-12",children:[(0,t.jsx)("button",{onClick:()=>{"selectId"===p?e.back():"manageBetId"===p?b("selectId"):"selectNetwork"===p?b("manageBetId"):"selectPhone"===p?b("selectNetwork"):"enterDetails"===p?b("selectPhone"):"summary"===p&&b("enterDetails")},className:"jsx-53d6791cd021ef43 p-2 -ml-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-53d6791cd021ef43 h-8 w-8",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18",className:"jsx-53d6791cd021ef43"})})}),(0,t.jsx)("h1",{className:"jsx-53d6791cd021ef43 text-3xl font-bold tracking-tight",children:(()=>{switch(p){case"selectId":default:return"Retrait";case"manageBetId":return"Retrait - ID Utilisateur";case"selectNetwork":return"Retrait - RÃ©seau";case"selectPhone":return"Retrait - NumÃ©ro de tÃ©lÃ©...";case"enterDetails":return"Retrait - Informations";case"summary":return"Confirmer le retrait"}})()})]}),(0,t.jsx)("div",{className:"jsx-53d6791cd021ef43 pb-24",children:(0,t.jsxs)("div",{className:"jsx-53d6791cd021ef43",children:[B&&(0,t.jsx)("div",{className:"jsx-53d6791cd021ef43 mb-6 p-4 bg-gradient-to-r from-red-900/50 to-red-800/50 border border-red-600/50 text-red-300 rounded-2xl backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"jsx-53d6791cd021ef43 flex items-center",children:[(0,t.jsx)(d.XCircle,{className:"w-5 h-5 mr-3"}),B]})}),F&&(0,t.jsx)("div",{className:"jsx-53d6791cd021ef43 mb-6 p-4 bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-600/50 text-green-300 rounded-2xl backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"jsx-53d6791cd021ef43 flex items-center",children:[(0,t.jsx)(n.CheckCircle,{className:"w-5 h-5 mr-3"}),F]})}),!I||F||B?(()=>{switch(p){case"selectId":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("h3",{className:`text-xl font-bold ${R.colors.text} mb-2`,children:"1. SÃ©lectionnez votre plateforme"})}),(0,t.jsx)("div",{className:"w-full flex justify-center",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 w-full",children:j.map(e=>{let r=f?.id===e.id;return(0,t.jsxs)("div",{onClick:()=>(e=>{if(!localStorage.getItem("accessToken")){window.location.href="/login";return}g(e),b("manageBetId")})(e),className:`cursor-pointer bg-white dark:bg-slate-800 border rounded-2xl flex flex-col items-center p-6 transition-all duration-300
                        ${r?"border-blue-500 ring-1 ring-blue-500":"border-slate-200 dark:border-slate-700 hover:border-blue-300"}`,children:[e.image&&(0,t.jsx)("div",{className:"h-20 w-20 flex items-center justify-center mb-4",children:(0,t.jsx)("img",{src:e.image,alt:e.public_name||e.name,className:"h-16 w-16 object-contain"})}),(0,t.jsx)("div",{className:`font-medium text-base text-center uppercase tracking-wider ${R.colors.text}`,children:e.public_name||e.name})]},e.id)})})}),0===j.length&&!I&&(0,t.jsx)("div",{className:"flex flex-col items-center justify-center py-20 px-6",children:(0,t.jsx)("p",{className:`${R.colors.d_text} opacity-40 text-center`,children:h("Aucune plateforme disponible")})})]});case"selectNetwork":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("h3",{className:`text-xl font-bold ${R.colors.text} mb-2`,children:"3. SÃ©lectionnez votre rÃ©seau"})}),(0,t.jsx)("div",{className:"space-y-3",children:C.map(e=>(0,t.jsxs)("div",{onClick:()=>ec(e),className:`flex items-center gap-4 p-4 bg-white dark:bg-gray-800 border rounded-2xl cursor-pointer transition-all ${v?.id===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:[e.image?(0,t.jsx)("div",{className:"w-14 h-14 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-contain"})}):(0,t.jsx)("div",{className:`w-14 h-14 ${"dark"===R.mode?"bg-slate-800":"bg-gray-100"} rounded-lg flex items-center justify-center flex-shrink-0`,children:(0,t.jsx)(i.Phone,{className:`w-6 h-6 ${R.colors.d_text} opacity-40`})}),(0,t.jsx)("span",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e.public_name||e.name})]},e.id))}),(0,t.jsx)("div",{className:"pt-6",children:(0,t.jsx)("button",{onClick:()=>{v&&ec(v)},disabled:!v,className:`w-full py-4 rounded-2xl font-bold text-lg transition-all ${v?"bg-gray-400 hover:bg-gray-500 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Suivant"})}),(0,t.jsx)("div",{className:"flex justify-center pt-4",children:(0,t.jsxs)("button",{onClick:()=>b("manageBetId"),className:`${R.colors.d_text} opacity-60 flex items-center gap-2 hover:opacity-100 transition-opacity`,children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),h("Retour")]})})]});case"selectPhone":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("h3",{className:`text-xl font-bold ${R.colors.text} mb-2`,children:["4. Choisissez ou enregistrez votre numÃ©ro ",v?.public_name||v?.name]})}),U?(0,t.jsx)("div",{className:"flex justify-center py-20",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-3",children:D.map(e=>(0,t.jsxs)("div",{onClick:()=>{V(e),b("enterDetails")},className:`flex items-center justify-between ${R.colors.a_background} border ${"dark"===R.mode?"border-slate-700":"border-slate-200"} rounded-2xl px-4 py-4 cursor-pointer hover:border-blue-300 transition-all`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(i.Phone,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("span",{className:`text-lg font-medium ${R.colors.text}`,children:eo(e.phone)})]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),ed(e.id)},className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))}),(0,t.jsx)("div",{className:"pt-6",children:(0,t.jsxs)("button",{onClick:()=>b("addPhone"),className:"w-full py-4 border-2 border-[#1e4a8e] text-[#1e4a8e] dark:border-blue-400 dark:text-blue-400 rounded-2xl flex items-center justify-center gap-3 font-bold text-lg hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors",children:[(0,t.jsx)(m.Plus,{size:24,strokeWidth:2.5}),"Ajouter un numÃ©ro"]})}),(0,t.jsx)("div",{className:"flex justify-center pt-4",children:(0,t.jsxs)("button",{onClick:()=>b("selectNetwork"),className:`${R.colors.d_text} opacity-60 flex items-center gap-2 hover:opacity-100 transition-opacity`,children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),h("Retour")]})})]})]});case"manageBetId":let e=z.filter(e=>e.app_name.id===f?.id),r=async e=>{let t=localStorage.getItem("accessToken");if(t)try{await x.default.delete(`/blaffa/id_link/${e}`,{headers:{Authorization:`Bearer ${t}`}}),S(t=>t.filter(t=>t.id!==e))}catch{P(h("Erreur lors de la suppression de l'ID"))}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("h3",{className:`text-xl font-bold ${R.colors.text} mb-2`,children:["2. Choisissez ou crÃ©ez votre ID pour ",f?.public_name||f?.name]})}),(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsxs)("div",{onClick:()=>{W(e.link),b("selectNetwork")},className:`flex items-center justify-between ${R.colors.a_background} border ${"dark"===R.mode?"border-slate-700":"border-slate-200"} rounded-2xl px-6 py-5 cursor-pointer hover:border-blue-300 transition-all`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[f?.image&&(0,t.jsx)("div",{className:`${"dark"===R.mode?"bg-slate-700":"bg-slate-50"} p-2 rounded-lg`,children:(0,t.jsx)("img",{src:f.image,alt:"",className:"w-10 h-10 object-contain"})}),(0,t.jsx)("span",{className:`text-xl font-bold tracking-wider ${R.colors.text}`,children:e.link})]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),r(e.id)},className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))}),(0,t.jsx)("div",{className:"pt-6",children:(0,t.jsxs)("button",{onClick:()=>{let e=f?.public_name||f?.name||"",t=f?.id||"";window.location.href=`/bet_id?origin=withdraw&platform=${encodeURIComponent(e)}&platform_id=${t}`},className:"w-full py-4 border border-[#002d72] dark:border-blue-400 rounded-2xl flex items-center justify-center gap-3 text-[#002d72] dark:text-blue-400 font-bold text-lg hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors",children:[(0,t.jsx)(m.Plus,{size:24,strokeWidth:2.5}),"CrÃ©er un nouvel ID"]})}),(0,t.jsx)("div",{className:"flex justify-center pt-8",children:(0,t.jsxs)("button",{onClick:()=>b("selectId"),className:`${R.colors.d_text} opacity-60 flex items-center gap-2 hover:opacity-100 transition-opacity`,children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),h("Retour aux plateformes")]})})]});case"addPhone":return(0,t.jsxs)("div",{className:`min-h-screen ${R.colors.a_background}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsx)("button",{onClick:()=>b("selectPhone"),className:`p-1 ${R.colors.hover} rounded-full transition-colors`,children:(0,t.jsx)(u.ArrowLeft,{size:28,className:R.colors.text})}),(0,t.jsx)("h3",{className:`text-xl font-bold ${R.colors.text}`,children:"Retrait - NumÃ©ro de tÃ©lÃ©..."})]}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("h4",{className:`text-lg font-bold ${R.colors.text} mb-2`,children:["4. Choisissez ou enregistrez votre numÃ©ro ",v?.public_name||v?.name]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:`block text-lg font-bold ${R.colors.text} mb-2 px-1`,children:"Nouveau numÃ©ro"}),(0,t.jsx)("input",{type:"tel",value:Q,onChange:e=>Z(e.target.value),placeholder:"Entrez votre numÃ©ro",className:`w-full h-14 px-4 rounded-xl border ${"dark"===R.mode?"border-slate-700":"border-gray-300"} ${R.colors.a_background} text-lg ${R.colors.text} focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all placeholder:text-gray-400`}),B&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-2 px-1",children:B})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:()=>b("selectPhone"),className:"flex-1 h-14 border-2 border-[#1e4a8e] text-[#1e4a8e] dark:border-blue-400 dark:text-blue-400 font-bold text-lg rounded-2xl hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors",children:"Annuler"}),(0,t.jsx)("button",{onClick:async()=>{await es()&&b("selectPhone")},disabled:!Q,className:"flex-1 h-14 bg-[#1a4384] text-white font-bold text-lg rounded-2xl shadow-lg hover:bg-[#15386b] transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"dark"===R.mode?R.colors.primary:"#1a4384"},children:I?"...":"Enregistrer"})]})]})]});case"enterDetails":return(0,t.jsxs)("div",{className:`min-h-screen ${R.colors.a_background}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsx)("button",{onClick:()=>b("selectPhone"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:(0,t.jsx)(u.ArrowLeft,{size:28,className:"text-gray-900 dark:text-gray-100"})}),(0,t.jsx)("h3",{className:`text-xl font-bold ${R.colors.text}`,children:"5. Confirmer le retrait"})]}),f&&(f.city||f.street)&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[f.street&&(0,t.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:["Rue: ",f.street]}),f.city&&(0,t.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:["Ville: ",f.city]})]}),(0,t.jsxs)("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-xl flex items-start gap-3",children:[(0,t.jsx)(c,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("p",{className:"text-sm text-orange-700",children:["Assurez-vous que le montant est dans les limites autorisÃ©es ",em().min," F - ",em().max," F."]})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ex()&&b("summary")},className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"text",name:"withdrawalCode",value:k.withdrawalCode,onChange:eu,className:`w-full h-14 px-4 rounded-xl border ${"dark"===R.mode?"border-slate-700":"border-gray-300"} ${R.colors.a_background} text-lg ${R.colors.text} focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Code de retrait",required:!0}),$.withdrawalCode&&(0,t.jsx)("p",{className:"mt-2 text-sm text-red-500",children:$.withdrawalCode})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"number",name:"amount",value:k.amount,onChange:eu,className:`w-full h-14 px-4 rounded-xl border ${!k.amount?"dark"===R.mode?"border-slate-700":"border-gray-300":parseFloat(k.amount)<em().min||parseFloat(k.amount)>em().max?"border-red-500":"border-green-500"} ${R.colors.a_background} text-lg ${R.colors.text} focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all`,placeholder:"Montant (F CFA)",required:!0,min:em().min,max:em().max,step:"1"}),(0,t.jsxs)("div",{className:`mt-2 text-sm font-medium ${!k.amount||parseFloat(k.amount)<em().min||parseFloat(k.amount)>em().max?"text-red-500":"text-green-500"}`,children:[em().min," F - ",em().max," F"]}),$.amount&&(0,t.jsx)("p",{className:"mt-2 text-sm text-red-500",children:$.amount})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:`w-1/3 flex items-center justify-center gap-2 h-14 rounded-xl border ${"dark"===R.mode?"border-slate-700":"border-gray-300"} ${R.colors.a_background}`,children:[(0,t.jsx)("span",{className:"text-2xl",children:(e=>{if(!e)return"ðŸ‡§ðŸ‡«";switch(e.replace("+","")){case"226":return"ðŸ‡§ðŸ‡«";case"225":return"ðŸ‡¨ðŸ‡®";case"223":return"ðŸ‡²ðŸ‡±";case"221":return"ðŸ‡¸ðŸ‡³";case"228":return"ðŸ‡¹ðŸ‡¬";case"229":return"ðŸ‡§ðŸ‡¯";case"237":return"ðŸ‡¨ðŸ‡²";case"224":return"ðŸ‡¬ðŸ‡³";case"241":return"ðŸ‡¬ðŸ‡¦";case"242":return"ðŸ‡¨ðŸ‡¬";case"243":return"ðŸ‡¨ðŸ‡©";case"227":return"ðŸ‡³ðŸ‡ª";case"233":return"ðŸ‡¬ðŸ‡­";case"234":return"ðŸ‡³ðŸ‡¬";default:return"ðŸŒ"}})(v?.indication)}),(0,t.jsx)("span",{className:`text-lg font-bold ${R.colors.text}`,children:v?.indication||"+226"})]}),(0,t.jsxs)("div",{className:`flex-1 relative flex items-center h-14 px-4 rounded-xl border ${"dark"===R.mode?"border-slate-700":"border-gray-300"} ${R.colors.a_background}`,children:[(0,t.jsx)("span",{className:`text-lg ${R.colors.text}`,children:q?en(q.phone):""}),(0,t.jsx)("label",{className:"absolute -top-2.5 left-3 px-1 bg-white dark:bg-slate-900 text-xs text-gray-500",children:"NumÃ©ro de tÃ©lÃ©phone"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[f?.withdrawal_link&&(0,t.jsxs)("button",{type:"button",onClick:()=>window.open(f.withdrawal_link,"_blank"),className:"w-full p-4 rounded-xl border border-gray-200 bg-white dark:bg-slate-800 dark:border-slate-700 flex items-center justify-between shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center text-white",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,t.jsxs)("div",{className:"text-left w-full",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 text-left",children:"Tutoriel vidÃ©o"}),(0,t.jsxs)("div",{className:`font-bold text-sm ${R.colors.text} text-red-600 text-left uppercase text-xs truncate max-w-[200px]`,children:["Comment obtenir un code de retrait avec ",f?.public_name||f?.name," ?"]})]})]}),(0,t.jsx)("div",{className:"text-red-500",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),f?.why_withdrawal_fail&&(0,t.jsxs)("button",{type:"button",onClick:()=>window.open(f.why_withdrawal_fail,"_blank"),className:"w-full p-4 rounded-xl border border-gray-200 bg-white dark:bg-slate-800 dark:border-slate-700 flex items-center justify-between shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center text-white",children:(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,t.jsxs)("div",{className:"text-left w-full",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 text-left",children:"Tutoriel vidÃ©o"}),(0,t.jsx)("div",{className:`font-bold text-sm ${R.colors.text} text-red-600 text-left uppercase text-xs`,children:"Pourquoi mon retrait a Ã©chouÃ© ?"})]})]}),(0,t.jsx)("div",{className:"text-red-500",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),(0,t.jsx)("div",{className:"pt-6 pb-20",children:(0,t.jsx)("button",{type:"submit",disabled:I||!k.amount||!q,className:"w-full h-14 text-white font-bold text-lg rounded-2xl shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"dark"===R.mode?R.colors.primary:"#9ca3af"},children:I?"Traitement...":"Retrait"})})]})]});case"summary":return(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-r from-[#002d72] to-[#1a4384] rounded-3xl p-8 text-white shadow-xl",children:[(0,t.jsxs)("div",{className:"relative z-10 flex items-center gap-6",children:[(0,t.jsx)("div",{className:"bg-white/20 backdrop-blur-md p-4 rounded-2xl",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-1 font-outfit uppercase",children:"Confirmer le retrait"}),(0,t.jsx)("p",{className:"text-blue-100 opacity-80 uppercase tracking-wide text-sm font-medium",children:"VÃ©rifiez vos informations"})]})]}),(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-12 -mt-12 bg-white/10 w-48 h-48 rounded-full blur-3xl"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:`flex items-center gap-5 p-5 ${"dark"===R.mode?"bg-slate-800":"bg-white"} border ${"dark"===R.mode?"border-slate-700":"border-slate-100"} rounded-3xl shadow-sm hover:shadow-md transition-all`,children:[(0,t.jsx)("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center p-2 ${"dark"===R.mode?"bg-slate-700":"bg-slate-50"}`,children:f?.image?(0,t.jsx)("img",{src:f.image,alt:"",className:"w-10 h-10 object-contain rounded-lg"}):(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`text-sm ${R.colors.d_text} opacity-50 font-medium uppercase tracking-wider mb-0.5`,children:"Application"}),(0,t.jsx)("p",{className:`text-xl font-bold ${R.colors.text} tracking-tight`,children:f?.public_name||f?.name})]})]}),(0,t.jsxs)("div",{className:`flex items-center gap-5 p-5 ${"dark"===R.mode?"bg-slate-800":"bg-white"} border ${"dark"===R.mode?"border-slate-700":"border-slate-100"} rounded-3xl shadow-sm hover:shadow-md transition-all`,children:[(0,t.jsx)("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${"dark"===R.mode?"bg-green-900/20":"bg-green-50"}`,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-7 w-7 ${"dark"===R.mode?"text-green-400":"text-green-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`text-sm ${R.colors.d_text} opacity-50 font-medium uppercase tracking-wider mb-0.5`,children:"ID Utilisateur"}),(0,t.jsx)("p",{className:`text-xl font-bold ${R.colors.text} tracking-wider`,children:T})]})]}),(0,t.jsxs)("div",{className:`flex items-center gap-5 p-5 ${"dark"===R.mode?"bg-slate-800":"bg-white"} border ${"dark"===R.mode?"border-slate-700":"border-slate-100"} rounded-3xl shadow-sm hover:shadow-md transition-all`,children:[(0,t.jsx)("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center p-2 ${"dark"===R.mode?"bg-slate-700":"bg-slate-50"}`,children:v?.image?(0,t.jsx)("img",{src:v.image,alt:"",className:"w-10 h-10 object-contain"}):(0,t.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`text-sm ${R.colors.d_text} opacity-50 font-medium uppercase tracking-wider mb-0.5`,children:"RÃ©seau"}),(0,t.jsx)("p",{className:`text-xl font-bold ${R.colors.text} tracking-tight`,children:(v?.public_name||v?.name)?.toUpperCase()})]})]}),(0,t.jsxs)("div",{className:`flex items-center gap-5 p-5 ${"dark"===R.mode?"bg-slate-800":"bg-white"} border ${"dark"===R.mode?"border-slate-700":"border-slate-100"} rounded-3xl shadow-sm hover:shadow-md transition-all`,children:[(0,t.jsx)("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${"dark"===R.mode?"bg-purple-900/20":"bg-purple-50"}`,children:(0,t.jsx)(i.Phone,{className:`h-7 w-7 ${"dark"===R.mode?"text-purple-400":"text-purple-600"}`})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`text-sm ${R.colors.d_text} opacity-50 font-medium uppercase tracking-wider mb-0.5`,children:"NumÃ©ro de tÃ©lÃ©phone"}),(0,t.jsx)("p",{className:`text-xl font-bold ${R.colors.text} tracking-wider`,children:q?.phone||""})]})]})]}),(0,t.jsxs)("div",{className:`p-5 rounded-3xl flex items-start gap-4 ${"dark"===R.mode?"bg-amber-900/10 border border-amber-900/50":"bg-amber-50 border border-amber-100"}`,children:[(0,t.jsx)("div",{className:`mt-0.5 p-2 rounded-xl ${"dark"===R.mode?"bg-amber-900/30":"bg-white shadow-sm"}`,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("p",{className:`text-sm font-medium ${"dark"===R.mode?"text-amber-200/70":"text-amber-700/80"} leading-relaxed`,children:"Veuillez confirmer que vous avez bien accÃ¨s Ã  ce numÃ©ro de tÃ©lÃ©phone pour recevoir le paiement."})]}),(0,t.jsxs)("div",{className:"pt-4 flex flex-col gap-4",children:[(0,t.jsx)("button",{onClick:ef,disabled:I,className:"w-full h-18 bg-[#002d72] hover:bg-[#001d4a] text-white font-bold text-xl rounded-full shadow-xl shadow-blue-900/20 transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-3 py-6",children:I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}),(0,t.jsx)("span",{children:"Traitement..."})]}):(0,t.jsx)("span",{children:"Confirmer le retrait"})}),(0,t.jsx)("button",{onClick:()=>b("enterDetails"),disabled:I,className:`w-full py-4 text-center font-bold text-lg ${R.colors.d_text} opacity-50 hover:opacity-100 transition-opacity disabled:opacity-30`,children:"Retour pour modification"})]})]})}})():(0,t.jsx)("div",{className:"jsx-53d6791cd021ef43 flex justify-center items-center p-20",children:(0,t.jsxs)("div",{className:"jsx-53d6791cd021ef43 relative",children:[(0,t.jsx)("div",{className:"jsx-53d6791cd021ef43 animate-spin rounded-full h-16 w-16 border-4 border-blue-500/30 border-t-blue-500"}),(0,t.jsx)("div",{className:"jsx-53d6791cd021ef43 absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/20 to-blue-500/20 animate-pulse"})]})})]})})]}),(0,t.jsx)(r.default,{id:"53d6791cd021ef43",children:"@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.animate-fade-in.jsx-53d6791cd021ef43{animation:.3s ease-out forwards fadeIn}.animate-scale-in.jsx-53d6791cd021ef43{animation:.3s ease-out forwards scaleIn}"}),K&&G&&(0,t.jsx)("div",{className:"jsx-53d6791cd021ef43 fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 modal-backdrop",children:(0,t.jsx)("div",{className:`jsx-53d6791cd021ef43 ${R.colors.background} rounded-lg shadow-xl w-full max-w-md modal-content`,children:(0,t.jsxs)("div",{className:"jsx-53d6791cd021ef43 p-6",children:[(0,t.jsxs)("div",{className:"jsx-53d6791cd021ef43 flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"jsx-53d6791cd021ef43 text-lg font-semibold",children:h("Modifier le numÃ©ro de tÃ©lÃ©phone")}),(0,t.jsx)("button",{onClick:()=>{X(!1),J(null),Z("")},className:"jsx-53d6791cd021ef43 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-53d6791cd021ef43 w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12",className:"jsx-53d6791cd021ef43"})})})]}),(0,t.jsx)("div",{className:"jsx-53d6791cd021ef43 space-y-4",children:(0,t.jsxs)("div",{className:"jsx-53d6791cd021ef43",children:[(0,t.jsx)("label",{className:"jsx-53d6791cd021ef43 block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:h("NumÃ©ro de tÃ©lÃ©phone")}),(0,t.jsx)("input",{type:"tel",value:Q,onChange:e=>Z(e.target.value),placeholder:"ex: 771234567",className:"jsx-53d6791cd021ef43 w-full p-2 border rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white border-slate-300 dark:border-slate-600"}),(0,t.jsx)("p",{className:"jsx-53d6791cd021ef43 text-xs text-slate-500 dark:text-slate-400 mt-1",children:h("Entrez le numÃ©ro sans le prÃ©fixe +225")})]})}),(0,t.jsxs)("div",{className:"jsx-53d6791cd021ef43 mt-6 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>{X(!1),J(null),Z("")},className:"jsx-53d6791cd021ef43 px-4 py-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",children:h("Annuler")}),(0,t.jsx)("button",{onClick:ei,disabled:!Q.trim(),className:"jsx-53d6791cd021ef43 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:h("Modifier")})]})]})})})]})}e.s(["default",()=>h],11186)}]);