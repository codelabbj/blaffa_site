{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/lib/axios.ts"],"sourcesContent":["import axios, { AxiosError, InternalAxiosRequestConfig } from 'axios';\r\n\r\nconst API_URL = 'https://api.blaffa.net';\r\n\r\n// Create axios instance with base URL\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nlet isRefreshing = false;\r\nlet failedQueue: Array<{\r\n  resolve: (token: string) => void;\r\n  reject: (error: unknown) => void;\r\n}> = [];\r\n\r\nconst processQueue = (error: unknown, token: string | null = null) => {\r\n  failedQueue.forEach(prom => {\r\n    if (error) {\r\n      prom.reject(error);\r\n    } else {\r\n      prom.resolve(token!);\r\n    }\r\n  });\r\n  failedQueue = [];\r\n};\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('accessToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle token refresh\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error: AxiosError) => {\r\n    const originalRequest = error.config as InternalAxiosRequestConfig & { _retry?: boolean };\r\n\r\n    // If the error is 401 and we haven't tried to refresh yet\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      if (isRefreshing) {\r\n        // If we're already refreshing, add the request to the queue\r\n        return new Promise((resolve, reject) => {\r\n          failedQueue.push({ resolve, reject });\r\n        })\r\n          .then((token) => {\r\n            originalRequest.headers.Authorization = `Bearer ${token}`;\r\n            return api(originalRequest);\r\n          })\r\n          .catch((err) => {\r\n            return Promise.reject(err);\r\n          });\r\n      }\r\n\r\n      originalRequest._retry = true;\r\n      isRefreshing = true;\r\n\r\n      try {\r\n        const refreshToken = localStorage.getItem('refreshToken');\r\n        if (!refreshToken) {\r\n          // No refresh token available, redirect to login\r\n          localStorage.removeItem('accessToken');\r\n          window.location.href = '/login';\r\n          return Promise.reject(error);\r\n        }\r\n\r\n        // Try to refresh the token\r\n        const response = await axios.post(\r\n          `${API_URL}/auth/refresh`,\r\n          { refresh: refreshToken },\r\n          { headers: { 'Content-Type': 'application/json' } }\r\n        );\r\n\r\n        const { access, refresh: newRefresh } = response.data;\r\n\r\n        // Update tokens in localStorage\r\n        localStorage.setItem('accessToken', access);\r\n        if (newRefresh) {\r\n          localStorage.setItem('refreshToken', newRefresh);\r\n        }\r\n\r\n        // Update the Authorization header\r\n        api.defaults.headers.common.Authorization = `Bearer ${access}`;\r\n        originalRequest.headers.Authorization = `Bearer ${access}`;\r\n\r\n        // Process the queue\r\n        processQueue(null, access);\r\n\r\n        // Retry the original request\r\n        return api(originalRequest);\r\n      } catch (refreshError) {\r\n        // If refresh fails, clear tokens and redirect to login\r\n        console.error('Failed to refresh token:', refreshError);\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        window.location.href = '/login';\r\n        processQueue(refreshError);\r\n        return Promise.reject(refreshError);\r\n      } finally {\r\n        isRefreshing = false;\r\n      }\r\n    }\r\n\r\n    // For other errors, just reject\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU;AAEhB,sCAAsC;AACtC,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,IAAI,eAAe;AACnB,IAAI,cAGC,EAAE;AAEP,MAAM,eAAe,CAAC,OAAgB,QAAuB,IAAI;IAC/D,YAAY,OAAO,CAAC,CAAA;QAClB,IAAI,OAAO;YACT,KAAK,MAAM,CAAC;QACd,OAAO;YACL,KAAK,OAAO,CAAC;QACf;IACF;IACA,cAAc,EAAE;AAClB;AAEA,wCAAwC;AACxC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,+CAA+C;AAC/C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,0DAA0D;IAC1D,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC7D,IAAI,cAAc;YAChB,4DAA4D;YAC5D,OAAO,IAAI,QAAQ,CAAC,SAAS;gBAC3B,YAAY,IAAI,CAAC;oBAAE;oBAAS;gBAAO;YACrC,GACG,IAAI,CAAC,CAAC;gBACL,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;gBACzD,OAAO,IAAI;YACb,GACC,KAAK,CAAC,CAAC;gBACN,OAAO,QAAQ,MAAM,CAAC;YACxB;QACJ;QAEA,gBAAgB,MAAM,GAAG;QACzB,eAAe;QAEf,IAAI;YACF,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,CAAC,cAAc;gBACjB,gDAAgD;gBAChD,aAAa,UAAU,CAAC;gBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACvB,OAAO,QAAQ,MAAM,CAAC;YACxB;YAEA,2BAA2B;YAC3B,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAC/B,GAAG,QAAQ,aAAa,CAAC,EACzB;gBAAE,SAAS;YAAa,GACxB;gBAAE,SAAS;oBAAE,gBAAgB;gBAAmB;YAAE;YAGpD,MAAM,EAAE,MAAM,EAAE,SAAS,UAAU,EAAE,GAAG,SAAS,IAAI;YAErD,gCAAgC;YAChC,aAAa,OAAO,CAAC,eAAe;YACpC,IAAI,YAAY;gBACd,aAAa,OAAO,CAAC,gBAAgB;YACvC;YAEA,kCAAkC;YAClC,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAC9D,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAE1D,oBAAoB;YACpB,aAAa,MAAM;YAEnB,6BAA6B;YAC7B,OAAO,IAAI;QACb,EAAE,OAAO,cAAc;YACrB,uDAAuD;YACvD,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB,aAAa;YACb,OAAO,QAAQ,MAAM,CAAC;QACxB,SAAU;YACR,eAAe;QACjB;IACF;IAEA,gCAAgC;IAChC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/app/deposit/page.tsx"],"sourcesContent":["'use client';\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\n//import Head from 'next/head';\n//import axios from 'axios';\nimport { useTranslation } from 'react-i18next';\n//import styles from '../styles/Deposits.module.css';\n//import { ClipboardIcon } from 'lucide-react'; // Make sure to install this package\n//import { Transaction } from 'mongodb';\n//import DashboardHeader from '@/components/DashboardHeader';\nimport { useTheme } from '@/components/ThemeProvider';\nimport { useWebSocket } from '../../context/WebSocketContext';\nimport { Check, CheckCircle, Phone, XCircle, Copy, Plus, ArrowLeft } from 'lucide-react';\nimport api from '@/lib/axios';\nimport DashboardHeader from '@/components/DashboardHeader';\n// import { CopyIcon } from 'lucide-react';\n\n\n//import { Transaction } from 'mongodb';\n\ninterface Network {\n  id: string;\n  name: string;\n  public_name: string;\n  country_code: string;\n  indication?: string;\n  placeholder?: string;\n  image?: string;\n  otp_required?: boolean;\n  message_init?: string;\n  deposit_api?: string;\n  deposit_message?: string;\n  tape_code?: string;\n  payment_by_link?: boolean;\n}\n\ninterface App {\n  id: string;\n  name: string;\n  image: string;\n  is_active: boolean;\n  hash: string;\n  cashdeskid: string;\n  cashierpass: string;\n  order: string | null;\n  city: string;\n  street: string;\n  deposit_tuto_content: string;\n  deposit_link: string;\n  withdrawal_tuto_content: string;\n  withdrawal_link: string;\n  public_name: string;\n  minimun_deposit?: string;\n  max_deposit?: string;\n  minimum_deposit?: number;\n  maximum_deposit?: number;\n  deposit_message?: string;\n}\n\n\n// Updated IdLink interface to match the structure from profile/page.tsx\ninterface IdLink {\n  id: string;\n  user: string;\n  link: string; // This is the saved bet ID\n  app_name: App; // This should be the full App object\n}\n\ninterface WebSocketMessage {\n  type: string;\n  data?: string;\n}\n\ninterface UserPhone {\n  id: string;\n  phone: string;\n  network: number;\n  network_name?: string;\n  is_default?: boolean;\n}\n\ninterface Transaction {\n  id: string;\n  amount: number;\n  type_trans: string;\n  status: string;\n  reference: string;\n  created_at: string;\n  network?: Network;\n  app?: App;\n  phone_number?: string;\n  user_app_id?: string;\n  error_message?: string;\n  ussd_code?: string;\n  transaction_link?: string;\n}\n\ninterface TransactionDetail {\n  transaction: Transaction;\n}\n\n// interface ApiError extends Error {\n//   response?: {\n//     status: number;\n//     data: {\n//       [key: string]: string | string[] | undefined;\n//       detail?: string;\n//     };\n//   };\n// }\n\n// interface ErrorResponse {\n\n//   data?: {\n//     [key: string]: string[] | string | undefined;\n//     detail?: string;\n//     message?: string;\n//   };\n//   status?: number;\n// }\nfunction isAxiosError(error: unknown): error is { response?: { status: number; data: any } } {\n  return typeof error === 'object' && error !== null && 'response' in error;\n}\n\n\ninterface ApiErrorResponse {\n  status: number;\n  data: {\n    [key: string]: any;\n    detail?: string;\n    message?: string;\n  };\n}\n\ninterface ApiError extends Error {\n  response?: ApiErrorResponse;\n}\n\nexport default function Deposits() {\n  const router = useRouter();\n  const { t } = useTranslation();\n  const [currentStep, setCurrentStep] = useState<'selectId' | 'selectNetwork' | 'selectPhone' | 'manageBetId' | 'enterDetails' | 'addPhone' | 'summary'>('selectId');\n  const [selectedPlatform, setSelectedPlatform] = useState<App | null>(null);\n  const [platforms, setPlatforms] = useState<App[]>([]);\n  const [selectedNetwork, setSelectedNetwork] = useState<{ id: string; name: string; public_name?: string; country_code?: string; indication?: string; placeholder?: string; image?: string, otp_required?: boolean, tape_code?: string, deposit_api?: string, deposit_message?: string, payment_by_link?: boolean } | null>(null);\n  const [formData, setFormData] = useState({\n    amount: '',\n    phoneNumber: '',\n    betid: '',\n    otp_code: '',// Add OTP field to form state\n  });\n\n  const [validationErrors, setValidationErrors] = useState({\n    amount: '',\n    phoneNumber: '',\n    otp_code: '',\n  });\n\n  const [networks, setNetworks] = useState<{ id: string; name: string; public_name?: string; indication?: string; placeholder?: string; image?: string, otp_required?: boolean, tape_code?: string, deposit_api?: string, payment_by_link?: boolean }[]>([]);\n  const [savedAppIds, setSavedAppIds] = useState<IdLink[]>([]); // Used in manageBetId and other steps\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [selectedTransaction, setSelectedTransaction] = useState<TransactionDetail | null>(null);\n  const [transactionLink, setTransactionLink] = useState<string | null>(null);\n  const { theme } = useTheme();\n  const { addMessageHandler } = useWebSocket();\n  const [selectedBetId, setSelectedBetId] = useState<string | null>(null);\n\n  // Phone number management state\n  const [userPhones, setUserPhones] = useState<UserPhone[]>([]);\n  const [selectedPhone, setSelectedPhone] = useState<UserPhone | null>(null);\n  const [phoneLoading, setPhoneLoading] = useState(false);\n  // const [showAddPhoneModal, setShowAddPhoneModal] = useState(false); // Removed\n  const [showEditPhoneModal, setShowEditPhoneModal] = useState(false);\n  const [phoneToEdit, setPhoneToEdit] = useState<UserPhone | null>(null);\n  const [newPhoneNumber, setNewPhoneNumber] = useState('');\n\n\n  useEffect(() => {\n    const handleTransactionLink = (data: WebSocketMessage) => {\n      if (data.type === 'transaction_link' && data.data) {\n        setTransactionLink(data.data); // Save the link for the modal button\n      }\n    };\n    const removeHandler = addMessageHandler(handleTransactionLink);\n    return () => removeHandler();\n  }, [addMessageHandler]);\n\n  // Auto-hide error messages after 20 seconds\n  useEffect(() => {\n    if (error) {\n      const timer = setTimeout(() => {\n        setError('');\n      }, 20000); // 20 seconds\n\n      return () => clearTimeout(timer);\n    }\n  }, [error]);\n\n  // Format phone number with indication from selected network\n  const formatPhoneWithCountryCode = (phoneNumber: string): string => {\n    if (!selectedNetwork?.indication || !phoneNumber) return phoneNumber;\n\n    const indication = selectedNetwork.indication;\n\n    // If phone already starts with +, return as-is\n    if (phoneNumber.startsWith('+')) {\n      return phoneNumber;\n    }\n\n    // If phone already starts with the indication, add +\n    if (phoneNumber.startsWith(indication.replace('+', ''))) {\n      return `+${phoneNumber}`;\n    }\n\n    // If phone already starts with indication (without +), add +\n    if (phoneNumber.startsWith(indication)) {\n      return phoneNumber;\n    }\n\n    // Otherwise, prepend the indication\n    return `${indication}${phoneNumber}`;\n  };\n\n  // Strip indication from phone number for transaction requests\n  const stripPhoneIndication = (phoneNumber: string): string => {\n    if (!selectedNetwork?.indication || !phoneNumber) return phoneNumber;\n\n    const indication = selectedNetwork.indication;\n\n    // Remove + prefix from indication for comparison\n    const indicationWithoutPlus = indication.replace('+', '');\n\n    // If phone starts with +, remove the indication part\n    if (phoneNumber.startsWith('+')) {\n      if (phoneNumber.startsWith(indication)) {\n        return phoneNumber.substring(indication.length);\n      }\n    }\n\n    // If phone starts with indication without +, remove it\n    if (phoneNumber.startsWith(indicationWithoutPlus)) {\n      return phoneNumber.substring(indicationWithoutPlus.length);\n    }\n\n    // Return as-is if no indication found\n    return phoneNumber;\n  };\n\n  // Fetch networks and saved app IDs on component mount\n  const fetchPlatforms = async () => {\n    // Public fetch - no token required\n    try {\n      // Use axios directly or api instance without auth header for this request if possible\n      // Or just let api instance handle it (if no token in localStorage, no header added usually)\n      const response = await api.get('/blaffa/app_name?operation_type=deposit');\n\n      if (response.status === 200) {\n        const data = response.data;\n        setPlatforms(Array.isArray(data) ? data : []);\n      } else {\n        console.error('Failed to fetch platforms:', response.status);\n        setPlatforms([]);\n      }\n    } catch (error) {\n      console.error('Error fetching platforms:', error);\n      setPlatforms([]);\n    }\n  };\n\n  // ... (UserPhones functions unchanged) ...\n\n  // Fetch networks and saved app IDs on component mount\n  useEffect(() => {\n    const fetchData = async () => {\n      const token = localStorage.getItem('accessToken');\n\n      // We allow loading the page without token now to see platforms\n      // specific user data (networks, saved IDs) will only be fetched if token exists\n\n      try {\n        setLoading(true);\n        const promises = [fetchPlatforms()];\n\n        if (token) {\n          promises.push(\n            api.get('/blaffa/network-v2/?type=deposit', {\n              headers: { Authorization: `Bearer ${token}` }\n            }).then(res => setNetworks(res.data))\n          );\n          promises.push(\n            api.get('/blaffa/id_link', {\n              headers: { Authorization: `Bearer ${token}` }\n            }).then(res => {\n              const data = res.data;\n              let processedData: IdLink[] = [];\n              if (Array.isArray(data)) processedData = data;\n              else if (data?.results) processedData = data.results;\n              else if (data?.data) processedData = data.data;\n              setSavedAppIds(processedData);\n            })\n          );\n        }\n\n        await Promise.allSettled(promises);\n\n      } catch (err) {\n        console.error('Error fetching data:', err);\n        // Don't show critical error if just public load\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handlePlatformSelect = (platform: App) => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      window.location.href = '/login';\n      return;\n    }\n    setSelectedPlatform(platform);\n    setCurrentStep('manageBetId');\n  };\n\n  // Fetch user phones for a specific network\n  const fetchUserPhones = async (networkId: string): Promise<UserPhone[]> => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) return [];\n\n    try {\n      const response = await api.get('/blaffa/user-phone/', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        params: { network: networkId }\n      });\n\n      if (response.status === 200) {\n        return Array.isArray(response.data) ? response.data : [];\n      }\n      return [];\n    } catch (error) {\n      console.error('Error fetching user phones:', error);\n      return [];\n    }\n  };\n\n  const addUserPhone = async (phone: string, networkId: string): Promise<UserPhone | null> => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) return null;\n\n    try {\n      const response = await api.post('/blaffa/user-phone/', {\n        phone: phone,\n        network: networkId\n      }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n\n      if (response.status === 201) {\n        return response.data;\n      }\n      return null;\n    } catch (error) {\n      console.error('Error adding user phone:', error);\n      return null;\n    }\n  };\n\n  const updateUserPhone = async (phoneId: string, phone: string): Promise<UserPhone | null> => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) return null;\n\n    try {\n      const response = await api.patch(`/blaffa/user-phone/${phoneId}/`, {\n        phone: phone\n      }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n\n      if (response.status === 200) {\n        return response.data;\n      }\n      return null;\n    } catch (error) {\n      console.error('Error updating user phone:', error);\n      return null;\n    }\n  };\n\n  const deleteUserPhone = async (phoneId: string): Promise<boolean> => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) return false;\n\n    try {\n      const response = await api.delete(`/blaffa/user-phone/${phoneId}/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n\n      return response.status === 204;\n    } catch (error) {\n      console.error('Error deleting user phone:', error);\n      return false;\n    }\n  };\n\n  const handleNetworkSelect = async (network: { id: string; name: string; public_name?: string; country_code?: string; indication?: string; placeholder?: string; image?: string, otp_required?: boolean, tape_code?: string, deposit_api?: string, payment_by_link?: boolean }) => {\n    setSelectedNetwork(network);\n\n    // Fetch user phones for this network\n    setPhoneLoading(true);\n    const phones = await fetchUserPhones(network.id);\n    setUserPhones(phones);\n    setPhoneLoading(false);\n\n    setCurrentStep('selectPhone');\n  };\n\n  // Save new bet ID\n  const saveBetId = async (betId: string) => {\n    if (!selectedPlatform || !betId) return;\n\n    const token = localStorage.getItem('accessToken');\n    if (!token) return;\n\n    try {\n      const response = await api.post('/blaffa/id_link', {\n\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          app_name: selectedPlatform.id,\n          link: betId\n        })\n      });\n\n      if (response.status === 201) {\n        const newIdLink = response.data;\n        setSavedAppIds(prev => [...prev, newIdLink]);\n      }\n    } catch (error) {\n      console.error('Error saving bet ID:', error);\n    }\n  };\n\n  // Phone management handlers\n  const handlePhoneSelect = (phone: UserPhone) => {\n    setSelectedPhone(phone);\n    setCurrentStep('enterDetails');\n  };\n\n  const handleAddPhone = async () => {\n    if (!selectedNetwork || !newPhoneNumber.trim()) return;\n\n    // Validate phone number length\n    if (newPhoneNumber.length > 10) {\n      setError(`Numéro de téléphone invalide. Le numéro ne doit pas dépasser 10 chiffres. Exemple: ${selectedNetwork.placeholder || '771234567'}`);\n      return;\n    }\n\n    // Format the phone number with country code before sending to API\n    const formattedPhone = newPhoneNumber.startsWith('+')\n      ? newPhoneNumber\n      : formatPhoneWithCountryCode(newPhoneNumber);\n\n    const addedPhone = await addUserPhone(formattedPhone, selectedNetwork.id);\n    if (addedPhone) {\n      setUserPhones(prev => [...prev, addedPhone]);\n      setNewPhoneNumber('');\n      return true;\n    } else {\n      setError(t('Failed to add phone number'));\n      return false;\n    }\n  };\n\n  const handleEditPhone = async () => {\n    if (!phoneToEdit || !newPhoneNumber.trim()) return;\n\n    // Format the phone number with country code before sending to API\n    const formattedPhone = newPhoneNumber.startsWith('+')\n      ? newPhoneNumber\n      : formatPhoneWithCountryCode(newPhoneNumber);\n\n    const updatedPhone = await updateUserPhone(phoneToEdit.id, formattedPhone);\n    if (updatedPhone) {\n      setUserPhones(prev => prev.map(phone =>\n        phone.id === phoneToEdit.id ? updatedPhone : phone\n      ));\n      setNewPhoneNumber('');\n      setShowEditPhoneModal(false);\n      setPhoneToEdit(null);\n    } else {\n      setError(t('Failed to update phone number'));\n    }\n  };\n\n  const handleDeletePhone = async (phoneId: string) => {\n    const success = await deleteUserPhone(phoneId);\n    if (success) {\n      setUserPhones(prev => prev.filter(phone => phone.id !== phoneId));\n      if (selectedPhone?.id === phoneId) {\n        setSelectedPhone(null);\n      }\n    } else {\n      setError(t('Failed to delete phone number'));\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear validation error when user starts typing\n    if (validationErrors[name as keyof typeof validationErrors]) {\n      setValidationErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  // Get current min and max deposit limits\n  const getDepositLimits = () => {\n    const minVal = selectedPlatform?.minimun_deposit || selectedPlatform?.minimum_deposit || '100';\n    const maxVal = selectedPlatform?.max_deposit || selectedPlatform?.maximum_deposit || '1000000';\n    return {\n      min: parseFloat(String(minVal)),\n      max: parseFloat(String(maxVal))\n    };\n  };\n\n  const getNetworkMinAmount = (): number => {\n    return getDepositLimits().min;\n  };\n\n  // Validation function for amount\n  const validateAmount = (amount: string): string => {\n    if (!amount || amount.trim() === '') {\n      return 'Le montant est requis';\n    }\n\n    const numAmount = parseFloat(amount);\n    if (isNaN(numAmount)) {\n      return 'Veuillez saisir un montant valide';\n    }\n\n    if (numAmount <= 0) {\n      return 'Le montant doit être supérieur à 0';\n    }\n\n    // Network-specific minimum amounts\n    let minAmount: number;\n    if (selectedNetwork?.name?.toLowerCase() === 'moov') {\n      minAmount = 505; // Moov minimum is 505 FCFA\n    } else if (selectedNetwork?.name?.toLowerCase() === 'orange') {\n      minAmount = 100; // Orange minimum is 100 FCFA\n    } else {\n      // Use platform-level minimum for other networks\n      minAmount = selectedPlatform?.minimum_deposit || parseFloat(selectedPlatform?.minimun_deposit || '100');\n    }\n\n    const maxAmount = selectedPlatform?.maximum_deposit || parseFloat(selectedPlatform?.max_deposit || '1000000');\n\n    if (numAmount < minAmount) {\n      return `Le montant minimum est ${minAmount} FCFA`;\n    }\n\n    if (numAmount > maxAmount) {\n      return `Le montant maximum est ${maxAmount} FCFA`;\n    }\n\n    return '';\n  };\n\n  // Validation function for phone number\n  const validatePhoneNumber = (phone: string): string => {\n    if (!phone || phone.trim() === '') {\n      return 'Le numéro de téléphone est requis';\n    }\n\n    // Remove spaces and check if it's a valid phone number format\n    const cleanPhone = phone.replace(/\\s+/g, '');\n    const phoneRegex = /^[0-9]{8,12}$/; // 8-12 digits\n\n    if (!phoneRegex.test(cleanPhone)) {\n      return 'Veuillez saisir un numéro de téléphone valide (8-12 chiffres)';\n    }\n\n    return '';\n  };\n\n  // Validation function for OTP code\n  const validateOtpCode = (otp: string): string => {\n    if (selectedNetwork?.otp_required) {\n      if (!otp || otp.trim() === '') {\n        return 'Le code OTP est requis';\n      }\n\n      if (otp.trim().length < 4) {\n        return 'Le code OTP doit contenir au moins 4 caractères';\n      }\n    }\n\n    return '';\n  };\n\n  // Validate all form fields\n  const validateForm = (): boolean => {\n    // Validate that a phone number is selected\n    if (!selectedPhone) {\n      setError(t('Veuillez sélectionner un numéro de téléphone'));\n      return false;\n    }\n\n    const errors = {\n      amount: validateAmount(formData.amount),\n      phoneNumber: '', // No longer need to validate phone input\n      otp_code: validateOtpCode(formData.otp_code),\n    };\n\n    setValidationErrors(errors);\n\n    // Return true if no errors\n    return !Object.values(errors).some(error => error !== '');\n  };\n\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Validate form before submission\n    if (!validateForm()) {\n      return;\n    }\n\n    if (!selectedPlatform || !selectedNetwork) return;\n\n    // Open a blank tab immediately to bypass popup blockers\n    const paymentWindow = window.open('about:blank', '_blank');\n\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('accessToken');\n      if (!token) throw new Error('Not authenticated');\n\n      // Get the country code from the selected network\n      const countryCode = selectedNetwork.country_code?.toLowerCase(); // Default to 'ci' if not specified\n\n      const transactionData: any = {\n        type_trans: 'deposit',\n        amount: formData.amount,\n        app_id: selectedPlatform.id,\n        network_id: selectedNetwork.id,\n        phone_number: selectedPhone ? stripPhoneIndication(selectedPhone.phone) : '',\n        user_app_id: selectedBetId,\n        source: 'web',\n      };\n\n\n\n      // const response = await api.post(`/blaffa/transaction?country_code=${countryCode}`, {\n      //   type_trans: 'deposit',\n      //   amount: formData.amount,\n      //   phone_number: formData.phoneNumber,\n      //   network_id: selectedNetwork.id,\n      //   app_id: selectedPlatform.id,\n      //   user_app_id: formData.betid\n      // }, {\n      //   headers: { Authorization: `Bearer ${token}` }\n      // });\n\n      // Add OTP to payload if required\n      if (selectedNetwork.otp_required && formData.otp_code) {\n        transactionData.otp_code = formData.otp_code;\n      }\n\n      const response = await api.post(`/blaffa/transaction?country_code=${countryCode}`, transactionData, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n\n      const transaction = response.data;\n      setSelectedTransaction({ transaction });\n\n      setSuccess('Transaction initiée avec succès !');\n\n      // Check for transaction link in response and update the pre-opened tab\n      if (transaction.transaction_link) {\n        if (paymentWindow) {\n          paymentWindow.location.href = transaction.transaction_link;\n        }\n      } else if (paymentWindow) {\n        // If no link, close the blank tab\n        paymentWindow.close();\n      }\n\n      // Check if ussd_code is present in response and trigger dialer\n      if (transaction.ussd_code) {\n        attemptDialerRedirect(transaction.ussd_code);\n      }\n\n      // Redirect main tab to dashboard regardless of link presence\n      setTimeout(() => {\n        if (typeof window !== 'undefined') window.location.href = '/dashboard';\n      }, 2000);\n\n      // Reset form\n      setFormData({ amount: '', phoneNumber: '', betid: '', otp_code: '' });\n      setValidationErrors({ amount: '', phoneNumber: '', otp_code: '' });\n    } catch (error) {\n      console.error('Transaction error:', error);\n      if (paymentWindow) paymentWindow.close();\n      //     if (\n      //       typeof err === 'object' &&\n      //       err !== null &&\n      //       'response' in err &&\n      //       typeof (err as { response?: unknown }).response === 'object'\n      //     ) {\n      //       const response = (err as { response?: { data?: { detail?: string } } }).response;\n      //       setError(response?.data?.detail || 'Failed to process transaction');\n      //     } else {\n      //       setError('Failed to process transaction');\n      //     }\n      //   } finally {\n      //     setLoading(false);\n      //   }\n      // };\n\n      if (typeof error === 'string') {\n        setError(error);\n      } else if (error && typeof error === 'object' && 'response' in error) {\n        const { status, data } = (error as ApiError).response || {};\n        // Handle the error response\n        if (status === 400 && data) {\n          const errorMessages = [];\n          if (data.amount) {\n            errorMessages.push(`Amount: ${Array.isArray(data.amount) ? data.amount[0] : data.amount}`);\n          }\n          // Add more field checks as needed\n          setError(errorMessages.length > 0 ? errorMessages.join('\\n') : data.detail || 'Validation error');\n        } else {\n          setError(data?.detail || 'An error occurred');\n        }\n      } else {\n        setError('An unexpected error occurred');\n      }\n\n      if (isAxiosError(error) && error.response) {\n        const { status, data } = error.response;\n\n        // Handle field-specific validation errors\n        if (status === 400 && data) {\n          const errorMessages = [];\n\n          // Check for field errors\n          if (data.amount) {\n            errorMessages.push(`Amount: ${Array.isArray(data.amount) ? data.amount[0] : data.amount}`);\n          }\n\n          if (data.phone_number) {\n            errorMessages.push(`Phone: ${Array.isArray(data.phone_number) ? data.phone_number[0] : data.phone_number}`);\n          }\n\n          if (data.network_id) {\n            errorMessages.push(`Network: ${Array.isArray(data.network_id) ? data.network_id[0] : data.network_id}`);\n          }\n\n          if (data.user_app_id) {\n            errorMessages.push(`Bet ID: ${Array.isArray(data.user_app_id) ? data.user_app_id[0] : data.user_app_id}`);\n          }\n\n          // Check for non-field errors\n          if (data.detail) {\n            errorMessages.push(data.detail);\n          }\n\n          // If no specific errors found, use a generic message\n          if (errorMessages.length === 0) {\n            errorMessages.push(t('Invalid data. Please check your input.'));\n          }\n\n          setError(errorMessages.join('\\n'));\n        } else if (status === 401) {\n          setError(t('Your session has expired. Please log in again.'));\n          // Optionally redirect to login\n          // window.location.href = '/auth';\n        } else if (status === 403) {\n          setError(t('You do not have permission to perform this action.'));\n        } else if (status === 404) {\n          setError(t('The requested resource was not found.'));\n        } else if (status === 429) {\n          setError(t('Too many requests. Please wait a moment and try again.'));\n        } else if (status >= 500) {\n          setError(t('Server error. Please try again later.'));\n        } else {\n          setError(t('An error occurred. Please try again.'));\n        }\n        // } else if ((error as ApiError).response) {\n        //   // The request was made but no response was received\n        //   setError(t('Network error. Please check your connection and try again.'));\n      } else {\n        // Something happened in setting up the request\n        setError(t('An error occurred while setting up the request.'));\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const closeTransactionDetails = () => {\n    setIsModalOpen(false);\n    setSelectedTransaction(null);\n    setTransactionLink(null); // Reset link when closing modal\n  };\n\n  // Attempt automatic dialer redirect\n  const attemptDialerRedirect = (ussdCode: string): void => {\n    try {\n      const link = document.createElement('a');\n      link.href = `tel:${ussdCode}`;\n      link.style.display = 'none';\n      document.body.appendChild(link);\n      link.click();\n      setTimeout(() => {\n        document.body.removeChild(link);\n      }, 100);\n    } catch (error) {\n      console.error('Error attempting dialer redirect:', error);\n    }\n  };\n\n  const renderStep = () => {\n    switch (currentStep) {\n      case 'selectId':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"mb-8\">\n              <h3 className={`text-xl font-bold ${theme.colors.text} mb-2`}>1. Sélectionnez votre plateforme</h3>\n            </div>\n\n            <div className=\"w-full flex justify-center\">\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 w-full\">\n                {platforms.map((platform) => {\n                  const isActive = selectedPlatform?.id === platform.id;\n                  return (\n                    <div\n                      key={platform.id}\n                      onClick={() => handlePlatformSelect(platform)}\n                      className={`cursor-pointer ${theme.colors.a_background} border rounded-2xl flex flex-col items-center p-6 transition-all duration-300\n                        ${isActive ? 'border-blue-500 ring-1 ring-blue-500' : `${theme.mode === 'dark' ? 'border-slate-700' : 'border-slate-200'} hover:border-blue-300`}`}\n                    >\n                      {platform.image && (\n                        <div className=\"h-20 w-20 flex items-center justify-center mb-4\">\n                          <img\n                            src={platform.image}\n                            alt={platform.public_name || platform.name}\n                            className=\"h-16 w-16 object-contain\"\n                          />\n                        </div>\n                      )}\n                      <div className={`font-medium text-base text-center uppercase tracking-wider ${theme.colors.text}`}>\n                        {platform.public_name || platform.name}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            {platforms.length === 0 && !loading && (\n              <div className=\"flex flex-col items-center justify-center py-20 px-6\">\n                <p className={`${theme.colors.d_text} opacity-40 text-center`}>{t(\"Aucune plateforme disponible\")}</p>\n              </div>\n            )}\n          </div>\n        );\n      case 'manageBetId':\n        const platformBetIds = savedAppIds.filter(id => id.app_name.id === selectedPlatform?.id);\n        const handleDeleteBetId = async (id: string) => {\n          const token = localStorage.getItem('accessToken');\n          if (!token) return;\n          try {\n            await api.delete(`/blaffa/id_link/${id}`, {\n              headers: { Authorization: `Bearer ${token}` }\n            });\n            setSavedAppIds(prev => prev.filter(bet => bet.id !== id));\n          } catch {\n            setError(t(\"Erreur lors de la suppression de l'ID\"));\n          }\n        };\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"mb-8\">\n              <h3 className={`text-xl font-bold ${theme.colors.text} mb-2`}>2. Choisissez ou créez votre ID pour {selectedPlatform?.public_name || selectedPlatform?.name}</h3>\n            </div>\n\n            <div className=\"space-y-3\">\n              {platformBetIds.map((id) => (\n                <div\n                  key={id.id}\n                  onClick={() => {\n                    setSelectedBetId(id.link);\n                    setCurrentStep('selectNetwork');\n                  }}\n                  className={`flex items-center justify-between ${theme.colors.a_background} border ${theme.mode === 'dark' ? 'border-slate-700' : 'border-slate-200'} rounded-2xl px-6 py-5 cursor-pointer hover:border-blue-300 transition-all`}\n                >\n                  <div className=\"flex items-center gap-6\">\n                    {selectedPlatform?.image && (\n                      <div className={`${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-slate-50'} p-2 rounded-lg`}>\n                        <img src={selectedPlatform.image} alt=\"\" className=\"w-10 h-10 object-contain\" />\n                      </div>\n                    )}\n                    <span className={`text-xl font-bold tracking-wider ${theme.colors.text}`}>{id.link}</span>\n                  </div>\n                  <button\n                    onClick={e => { e.stopPropagation(); handleDeleteBetId(id.id); }}\n                    className=\"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition\"\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"pt-6\">\n              <button\n                onClick={() => {\n                  const platformName = selectedPlatform?.public_name || selectedPlatform?.name || '';\n                  const platformId = selectedPlatform?.id || '';\n                  window.location.href = `/bet_id?origin=deposit&platform=${encodeURIComponent(platformName)}&platform_id=${platformId}`;\n                }}\n                className=\"w-full py-4 border border-[#002d72] dark:border-blue-400 rounded-2xl flex items-center justify-center gap-3 text-[#002d72] dark:text-blue-400 font-bold text-lg hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors\"\n              >\n                <Plus size={24} strokeWidth={2.5} />\n                Ajouter un nouvel ID\n              </button>\n            </div>\n\n            <div className=\"flex justify-center pt-8\">\n              <button\n                onClick={() => setCurrentStep('selectId')}\n                className={`${theme.colors.d_text} opacity-60 flex items-center gap-2 hover:opacity-100 transition-opacity`}\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n                </svg>\n                {t(\"Retour aux plateformes\")}\n              </button>\n            </div>\n          </div>\n        );\n      case 'selectNetwork':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"mb-8\">\n              <h3 className={`text-xl font-bold ${theme.colors.text} mb-2`}>3. Sélectionnez votre réseau</h3>\n            </div>\n\n            <div className=\"space-y-3\">\n              {networks.map((network) => (\n                <div\n                  key={network.id}\n                  onClick={() => handleNetworkSelect(network)}\n                  className={`flex items-center gap-4 p-4 ${theme.colors.a_background} border rounded-2xl cursor-pointer transition-all ${selectedNetwork?.id === network.id\n                    ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                    : `${theme.mode === 'dark' ? 'border-gray-700' : 'border-gray-200'} hover:border-gray-300`\n                    }`}\n                >\n                  {network.image ? (\n                    <div className=\"w-14 h-14 flex items-center justify-center flex-shrink-0\">\n                      <img src={network.image} alt={network.name} className=\"w-12 h-12 object-contain\" />\n                    </div>\n                  ) : (\n                    <div className={`w-14 h-14 ${theme.mode === 'dark' ? 'bg-slate-800' : 'bg-gray-100'} rounded-lg flex items-center justify-center flex-shrink-0`}>\n                      <Phone className={`w-6 h-6 ${theme.colors.d_text} opacity-40`} />\n                    </div>\n                  )}\n                  <span className={`text-lg font-medium ${theme.colors.text}`}>\n                    {network.public_name || network.name}\n                  </span>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"pt-6\">\n              <button\n                onClick={() => {\n                  if (selectedNetwork) {\n                    handleNetworkSelect(selectedNetwork);\n                  }\n                }}\n                disabled={!selectedNetwork}\n                className={`w-full py-4 rounded-2xl font-bold text-lg transition-all ${selectedNetwork\n                  ? 'bg-gray-400 hover:bg-gray-500 text-white'\n                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  }`}\n              >\n                Suivant\n              </button>\n            </div>\n\n            <div className=\"flex justify-center pt-4\">\n              <button\n                onClick={() => setCurrentStep('manageBetId')}\n                className={`${theme.colors.d_text} opacity-60 flex items-center gap-2 hover:opacity-100 transition-opacity`}\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n                </svg>\n                {t(\"Retour\")}\n              </button>\n            </div>\n          </div>\n        );\n\n      case 'selectPhone':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"mb-8\">\n              <h3 className={`text-xl font-bold ${theme.colors.text} mb-2`}>\n                4. Choisissez ou enregistrez votre numéro {selectedNetwork?.public_name || selectedNetwork?.name}\n              </h3>\n            </div>\n\n            {phoneLoading ? (\n              <div className=\"flex justify-center py-20\">\n                <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600\"></div>\n              </div>\n            ) : (\n              <>\n                <div className=\"space-y-3\">\n                  {userPhones.map((phone) => (\n                    <div\n                      key={phone.id}\n                      onClick={() => handlePhoneSelect(phone)}\n                      className={`flex items-center justify-between ${theme.colors.a_background} border ${theme.mode === 'dark' ? 'border-slate-700' : 'border-slate-200'} rounded-2xl px-4 py-4 cursor-pointer hover:border-blue-300 transition-all`}\n                    >\n                      <div className=\"flex items-center gap-4\">\n                        <div className={`w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0`}>\n                          <Phone className=\"w-6 h-6 text-white\" />\n                        </div>\n                        <span className={`text-lg font-medium ${theme.colors.text}`}>\n                          {formatPhoneWithCountryCode(phone.phone)}\n                        </span>\n                      </div>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleDeletePhone(phone.id);\n                        }}\n                        className=\"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition\"\n                      >\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                        </svg>\n                      </button>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"pt-6\">\n                  <button\n                    onClick={() => setCurrentStep('addPhone')}\n                    className={`w-full py-4 border-2 border-[#1e4a8e] text-[#1e4a8e] dark:border-blue-400 dark:text-blue-400 rounded-2xl flex items-center justify-center gap-3 font-bold text-lg hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors`}\n                  >\n                    <Plus size={24} strokeWidth={2.5} />\n                    Ajouter un numéro\n                  </button>\n                </div>\n\n                <div className=\"flex justify-center pt-4\">\n                  <button\n                    onClick={() => setCurrentStep('selectNetwork')}\n                    className={`${theme.colors.d_text} opacity-60 flex items-center gap-2 hover:opacity-100 transition-opacity`}\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n                    </svg>\n                    {t(\"Retour\")}\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        );\n\n      case 'addPhone':\n        return (\n          <div className={`min-h-screen ${theme.colors.a_background}`}>\n            {/* Header */}\n            <div className=\"flex items-center gap-4 mb-8\">\n              <button\n                onClick={() => setCurrentStep('selectPhone')}\n                className={`p-1 ${theme.colors.hover} rounded-full transition-colors`}\n              >\n                <ArrowLeft size={28} className={theme.colors.text} />\n              </button>\n              <h3 className={`text-xl font-bold ${theme.colors.text}`}>\n                Dépôt - Numéro de télé...\n              </h3>\n            </div>\n\n            {/* Instructions */}\n            <div className=\"mb-8\">\n              <h4 className={`text-lg font-bold ${theme.colors.text} mb-2`}>\n                4. Choisissez ou enregistrez votre numéro {selectedNetwork?.public_name || selectedNetwork?.name}\n              </h4>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div>\n                <label className={`block text-lg font-bold ${theme.colors.text} mb-2 px-1`}>\n                  Nouveau numéro\n                </label>\n                <input\n                  type=\"tel\"\n                  value={newPhoneNumber}\n                  onChange={(e) => setNewPhoneNumber(e.target.value)}\n                  placeholder=\"Entrez votre numéro\"\n                  className={`w-full h-14 px-4 rounded-xl border ${theme.mode === 'dark' ? 'border-slate-700' : 'border-gray-300'} ${theme.colors.a_background} text-lg ${theme.colors.text} focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all placeholder:text-gray-400`}\n                />\n                {error && <p className=\"text-red-500 text-sm mt-2 px-1\">{error}</p>}\n              </div>\n\n              <div className=\"flex gap-4 pt-4\">\n                <button\n                  onClick={() => setCurrentStep('selectPhone')}\n                  className={`flex-1 h-14 border-2 border-[#1e4a8e] text-[#1e4a8e] dark:border-blue-400 dark:text-blue-400 font-bold text-lg rounded-2xl hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors`}\n                >\n                  Annuler\n                </button>\n                <button\n                  onClick={async () => {\n                    const success = await handleAddPhone();\n                    if (success) {\n                      setCurrentStep('selectPhone');\n                    }\n                  }}\n                  disabled={!newPhoneNumber}\n                  className={`flex-1 h-14 bg-[#1a4384] text-white font-bold text-lg rounded-2xl shadow-lg hover:bg-[#15386b] transition-all disabled:opacity-50 disabled:cursor-not-allowed`}\n                  style={{ backgroundColor: theme.mode === 'dark' ? theme.colors.primary : '#1a4384' }}\n                >\n                  {loading ? '...' : 'Enregistrer'}\n                </button>\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'enterDetails':\n        return (\n          <div className={`min-h-screen ${theme.colors.a_background}`}>\n            {/* Header */}\n            <div className=\"flex items-center gap-4 mb-8\">\n              <button\n                onClick={() => setCurrentStep('selectPhone')}\n                className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors\"\n              >\n                <ArrowLeft size={28} className=\"text-gray-900 dark:text-gray-100\" />\n              </button>\n              <h3 className={`text-xl font-bold ${theme.colors.text}`}>\n                5. Confirmer le paiement\n              </h3>\n            </div>\n\n            <form onSubmit={(e) => { e.preventDefault(); if (validateForm()) setCurrentStep('summary'); }} className=\"space-y-6\">\n              {/* Amount Field */}\n              <div>\n                <label className={`block text-base ${theme.colors.d_text} opacity-70 mb-2`}>\n                  Montant (F CFA)\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"amount\"\n                  value={formData.amount}\n                  onChange={handleInputChange}\n                  className={`w-full h-14 px-4 rounded-xl border ${!formData.amount\n                    ? theme.mode === 'dark' ? 'border-gray-600' : 'border-gray-300'\n                    : (parseFloat(formData.amount) < getDepositLimits().min || parseFloat(formData.amount) > getDepositLimits().max)\n                      ? 'border-red-500'\n                      : 'border-green-500'\n                    } bg-white dark:bg-gray-800 text-lg text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all`}\n                  placeholder=\"Entrez le montant\"\n                  required\n                  min={getDepositLimits().min}\n                  max={getDepositLimits().max}\n                  step=\"1\"\n                />\n                {/* Range indicator */}\n                <div className={`mt-2 text-sm font-medium ${!formData.amount\n                  ? theme.colors.d_text + ' opacity-50'\n                  : (parseFloat(formData.amount) < getDepositLimits().min || parseFloat(formData.amount) > getDepositLimits().max)\n                    ? 'text-red-500'\n                    : 'text-green-500'\n                  }`}>\n                  {getDepositLimits().min} F - {getDepositLimits().max} F\n                </div>\n                {validationErrors.amount && (\n                  <p className=\"mt-2 text-sm text-red-500\">{validationErrors.amount}</p>\n                )}\n              </div>\n\n              {/* Phone Number Display */}\n              <div>\n                <label className={`block text-base ${theme.colors.d_text} opacity-70 mb-2`}>\n                  Numéro de téléphone\n                </label>\n                <div className=\"flex gap-3\">\n                  {/* Flag/Indication Box */}\n                  <div className={`flex items-center justify-center gap-2 px-4 py-3 w-1/3 ${theme.colors.a_background} border ${theme.mode === 'dark' ? 'border-slate-700' : 'border-slate-300'} rounded-xl`}>\n                    <span className=\"text-2xl\">\n                      {getCountryFlag(selectedNetwork?.indication)}\n                    </span>\n                    <span className={`text-lg font-medium ${theme.colors.text}`}>\n                      {selectedNetwork?.indication || '+225'}\n                    </span>\n                  </div>\n                  {/* Phone Number Box */}\n                  <div className={`flex-1 relative flex items-center h-14 px-4 rounded-xl border ${theme.mode === 'dark' ? 'border-slate-700' : 'border-slate-300'} ${theme.colors.a_background}`}>\n                    <span className={`text-lg ${theme.colors.text}`}>\n                      {selectedPhone ? (selectedNetwork?.indication ? selectedPhone.phone.replace(new RegExp(`^\\\\+?${selectedNetwork.indication.replace('+', '')}`), '') : selectedPhone.phone) : ''}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Info Alert */}\n              {selectedNetwork?.deposit_message && (\n                <div className={`p-4 ${theme.mode === 'dark' ? 'bg-blue-900/20 border-blue-700' : 'bg-blue-50 border-blue-200'} border rounded-xl`}>\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"flex-shrink-0 mt-0.5\">\n                      <svg className={`w-5 h-5 ${theme.mode === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                    <p className={`text-sm ${theme.mode === 'dark' ? 'text-blue-300' : 'text-blue-700'} uppercase font-medium`}>\n                      {selectedNetwork.deposit_message}\n                    </p>\n                  </div>\n                </div>\n              )}\n\n              {/* Tape Code Alert */}\n              {selectedNetwork?.tape_code && (\n                <div className={`p-4 ${theme.mode === 'dark' ? 'bg-green-900/20 border-green-700' : 'bg-green-50 border-green-200'} border rounded-xl`}>\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"flex-shrink-0 mt-0.5\">\n                      <svg className={`w-5 h-5 ${theme.mode === 'dark' ? 'text-green-400' : 'text-green-600'}`} fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                    <p className={`text-sm ${theme.mode === 'dark' ? 'text-green-300' : 'text-green-700'} font-medium`}>\n                      Code à taper: <span className=\"font-bold underline\">{selectedNetwork.tape_code}</span>\n                    </p>\n                  </div>\n                </div>\n              )}\n\n              {/* Warning Text */}\n              <div className=\"text-center\">\n                {/* No dynamic field specified for this one yet, keeping it or hiding if empty? \n                     The user said \"same for this...\" suggesting it might be dynamic too.\n                     If it's not in the API, I'll keep it static or remove if redundant.\n                     Wait, re-reading: \"same for this `Dès que vous payez...` and in place of this `tape_code` so those key is got from the network api response\"\n                     If there's no key for \"Dès que vous payez...\", I'll see if I can find it in the platform response.\n                 */}\n                {selectedPlatform?.deposit_message && (\n                  <p className=\"text-sm text-orange-500 dark:text-orange-400 italic\">\n                    {selectedPlatform.deposit_message}\n                  </p>\n                )}\n              </div>\n\n              {/* Submit Button */}\n              <div className=\"pt-6\">\n                <button\n                  type=\"submit\"\n                  disabled={loading || !formData.amount || !selectedPhone}\n                  className={`w-full h-14 text-white font-bold text-lg rounded-2xl shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed`}\n                  style={{ backgroundColor: theme.mode === 'dark' ? theme.colors.primary : '#1a4384' }}\n                >\n                  {loading ? 'Traitement...' : 'Dépôt'}\n                </button>\n              </div>\n            </form>\n          </div>\n        );\n      case 'summary':\n        return (\n          <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n            {/* Header */}\n            <div className=\"text-center mb-6\">\n              <h3 className={`text-2xl font-bold ${theme.colors.text}`}>Confirmer le dépôt</h3>\n            </div>\n\n            {/* Main Summary Card */}\n            <div className={`${theme.colors.a_background} border ${theme.mode === 'dark' ? 'border-slate-700' : 'border-slate-200'} rounded-3xl overflow-hidden shadow-sm`}>\n\n              {/* Amount Section */}\n              <div className={`py-6 text-center bg-gradient-to-b ${theme.mode === 'dark' ? 'from-blue-900/10 to-transparent' : 'from-blue-50 to-transparent'}`}>\n                <div className={`text-5xl font-extrabold ${theme.colors.text} tracking-tight`}>\n                  {new Intl.NumberFormat('fr-FR').format(parseInt(formData.amount))} <span className=\"text-2xl align-top opacity-60 font-bold\">F</span>\n                </div>\n              </div>\n\n              {/* Details List */}\n              <div className=\"px-6 pb-6 space-y-4\">\n                {/* Divider */}\n                <div className={`h-px w-full ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-slate-100'}`}></div>\n\n                {/* Platform */}\n                <div className=\"flex items-center justify-between\">\n                  <span className={`${theme.colors.d_text} opacity-60 text-sm`}>Plateforme</span>\n                  <div className=\"flex items-center gap-2\">\n                    {selectedPlatform?.image && (\n                      <img src={selectedPlatform.image} alt=\"\" className=\"w-5 h-5 object-contain\" />\n                    )}\n                    <span className={`font-semibold ${theme.colors.text}`}>{selectedPlatform?.public_name || selectedPlatform?.name}</span>\n                  </div>\n                </div>\n\n                {/* ID */}\n                <div className=\"flex items-center justify-between\">\n                  <span className={`${theme.colors.d_text} opacity-60 text-sm`}>ID Utilisateur</span>\n                  <span className={`font-mono font-medium ${theme.colors.text} bg-gray-100 dark:bg-slate-800 px-2 py-0.5 rounded text-sm`}>{selectedBetId}</span>\n                </div>\n\n                {/* Network */}\n                <div className=\"flex items-center justify-between\">\n                  <span className={`${theme.colors.d_text} opacity-60 text-sm`}>Moyen de paiement</span>\n                  <div className=\"flex items-center gap-2\">\n                    {selectedNetwork?.image && (\n                      <img src={selectedNetwork.image} alt=\"\" className=\"w-5 h-5 object-contain\" />\n                    )}\n                    <span className={`font-semibold ${theme.colors.text}`}>{selectedNetwork?.public_name || selectedNetwork?.name}</span>\n                  </div>\n                </div>\n\n                {/* Phone */}\n                <div className=\"flex items-center justify-between\">\n                  <span className={`${theme.colors.d_text} opacity-60 text-sm`}>Téléphone</span>\n                  <span className={`font-semibold ${theme.colors.text}`}>{formatPhoneWithCountryCode(selectedPhone?.phone || '')}</span>\n                </div>\n              </div>\n            </div>\n\n            {/* Warning - Minimalist */}\n            <p className={`text-xs text-center ${theme.colors.d_text} opacity-50 px-6 leading-relaxed`}>\n              En confirmant, vous acceptez d'initier cette transaction sur le numéro indiqué.\n            </p>\n\n            {/* Action Buttons */}\n            <div className=\"flex flex-col gap-3 pt-2\">\n              <button\n                onClick={handleSubmit}\n                disabled={loading}\n                className=\"w-full h-14 bg-[#002d72] hover:bg-[#001d4a] text-white font-bold text-lg rounded-2xl shadow-lg shadow-blue-900/10 transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-2\"\n                style={{ backgroundColor: theme.mode === 'dark' ? theme.colors.primary : '#002d72' }}\n              >\n                {loading ? (\n                  <>\n                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\n                    <span>Traitement...</span>\n                  </>\n                ) : (\n                  <span>Confirmer le dépôt</span>\n                )}\n              </button>\n\n              <button\n                onClick={() => setCurrentStep('enterDetails')}\n                disabled={loading}\n                className={`w-full py-3 text-center font-bold text-sm ${theme.colors.d_text} opacity-50 hover:opacity-100 transition-opacity`}\n              >\n                Modifier les informations\n              </button>\n            </div>\n          </div>\n        );\n    }\n  };\n\n  // Helper to get country flag based on indication\n  const getCountryFlag = (indication?: string) => {\n    if (!indication) return '🇧🇫'; // Default\n    const cleanIndication = indication.replace('+', '');\n    switch (cleanIndication) {\n      case '226': return '🇧🇫'; // Burkina Faso\n      case '225': return '🇨🇮'; // Cote d'Ivoire\n      case '223': return '🇲🇱'; // Mali\n      case '221': return '🇸🇳'; // Senegal\n      case '228': return '🇹🇬'; // Togo\n      case '229': return '🇧🇯'; // Benin\n      case '237': return '🇨🇲'; // Cameroon\n      case '224': return '🇬🇳'; // Guinea\n      case '241': return '🇬🇦'; // Gabon\n      case '242': return '🇨🇬'; // Congo\n      case '243': return '🇨🇩'; // DRC\n      case '227': return '🇳🇪'; // Niger\n      case '233': return '🇬🇭'; // Ghana\n      case '234': return '🇳🇬'; // Nigeria\n      default: return '🌍';\n    }\n  };\n\n  // Get current step title\n  const getCurrentStepTitle = () => {\n    switch (currentStep) {\n      case 'selectId':\n        return \"Dépôt\";\n      case 'manageBetId':\n        return \"Dépôt - ID Utilisateur\";\n      case 'selectNetwork':\n        return \"Dépôt - Réseau\";\n      case 'selectPhone':\n        return \"Dépôt - Numéro de télé...\";\n      case 'enterDetails':\n        return \"Dépôt - Informations\";\n      case 'summary':\n        return \"Confirmer le dépôt\";\n      default:\n        return \"Dépôt\";\n    }\n  };\n\n  return (\n    <div className={`min-h-screen bg-gradient-to-br ${theme.colors.a_background} p-4`}>\n      <style>\n        {`\n          @keyframes slideInUp {\n            from {\n              opacity: 0;\n              transform: translateY(20px) scale(0.95);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0) scale(1);\n            }\n          }\n          \n          @keyframes shimmer {\n            0% { background-position: -200px 0; }\n            100% { background-position: calc(200px + 100%) 0; }\n          }\n          \n          @keyframes modalSlideIn {\n            from {\n              opacity: 0;\n              transform: translateY(30px) scale(0.9);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0) scale(1);\n            }\n          }\n          \n          @keyframes backdropFadeIn {\n            from {\n              opacity: 0;\n              backdrop-filter: blur(0px);\n            }\n            to {\n              opacity: 1;\n              backdrop-filter: blur(8px);\n            }\n          }\n          \n          .shimmer-effect {\n            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);\n            background-size: 200px 100%;\n            animation: shimmer 2s infinite;\n          }\n          \n          .modal-backdrop {\n            animation: backdropFadeIn 0.3s ease-out;\n          }\n          \n          .modal-content {\n            animation: modalSlideIn 0.4s ease-out;\n          }\n        `}\n      </style>\n\n      <div className=\"w-full px-6\">\n        {/* Header Section */}\n        <div className=\"flex items-center gap-6 mb-12\">\n          <button\n            onClick={() => {\n              if (currentStep === 'selectId') {\n                router.back();\n              } else if (currentStep === 'manageBetId') {\n                setCurrentStep('selectId');\n              } else if (currentStep === 'selectNetwork') {\n                setCurrentStep('manageBetId');\n              } else if (currentStep === 'selectPhone') {\n                setCurrentStep('selectNetwork');\n              } else if (currentStep === 'enterDetails') {\n                setCurrentStep('selectPhone');\n              } else if (currentStep === 'summary') {\n                setCurrentStep('enterDetails');\n              }\n            }}\n            className=\"p-2 -ml-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n            </svg>\n          </button>\n          <h1 className=\"text-3xl font-bold tracking-tight\">{getCurrentStepTitle()}</h1>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"pb-24\">\n          <div>\n            {/* Alert Messages */}\n            {error && (\n              <div className=\"mb-6 p-4 bg-gradient-to-r from-red-900/50 to-red-800/50 border border-red-600/50 text-red-300 rounded-2xl backdrop-blur-sm\">\n                <div className=\"flex items-center\">\n                  <XCircle className=\"w-5 h-5 mr-3\" />\n                  {error}\n                </div>\n              </div>\n            )}\n\n            {success && (\n              <div className=\"mb-6 p-4 bg-gradient-to-r from-green-900/50 to-green-800/50 border border-green-600/50 text-green-300 rounded-2xl backdrop-blur-sm\">\n                <div className=\"flex items-center\">\n                  <CheckCircle className=\"w-5 h-5 mr-3\" />\n                  {success}\n                </div>\n              </div>\n            )}\n\n            {loading && !success && !error ? (\n              <div className=\"flex justify-center items-center p-20\">\n                <div className=\"relative\">\n                  <div className=\"animate-spin rounded-full h-16 w-16 border-4 border-blue-500/30 border-t-blue-500\"></div>\n                  <div className=\"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/20 to-blue-500/20 animate-pulse\"></div>\n                </div>\n              </div>\n            ) : (\n              renderStep()\n            )}\n          </div>\n        </div>\n      </div>\n\n\n\n\n      {/* Edit Phone Modal */}\n      {\n        showEditPhoneModal && phoneToEdit && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 modal-backdrop\">\n            <div className={`${theme.colors.background} rounded-lg shadow-xl w-full max-w-md modal-content`}>\n              <div className=\"p-6\">\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"text-lg font-semibold\">{t(\"Modifier le numéro de téléphone\")}</h3>\n                  <button\n                    onClick={() => {\n                      setShowEditPhoneModal(false);\n                      setPhoneToEdit(null);\n                      setNewPhoneNumber('');\n                    }}\n                    className=\"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\n                  >\n                    <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                      {t(\"Numéro de téléphone\")}\n                    </label>\n                    <input\n                      type=\"tel\"\n                      value={newPhoneNumber}\n                      onChange={(e) => setNewPhoneNumber(e.target.value)}\n                      className=\"w-full p-2 border rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white border-slate-300 dark:border-slate-600\"\n                      placeholder=\"ex: 771234567\"\n                    />\n                    <p className=\"text-xs text-slate-500 dark:text-slate-400 mt-1\">\n                      {t(\"Entrez le numéro sans le préfixe +225\")}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"mt-6 flex justify-end gap-3\">\n                  <button\n                    onClick={() => {\n                      setShowEditPhoneModal(false);\n                      setPhoneToEdit(null);\n                      setNewPhoneNumber('');\n                    }}\n                    className=\"px-4 py-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200\"\n                  >\n                    {t(\"Annuler\")}\n                  </button>\n                  <button\n                    onClick={handleEditPhone}\n                    disabled={!newPhoneNumber.trim()}\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\n                  >\n                    {t(\"Modifier\")}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n      }\n    </div >\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA,+BAA+B;AAC/B,4BAA4B;AAC5B;AAAA;AACA,qDAAqD;AACrD,oFAAoF;AACpF,wCAAwC;AACxC,6DAA6D;AAC7D;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAbA;;;;;;;;AAqGA,qCAAqC;AACrC,iBAAiB;AACjB,sBAAsB;AACtB,cAAc;AACd,sDAAsD;AACtD,yBAAyB;AACzB,SAAS;AACT,OAAO;AACP,IAAI;AAEJ,4BAA4B;AAE5B,aAAa;AACb,oDAAoD;AACpD,uBAAuB;AACvB,wBAAwB;AACxB,OAAO;AACP,qBAAqB;AACrB,IAAI;AACJ,SAAS,aAAa,KAAc;IAClC,OAAO,OAAO,UAAU,YAAY,UAAU,QAAQ,cAAc;AACtE;AAgBe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,qLAAc;IAC5B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAyG;IACvJ,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAa;IACrE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IACpD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAqQ;IAC3T,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACvC,QAAQ;QACR,aAAa;QACb,OAAO;QACP,UAAU;IACZ;IAEA,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;QACvD,QAAQ;QACR,aAAa;QACb,UAAU;IACZ;IAEA,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAA+M,EAAE;IACzP,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAW,EAAE,GAAG,sCAAsC;IACpG,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,yKAAQ,EAA2B;IACzF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAgB;IACtE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,kJAAQ;IAC1B,MAAM,EAAE,iBAAiB,EAAE,GAAG,IAAA,sJAAY;IAC1C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAgB;IAElE,gCAAgC;IAChC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAc,EAAE;IAC5D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAmB;IACrE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,gFAAgF;IAChF,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAAC;IAC7D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAmB;IACjE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IAGrD,IAAA,0KAAS;8BAAC;YACR,MAAM;4DAAwB,CAAC;oBAC7B,IAAI,KAAK,IAAI,KAAK,sBAAsB,KAAK,IAAI,EAAE;wBACjD,mBAAmB,KAAK,IAAI,GAAG,qCAAqC;oBACtE;gBACF;;YACA,MAAM,gBAAgB,kBAAkB;YACxC;sCAAO,IAAM;;QACf;6BAAG;QAAC;KAAkB;IAEtB,4CAA4C;IAC5C,IAAA,0KAAS;8BAAC;YACR,IAAI,OAAO;gBACT,MAAM,QAAQ;gDAAW;wBACvB,SAAS;oBACX;+CAAG,QAAQ,aAAa;gBAExB;0CAAO,IAAM,aAAa;;YAC5B;QACF;6BAAG;QAAC;KAAM;IAEV,4DAA4D;IAC5D,MAAM,6BAA6B,CAAC;QAClC,IAAI,CAAC,iBAAiB,cAAc,CAAC,aAAa,OAAO;QAEzD,MAAM,aAAa,gBAAgB,UAAU;QAE7C,+CAA+C;QAC/C,IAAI,YAAY,UAAU,CAAC,MAAM;YAC/B,OAAO;QACT;QAEA,qDAAqD;QACrD,IAAI,YAAY,UAAU,CAAC,WAAW,OAAO,CAAC,KAAK,MAAM;YACvD,OAAO,CAAC,CAAC,EAAE,aAAa;QAC1B;QAEA,6DAA6D;QAC7D,IAAI,YAAY,UAAU,CAAC,aAAa;YACtC,OAAO;QACT;QAEA,oCAAoC;QACpC,OAAO,GAAG,aAAa,aAAa;IACtC;IAEA,8DAA8D;IAC9D,MAAM,uBAAuB,CAAC;QAC5B,IAAI,CAAC,iBAAiB,cAAc,CAAC,aAAa,OAAO;QAEzD,MAAM,aAAa,gBAAgB,UAAU;QAE7C,iDAAiD;QACjD,MAAM,wBAAwB,WAAW,OAAO,CAAC,KAAK;QAEtD,qDAAqD;QACrD,IAAI,YAAY,UAAU,CAAC,MAAM;YAC/B,IAAI,YAAY,UAAU,CAAC,aAAa;gBACtC,OAAO,YAAY,SAAS,CAAC,WAAW,MAAM;YAChD;QACF;QAEA,uDAAuD;QACvD,IAAI,YAAY,UAAU,CAAC,wBAAwB;YACjD,OAAO,YAAY,SAAS,CAAC,sBAAsB,MAAM;QAC3D;QAEA,sCAAsC;QACtC,OAAO;IACT;IAEA,sDAAsD;IACtD,MAAM,iBAAiB;QACrB,mCAAmC;QACnC,IAAI;YACF,sFAAsF;YACtF,4FAA4F;YAC5F,MAAM,WAAW,MAAM,iIAAG,CAAC,GAAG,CAAC;YAE/B,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,MAAM,OAAO,SAAS,IAAI;gBAC1B,aAAa,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;YAC9C,OAAO;gBACL,QAAQ,KAAK,CAAC,8BAA8B,SAAS,MAAM;gBAC3D,aAAa,EAAE;YACjB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,aAAa,EAAE;QACjB;IACF;IAEA,2CAA2C;IAE3C,sDAAsD;IACtD,IAAA,0KAAS;8BAAC;YACR,MAAM;gDAAY;oBAChB,MAAM,QAAQ,aAAa,OAAO,CAAC;oBAEnC,+DAA+D;oBAC/D,gFAAgF;oBAEhF,IAAI;wBACF,WAAW;wBACX,MAAM,WAAW;4BAAC;yBAAiB;wBAEnC,IAAI,OAAO;4BACT,SAAS,IAAI,CACX,iIAAG,CAAC,GAAG,CAAC,oCAAoC;gCAC1C,SAAS;oCAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gCAAC;4BAC9C,GAAG,IAAI;gEAAC,CAAA,MAAO,YAAY,IAAI,IAAI;;4BAErC,SAAS,IAAI,CACX,iIAAG,CAAC,GAAG,CAAC,mBAAmB;gCACzB,SAAS;oCAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gCAAC;4BAC9C,GAAG,IAAI;gEAAC,CAAA;oCACN,MAAM,OAAO,IAAI,IAAI;oCACrB,IAAI,gBAA0B,EAAE;oCAChC,IAAI,MAAM,OAAO,CAAC,OAAO,gBAAgB;yCACpC,IAAI,MAAM,SAAS,gBAAgB,KAAK,OAAO;yCAC/C,IAAI,MAAM,MAAM,gBAAgB,KAAK,IAAI;oCAC9C,eAAe;gCACjB;;wBAEJ;wBAEA,MAAM,QAAQ,UAAU,CAAC;oBAE3B,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,wBAAwB;oBACtC,gDAAgD;oBAClD,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;6BAAG,EAAE;IAEL,MAAM,uBAAuB,CAAC;QAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;YACV,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB;QACF;QACA,oBAAoB;QACpB,eAAe;IACjB;IAEA,2CAA2C;IAC3C,MAAM,kBAAkB,OAAO;QAC7B,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO,OAAO,EAAE;QAErB,IAAI;YACF,MAAM,WAAW,MAAM,iIAAG,CAAC,GAAG,CAAC,uBAAuB;gBACpD,SAAS;oBACP,gBAAgB;oBAChB,iBAAiB,CAAC,OAAO,EAAE,OAAO;gBACpC;gBACA,QAAQ;oBAAE,SAAS;gBAAU;YAC/B;YAEA,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,OAAO,MAAM,OAAO,CAAC,SAAS,IAAI,IAAI,SAAS,IAAI,GAAG,EAAE;YAC1D;YACA,OAAO,EAAE;QACX,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,OAAO,EAAE;QACX;IACF;IAEA,MAAM,eAAe,OAAO,OAAe;QACzC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO,OAAO;QAEnB,IAAI;YACF,MAAM,WAAW,MAAM,iIAAG,CAAC,IAAI,CAAC,uBAAuB;gBACrD,OAAO;gBACP,SAAS;YACX,GAAG;gBACD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,OAAO,SAAS,IAAI;YACtB;YACA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,OAAO;QACT;IACF;IAEA,MAAM,kBAAkB,OAAO,SAAiB;QAC9C,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO,OAAO;QAEnB,IAAI;YACF,MAAM,WAAW,MAAM,iIAAG,CAAC,KAAK,CAAC,CAAC,mBAAmB,EAAE,QAAQ,CAAC,CAAC,EAAE;gBACjE,OAAO;YACT,GAAG;gBACD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,OAAO,SAAS,IAAI;YACtB;YACA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,OAAO;QACT;IACF;IAEA,MAAM,kBAAkB,OAAO;QAC7B,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO,OAAO;QAEnB,IAAI;YACF,MAAM,WAAW,MAAM,iIAAG,CAAC,MAAM,CAAC,CAAC,mBAAmB,EAAE,QAAQ,CAAC,CAAC,EAAE;gBAClE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,OAAO,SAAS,MAAM,KAAK;QAC7B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,OAAO;QACT;IACF;IAEA,MAAM,sBAAsB,OAAO;QACjC,mBAAmB;QAEnB,qCAAqC;QACrC,gBAAgB;QAChB,MAAM,SAAS,MAAM,gBAAgB,QAAQ,EAAE;QAC/C,cAAc;QACd,gBAAgB;QAEhB,eAAe;IACjB;IAEA,kBAAkB;IAClB,MAAM,YAAY,OAAO;QACvB,IAAI,CAAC,oBAAoB,CAAC,OAAO;QAEjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;QAEZ,IAAI;YACF,MAAM,WAAW,MAAM,iIAAG,CAAC,IAAI,CAAC,mBAAmB;gBAEjD,SAAS;oBACP,gBAAgB;oBAChB,iBAAiB,CAAC,OAAO,EAAE,OAAO;gBACpC;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU,iBAAiB,EAAE;oBAC7B,MAAM;gBACR;YACF;YAEA,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,MAAM,YAAY,SAAS,IAAI;gBAC/B,eAAe,CAAA,OAAQ;2BAAI;wBAAM;qBAAU;YAC7C;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,4BAA4B;IAC5B,MAAM,oBAAoB,CAAC;QACzB,iBAAiB;QACjB,eAAe;IACjB;IAEA,MAAM,iBAAiB;QACrB,IAAI,CAAC,mBAAmB,CAAC,eAAe,IAAI,IAAI;QAEhD,+BAA+B;QAC/B,IAAI,eAAe,MAAM,GAAG,IAAI;YAC9B,SAAS,CAAC,mFAAmF,EAAE,gBAAgB,WAAW,IAAI,aAAa;YAC3I;QACF;QAEA,kEAAkE;QAClE,MAAM,iBAAiB,eAAe,UAAU,CAAC,OAC7C,iBACA,2BAA2B;QAE/B,MAAM,aAAa,MAAM,aAAa,gBAAgB,gBAAgB,EAAE;QACxE,IAAI,YAAY;YACd,cAAc,CAAA,OAAQ;uBAAI;oBAAM;iBAAW;YAC3C,kBAAkB;YAClB,OAAO;QACT,OAAO;YACL,SAAS,EAAE;YACX,OAAO;QACT;IACF;IAEA,MAAM,kBAAkB;QACtB,IAAI,CAAC,eAAe,CAAC,eAAe,IAAI,IAAI;QAE5C,kEAAkE;QAClE,MAAM,iBAAiB,eAAe,UAAU,CAAC,OAC7C,iBACA,2BAA2B;QAE/B,MAAM,eAAe,MAAM,gBAAgB,YAAY,EAAE,EAAE;QAC3D,IAAI,cAAc;YAChB,cAAc,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,QAC7B,MAAM,EAAE,KAAK,YAAY,EAAE,GAAG,eAAe;YAE/C,kBAAkB;YAClB,sBAAsB;YACtB,eAAe;QACjB,OAAO;YACL,SAAS,EAAE;QACb;IACF;IAEA,MAAM,oBAAoB,OAAO;QAC/B,MAAM,UAAU,MAAM,gBAAgB;QACtC,IAAI,SAAS;YACX,cAAc,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,QAAS,MAAM,EAAE,KAAK;YACxD,IAAI,eAAe,OAAO,SAAS;gBACjC,iBAAiB;YACnB;QACF,OAAO;YACL,SAAS,EAAE;QACb;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE;YACV,CAAC;QAED,iDAAiD;QACjD,IAAI,gBAAgB,CAAC,KAAsC,EAAE;YAC3D,oBAAoB,CAAA,OAAQ,CAAC;oBAC3B,GAAG,IAAI;oBACP,CAAC,KAAK,EAAE;gBACV,CAAC;QACH;IACF;IAEA,yCAAyC;IACzC,MAAM,mBAAmB;QACvB,MAAM,SAAS,kBAAkB,mBAAmB,kBAAkB,mBAAmB;QACzF,MAAM,SAAS,kBAAkB,eAAe,kBAAkB,mBAAmB;QACrF,OAAO;YACL,KAAK,WAAW,OAAO;YACvB,KAAK,WAAW,OAAO;QACzB;IACF;IAEA,MAAM,sBAAsB;QAC1B,OAAO,mBAAmB,GAAG;IAC/B;IAEA,iCAAiC;IACjC,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,UAAU,OAAO,IAAI,OAAO,IAAI;YACnC,OAAO;QACT;QAEA,MAAM,YAAY,WAAW;QAC7B,IAAI,MAAM,YAAY;YACpB,OAAO;QACT;QAEA,IAAI,aAAa,GAAG;YAClB,OAAO;QACT;QAEA,mCAAmC;QACnC,IAAI;QACJ,IAAI,iBAAiB,MAAM,kBAAkB,QAAQ;YACnD,YAAY,KAAK,2BAA2B;QAC9C,OAAO,IAAI,iBAAiB,MAAM,kBAAkB,UAAU;YAC5D,YAAY,KAAK,6BAA6B;QAChD,OAAO;YACL,gDAAgD;YAChD,YAAY,kBAAkB,mBAAmB,WAAW,kBAAkB,mBAAmB;QACnG;QAEA,MAAM,YAAY,kBAAkB,mBAAmB,WAAW,kBAAkB,eAAe;QAEnG,IAAI,YAAY,WAAW;YACzB,OAAO,CAAC,uBAAuB,EAAE,UAAU,KAAK,CAAC;QACnD;QAEA,IAAI,YAAY,WAAW;YACzB,OAAO,CAAC,uBAAuB,EAAE,UAAU,KAAK,CAAC;QACnD;QAEA,OAAO;IACT;IAEA,uCAAuC;IACvC,MAAM,sBAAsB,CAAC;QAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO,IAAI;YACjC,OAAO;QACT;QAEA,8DAA8D;QAC9D,MAAM,aAAa,MAAM,OAAO,CAAC,QAAQ;QACzC,MAAM,aAAa,iBAAiB,cAAc;QAElD,IAAI,CAAC,WAAW,IAAI,CAAC,aAAa;YAChC,OAAO;QACT;QAEA,OAAO;IACT;IAEA,mCAAmC;IACnC,MAAM,kBAAkB,CAAC;QACvB,IAAI,iBAAiB,cAAc;YACjC,IAAI,CAAC,OAAO,IAAI,IAAI,OAAO,IAAI;gBAC7B,OAAO;YACT;YAEA,IAAI,IAAI,IAAI,GAAG,MAAM,GAAG,GAAG;gBACzB,OAAO;YACT;QACF;QAEA,OAAO;IACT;IAEA,2BAA2B;IAC3B,MAAM,eAAe;QACnB,2CAA2C;QAC3C,IAAI,CAAC,eAAe;YAClB,SAAS,EAAE;YACX,OAAO;QACT;QAEA,MAAM,SAAS;YACb,QAAQ,eAAe,SAAS,MAAM;YACtC,aAAa;YACb,UAAU,gBAAgB,SAAS,QAAQ;QAC7C;QAEA,oBAAoB;QAEpB,2BAA2B;QAC3B,OAAO,CAAC,OAAO,MAAM,CAAC,QAAQ,IAAI,CAAC,CAAA,QAAS,UAAU;IACxD;IAGA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,kCAAkC;QAClC,IAAI,CAAC,gBAAgB;YACnB;QACF;QAEA,IAAI,CAAC,oBAAoB,CAAC,iBAAiB;QAE3C,wDAAwD;QACxD,MAAM,gBAAgB,OAAO,IAAI,CAAC,eAAe;QAEjD,WAAW;QACX,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;YAE5B,iDAAiD;YACjD,MAAM,cAAc,gBAAgB,YAAY,EAAE,eAAe,mCAAmC;YAEpG,MAAM,kBAAuB;gBAC3B,YAAY;gBACZ,QAAQ,SAAS,MAAM;gBACvB,QAAQ,iBAAiB,EAAE;gBAC3B,YAAY,gBAAgB,EAAE;gBAC9B,cAAc,gBAAgB,qBAAqB,cAAc,KAAK,IAAI;gBAC1E,aAAa;gBACb,QAAQ;YACV;YAIA,uFAAuF;YACvF,2BAA2B;YAC3B,6BAA6B;YAC7B,wCAAwC;YACxC,oCAAoC;YACpC,iCAAiC;YACjC,gCAAgC;YAChC,OAAO;YACP,kDAAkD;YAClD,MAAM;YAEN,iCAAiC;YACjC,IAAI,gBAAgB,YAAY,IAAI,SAAS,QAAQ,EAAE;gBACrD,gBAAgB,QAAQ,GAAG,SAAS,QAAQ;YAC9C;YAEA,MAAM,WAAW,MAAM,iIAAG,CAAC,IAAI,CAAC,CAAC,iCAAiC,EAAE,aAAa,EAAE,iBAAiB;gBAClG,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,MAAM,cAAc,SAAS,IAAI;YACjC,uBAAuB;gBAAE;YAAY;YAErC,WAAW;YAEX,uEAAuE;YACvE,IAAI,YAAY,gBAAgB,EAAE;gBAChC,IAAI,eAAe;oBACjB,cAAc,QAAQ,CAAC,IAAI,GAAG,YAAY,gBAAgB;gBAC5D;YACF,OAAO,IAAI,eAAe;gBACxB,kCAAkC;gBAClC,cAAc,KAAK;YACrB;YAEA,+DAA+D;YAC/D,IAAI,YAAY,SAAS,EAAE;gBACzB,sBAAsB,YAAY,SAAS;YAC7C;YAEA,6DAA6D;YAC7D,WAAW;gBACT,wCAAmC,OAAO,QAAQ,CAAC,IAAI,GAAG;YAC5D,GAAG;YAEH,aAAa;YACb,YAAY;gBAAE,QAAQ;gBAAI,aAAa;gBAAI,OAAO;gBAAI,UAAU;YAAG;YACnE,oBAAoB;gBAAE,QAAQ;gBAAI,aAAa;gBAAI,UAAU;YAAG;QAClE,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;YACpC,IAAI,eAAe,cAAc,KAAK;YACtC,WAAW;YACX,mCAAmC;YACnC,wBAAwB;YACxB,6BAA6B;YAC7B,qEAAqE;YACrE,UAAU;YACV,0FAA0F;YAC1F,6EAA6E;YAC7E,eAAe;YACf,mDAAmD;YACnD,QAAQ;YACR,gBAAgB;YAChB,yBAAyB;YACzB,MAAM;YACN,KAAK;YAEL,IAAI,OAAO,UAAU,UAAU;gBAC7B,SAAS;YACX,OAAO,IAAI,SAAS,OAAO,UAAU,YAAY,cAAc,OAAO;gBACpE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,AAAC,MAAmB,QAAQ,IAAI,CAAC;gBAC1D,4BAA4B;gBAC5B,IAAI,WAAW,OAAO,MAAM;oBAC1B,MAAM,gBAAgB,EAAE;oBACxB,IAAI,KAAK,MAAM,EAAE;wBACf,cAAc,IAAI,CAAC,CAAC,QAAQ,EAAE,MAAM,OAAO,CAAC,KAAK,MAAM,IAAI,KAAK,MAAM,CAAC,EAAE,GAAG,KAAK,MAAM,EAAE;oBAC3F;oBACA,kCAAkC;oBAClC,SAAS,cAAc,MAAM,GAAG,IAAI,cAAc,IAAI,CAAC,QAAQ,KAAK,MAAM,IAAI;gBAChF,OAAO;oBACL,SAAS,MAAM,UAAU;gBAC3B;YACF,OAAO;gBACL,SAAS;YACX;YAEA,IAAI,aAAa,UAAU,MAAM,QAAQ,EAAE;gBACzC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,QAAQ;gBAEvC,0CAA0C;gBAC1C,IAAI,WAAW,OAAO,MAAM;oBAC1B,MAAM,gBAAgB,EAAE;oBAExB,yBAAyB;oBACzB,IAAI,KAAK,MAAM,EAAE;wBACf,cAAc,IAAI,CAAC,CAAC,QAAQ,EAAE,MAAM,OAAO,CAAC,KAAK,MAAM,IAAI,KAAK,MAAM,CAAC,EAAE,GAAG,KAAK,MAAM,EAAE;oBAC3F;oBAEA,IAAI,KAAK,YAAY,EAAE;wBACrB,cAAc,IAAI,CAAC,CAAC,OAAO,EAAE,MAAM,OAAO,CAAC,KAAK,YAAY,IAAI,KAAK,YAAY,CAAC,EAAE,GAAG,KAAK,YAAY,EAAE;oBAC5G;oBAEA,IAAI,KAAK,UAAU,EAAE;wBACnB,cAAc,IAAI,CAAC,CAAC,SAAS,EAAE,MAAM,OAAO,CAAC,KAAK,UAAU,IAAI,KAAK,UAAU,CAAC,EAAE,GAAG,KAAK,UAAU,EAAE;oBACxG;oBAEA,IAAI,KAAK,WAAW,EAAE;wBACpB,cAAc,IAAI,CAAC,CAAC,QAAQ,EAAE,MAAM,OAAO,CAAC,KAAK,WAAW,IAAI,KAAK,WAAW,CAAC,EAAE,GAAG,KAAK,WAAW,EAAE;oBAC1G;oBAEA,6BAA6B;oBAC7B,IAAI,KAAK,MAAM,EAAE;wBACf,cAAc,IAAI,CAAC,KAAK,MAAM;oBAChC;oBAEA,qDAAqD;oBACrD,IAAI,cAAc,MAAM,KAAK,GAAG;wBAC9B,cAAc,IAAI,CAAC,EAAE;oBACvB;oBAEA,SAAS,cAAc,IAAI,CAAC;gBAC9B,OAAO,IAAI,WAAW,KAAK;oBACzB,SAAS,EAAE;gBACX,+BAA+B;gBAC/B,kCAAkC;gBACpC,OAAO,IAAI,WAAW,KAAK;oBACzB,SAAS,EAAE;gBACb,OAAO,IAAI,WAAW,KAAK;oBACzB,SAAS,EAAE;gBACb,OAAO,IAAI,WAAW,KAAK;oBACzB,SAAS,EAAE;gBACb,OAAO,IAAI,UAAU,KAAK;oBACxB,SAAS,EAAE;gBACb,OAAO;oBACL,SAAS,EAAE;gBACb;YACA,6CAA6C;YAC7C,yDAAyD;YACzD,+EAA+E;YACjF,OAAO;gBACL,+CAA+C;gBAC/C,SAAS,EAAE;YACb;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,0BAA0B;QAC9B,eAAe;QACf,uBAAuB;QACvB,mBAAmB,OAAO,gCAAgC;IAC5D;IAEA,oCAAoC;IACpC,MAAM,wBAAwB,CAAC;QAC7B,IAAI;YACF,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,IAAI,GAAG,CAAC,IAAI,EAAE,UAAU;YAC7B,KAAK,KAAK,CAAC,OAAO,GAAG;YACrB,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,KAAK,KAAK;YACV,WAAW;gBACT,SAAS,IAAI,CAAC,WAAW,CAAC;YAC5B,GAAG;QACL,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,qCAAqC;QACrD;IACF;IAEA,MAAM,aAAa;QACjB,OAAQ;YACN,KAAK;gBACH,qBACE,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAG,WAAW,CAAC,kBAAkB,EAAE,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;0CAAE;;;;;;;;;;;sCAGhE,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;0CACZ,UAAU,GAAG,CAAC,CAAC;oCACd,MAAM,WAAW,kBAAkB,OAAO,SAAS,EAAE;oCACrD,qBACE,6LAAC;wCAEC,SAAS,IAAM,qBAAqB;wCACpC,WAAW,CAAC,eAAe,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC;wBACrD,EAAE,WAAW,yCAAyC,GAAG,MAAM,IAAI,KAAK,SAAS,qBAAqB,mBAAmB,sBAAsB,CAAC,EAAE;;4CAEnJ,SAAS,KAAK,kBACb,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;oDACC,KAAK,SAAS,KAAK;oDACnB,KAAK,SAAS,WAAW,IAAI,SAAS,IAAI;oDAC1C,WAAU;;;;;;;;;;;0DAIhB,6LAAC;gDAAI,WAAW,CAAC,2DAA2D,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;0DAC9F,SAAS,WAAW,IAAI,SAAS,IAAI;;;;;;;uCAfnC,SAAS,EAAE;;;;;gCAmBtB;;;;;;;;;;;wBAIH,UAAU,MAAM,KAAK,KAAK,CAAC,yBAC1B,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAE,WAAW,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,uBAAuB,CAAC;0CAAG,EAAE;;;;;;;;;;;;;;;;;YAK5E,KAAK;gBACH,MAAM,iBAAiB,YAAY,MAAM,CAAC,CAAA,KAAM,GAAG,QAAQ,CAAC,EAAE,KAAK,kBAAkB;gBACrF,MAAM,oBAAoB,OAAO;oBAC/B,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,IAAI,CAAC,OAAO;oBACZ,IAAI;wBACF,MAAM,iIAAG,CAAC,MAAM,CAAC,CAAC,gBAAgB,EAAE,IAAI,EAAE;4BACxC,SAAS;gCAAE,eAAe,CAAC,OAAO,EAAE,OAAO;4BAAC;wBAC9C;wBACA,eAAe,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK;oBACvD,EAAE,OAAM;wBACN,SAAS,EAAE;oBACb;gBACF;gBACA,qBACE,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAG,WAAW,CAAC,kBAAkB,EAAE,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;;oCAAE;oCAAsC,kBAAkB,eAAe,kBAAkB;;;;;;;;;;;;sCAGzJ,6LAAC;4BAAI,WAAU;sCACZ,eAAe,GAAG,CAAC,CAAC,mBACnB,6LAAC;oCAEC,SAAS;wCACP,iBAAiB,GAAG,IAAI;wCACxB,eAAe;oCACjB;oCACA,WAAW,CAAC,kCAAkC,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,IAAI,KAAK,SAAS,qBAAqB,mBAAmB,0EAA0E,CAAC;;sDAE/N,6LAAC;4CAAI,WAAU;;gDACZ,kBAAkB,uBACjB,6LAAC;oDAAI,WAAW,GAAG,MAAM,IAAI,KAAK,SAAS,iBAAiB,cAAc,eAAe,CAAC;8DACxF,cAAA,6LAAC;wDAAI,KAAK,iBAAiB,KAAK;wDAAE,KAAI;wDAAG,WAAU;;;;;;;;;;;8DAGvD,6LAAC;oDAAK,WAAW,CAAC,iCAAiC,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;8DAAG,GAAG,IAAI;;;;;;;;;;;;sDAEpF,6LAAC;4CACC,SAAS,CAAA;gDAAO,EAAE,eAAe;gDAAI,kBAAkB,GAAG,EAAE;4CAAG;4CAC/D,WAAU;sDAEV,cAAA,6LAAC;gDAAI,OAAM;gDAA6B,WAAU;gDAAU,MAAK;gDAAO,SAAQ;gDAAY,QAAO;0DACjG,cAAA,6LAAC;oDAAK,eAAc;oDAAQ,gBAAe;oDAAQ,aAAa;oDAAG,GAAE;;;;;;;;;;;;;;;;;mCApBpE,GAAG,EAAE;;;;;;;;;;sCA2BhB,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,SAAS;oCACP,MAAM,eAAe,kBAAkB,eAAe,kBAAkB,QAAQ;oCAChF,MAAM,aAAa,kBAAkB,MAAM;oCAC3C,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,gCAAgC,EAAE,mBAAmB,cAAc,aAAa,EAAE,YAAY;gCACxH;gCACA,WAAU;;kDAEV,6LAAC,6MAAI;wCAAC,MAAM;wCAAI,aAAa;;;;;;oCAAO;;;;;;;;;;;;sCAKxC,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,SAAS,IAAM,eAAe;gCAC9B,WAAW,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,wEAAwE,CAAC;;kDAE3G,6LAAC;wCAAI,OAAM;wCAA6B,WAAU;wCAAU,MAAK;wCAAO,SAAQ;wCAAY,QAAO;kDACjG,cAAA,6LAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;oCAEtE,EAAE;;;;;;;;;;;;;;;;;;YAKb,KAAK;gBACH,qBACE,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAG,WAAW,CAAC,kBAAkB,EAAE,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;0CAAE;;;;;;;;;;;sCAGhE,6LAAC;4BAAI,WAAU;sCACZ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;oCAEC,SAAS,IAAM,oBAAoB;oCACnC,WAAW,CAAC,4BAA4B,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC,kDAAkD,EAAE,iBAAiB,OAAO,QAAQ,EAAE,GACtJ,mDACA,GAAG,MAAM,IAAI,KAAK,SAAS,oBAAoB,kBAAkB,sBAAsB,CAAC,EACxF;;wCAEH,QAAQ,KAAK,iBACZ,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAI,KAAK,QAAQ,KAAK;gDAAE,KAAK,QAAQ,IAAI;gDAAE,WAAU;;;;;;;;;;iEAGxD,6LAAC;4CAAI,WAAW,CAAC,UAAU,EAAE,MAAM,IAAI,KAAK,SAAS,iBAAiB,cAAc,0DAA0D,CAAC;sDAC7I,cAAA,6LAAC,gNAAK;gDAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC;;;;;;;;;;;sDAGjE,6LAAC;4CAAK,WAAW,CAAC,oBAAoB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;sDACxD,QAAQ,WAAW,IAAI,QAAQ,IAAI;;;;;;;mCAjBjC,QAAQ,EAAE;;;;;;;;;;sCAuBrB,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,SAAS;oCACP,IAAI,iBAAiB;wCACnB,oBAAoB;oCACtB;gCACF;gCACA,UAAU,CAAC;gCACX,WAAW,CAAC,yDAAyD,EAAE,kBACnE,6CACA,gDACA;0CACL;;;;;;;;;;;sCAKH,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,SAAS,IAAM,eAAe;gCAC9B,WAAW,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,wEAAwE,CAAC;;kDAE3G,6LAAC;wCAAI,OAAM;wCAA6B,WAAU;wCAAU,MAAK;wCAAO,SAAQ;wCAAY,QAAO;kDACjG,cAAA,6LAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;oCAEtE,EAAE;;;;;;;;;;;;;;;;;;YAMb,KAAK;gBACH,qBACE,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAG,WAAW,CAAC,kBAAkB,EAAE,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;;oCAAE;oCACjB,iBAAiB,eAAe,iBAAiB;;;;;;;;;;;;wBAI/F,6BACC,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;;;;;;;;;;iDAGjB;;8CACE,6LAAC;oCAAI,WAAU;8CACZ,WAAW,GAAG,CAAC,CAAC,sBACf,6LAAC;4CAEC,SAAS,IAAM,kBAAkB;4CACjC,WAAW,CAAC,kCAAkC,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,IAAI,KAAK,SAAS,qBAAqB,mBAAmB,0EAA0E,CAAC;;8DAE/N,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAW,CAAC,iFAAiF,CAAC;sEACjG,cAAA,6LAAC,gNAAK;gEAAC,WAAU;;;;;;;;;;;sEAEnB,6LAAC;4DAAK,WAAW,CAAC,oBAAoB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;sEACxD,2BAA2B,MAAM,KAAK;;;;;;;;;;;;8DAG3C,6LAAC;oDACC,SAAS,CAAC;wDACR,EAAE,eAAe;wDACjB,kBAAkB,MAAM,EAAE;oDAC5B;oDACA,WAAU;8DAEV,cAAA,6LAAC;wDAAI,OAAM;wDAA6B,WAAU;wDAAU,MAAK;wDAAO,SAAQ;wDAAY,QAAO;kEACjG,cAAA,6LAAC;4DAAK,eAAc;4DAAQ,gBAAe;4DAAQ,aAAa;4DAAG,GAAE;;;;;;;;;;;;;;;;;2CApBpE,MAAM,EAAE;;;;;;;;;;8CA2BnB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCACC,SAAS,IAAM,eAAe;wCAC9B,WAAW,CAAC,8NAA8N,CAAC;;0DAE3O,6LAAC,6MAAI;gDAAC,MAAM;gDAAI,aAAa;;;;;;4CAAO;;;;;;;;;;;;8CAKxC,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCACC,SAAS,IAAM,eAAe;wCAC9B,WAAW,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,wEAAwE,CAAC;;0DAE3G,6LAAC;gDAAI,OAAM;gDAA6B,WAAU;gDAAU,MAAK;gDAAO,SAAQ;gDAAY,QAAO;0DACjG,cAAA,6LAAC;oDAAK,eAAc;oDAAQ,gBAAe;oDAAQ,aAAa;oDAAG,GAAE;;;;;;;;;;;4CAEtE,EAAE;;;;;;;;;;;;;;;;;;;;YAQjB,KAAK;gBACH,qBACE,6LAAC;oBAAI,WAAW,CAAC,aAAa,EAAE,MAAM,MAAM,CAAC,YAAY,EAAE;;sCAEzD,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS,IAAM,eAAe;oCAC9B,WAAW,CAAC,IAAI,EAAE,MAAM,MAAM,CAAC,KAAK,CAAC,+BAA+B,CAAC;8CAErE,cAAA,6LAAC,gOAAS;wCAAC,MAAM;wCAAI,WAAW,MAAM,MAAM,CAAC,IAAI;;;;;;;;;;;8CAEnD,6LAAC;oCAAG,WAAW,CAAC,kBAAkB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;8CAAE;;;;;;;;;;;;sCAM3D,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAG,WAAW,CAAC,kBAAkB,EAAE,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;;oCAAE;oCACjB,iBAAiB,eAAe,iBAAiB;;;;;;;;;;;;sCAIhG,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAM,WAAW,CAAC,wBAAwB,EAAE,MAAM,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;sDAAE;;;;;;sDAG5E,6LAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;4CACjD,aAAY;4CACZ,WAAW,CAAC,mCAAmC,EAAE,MAAM,IAAI,KAAK,SAAS,qBAAqB,kBAAkB,CAAC,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,MAAM,CAAC,IAAI,CAAC,sHAAsH,CAAC;;;;;;wCAElS,uBAAS,6LAAC;4CAAE,WAAU;sDAAkC;;;;;;;;;;;;8CAG3D,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CACC,SAAS,IAAM,eAAe;4CAC9B,WAAW,CAAC,uLAAuL,CAAC;sDACrM;;;;;;sDAGD,6LAAC;4CACC,SAAS;gDACP,MAAM,UAAU,MAAM;gDACtB,IAAI,SAAS;oDACX,eAAe;gDACjB;4CACF;4CACA,UAAU,CAAC;4CACX,WAAW,CAAC,6JAA6J,CAAC;4CAC1K,OAAO;gDAAE,iBAAiB,MAAM,IAAI,KAAK,SAAS,MAAM,MAAM,CAAC,OAAO,GAAG;4CAAU;sDAElF,UAAU,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;YAO/B,KAAK;gBACH,qBACE,6LAAC;oBAAI,WAAW,CAAC,aAAa,EAAE,MAAM,MAAM,CAAC,YAAY,EAAE;;sCAEzD,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS,IAAM,eAAe;oCAC9B,WAAU;8CAEV,cAAA,6LAAC,gOAAS;wCAAC,MAAM;wCAAI,WAAU;;;;;;;;;;;8CAEjC,6LAAC;oCAAG,WAAW,CAAC,kBAAkB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;8CAAE;;;;;;;;;;;;sCAK3D,6LAAC;4BAAK,UAAU,CAAC;gCAAQ,EAAE,cAAc;gCAAI,IAAI,gBAAgB,eAAe;4BAAY;4BAAG,WAAU;;8CAEvG,6LAAC;;sDACC,6LAAC;4CAAM,WAAW,CAAC,gBAAgB,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC;sDAAE;;;;;;sDAG5E,6LAAC;4CACC,MAAK;4CACL,MAAK;4CACL,OAAO,SAAS,MAAM;4CACtB,UAAU;4CACV,WAAW,CAAC,mCAAmC,EAAE,CAAC,SAAS,MAAM,GAC7D,MAAM,IAAI,KAAK,SAAS,oBAAoB,oBAC5C,AAAC,WAAW,SAAS,MAAM,IAAI,mBAAmB,GAAG,IAAI,WAAW,SAAS,MAAM,IAAI,mBAAmB,GAAG,GAC3G,mBACA,mBACH,sIAAsI,CAAC;4CAC1I,aAAY;4CACZ,QAAQ;4CACR,KAAK,mBAAmB,GAAG;4CAC3B,KAAK,mBAAmB,GAAG;4CAC3B,MAAK;;;;;;sDAGP,6LAAC;4CAAI,WAAW,CAAC,yBAAyB,EAAE,CAAC,SAAS,MAAM,GACxD,MAAM,MAAM,CAAC,MAAM,GAAG,gBACtB,AAAC,WAAW,SAAS,MAAM,IAAI,mBAAmB,GAAG,IAAI,WAAW,SAAS,MAAM,IAAI,mBAAmB,GAAG,GAC3G,iBACA,kBACF;;gDACD,mBAAmB,GAAG;gDAAC;gDAAM,mBAAmB,GAAG;gDAAC;;;;;;;wCAEtD,iBAAiB,MAAM,kBACtB,6LAAC;4CAAE,WAAU;sDAA6B,iBAAiB,MAAM;;;;;;;;;;;;8CAKrE,6LAAC;;sDACC,6LAAC;4CAAM,WAAW,CAAC,gBAAgB,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC;sDAAE;;;;;;sDAG5E,6LAAC;4CAAI,WAAU;;8DAEb,6LAAC;oDAAI,WAAW,CAAC,uDAAuD,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,IAAI,KAAK,SAAS,qBAAqB,mBAAmB,WAAW,CAAC;;sEACxL,6LAAC;4DAAK,WAAU;sEACb,eAAe,iBAAiB;;;;;;sEAEnC,6LAAC;4DAAK,WAAW,CAAC,oBAAoB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;sEACxD,iBAAiB,cAAc;;;;;;;;;;;;8DAIpC,6LAAC;oDAAI,WAAW,CAAC,8DAA8D,EAAE,MAAM,IAAI,KAAK,SAAS,qBAAqB,mBAAmB,CAAC,EAAE,MAAM,MAAM,CAAC,YAAY,EAAE;8DAC7K,cAAA,6LAAC;wDAAK,WAAW,CAAC,QAAQ,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;kEAC5C,gBAAiB,iBAAiB,aAAa,cAAc,KAAK,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,KAAK,EAAE,gBAAgB,UAAU,CAAC,OAAO,CAAC,KAAK,KAAK,GAAG,MAAM,cAAc,KAAK,GAAI;;;;;;;;;;;;;;;;;;;;;;;gCAOnL,iBAAiB,iCAChB,6LAAC;oCAAI,WAAW,CAAC,IAAI,EAAE,MAAM,IAAI,KAAK,SAAS,mCAAmC,6BAA6B,kBAAkB,CAAC;8CAChI,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;oDAAI,WAAW,CAAC,QAAQ,EAAE,MAAM,IAAI,KAAK,SAAS,kBAAkB,iBAAiB;oDAAE,MAAK;oDAAe,SAAQ;8DAClH,cAAA,6LAAC;wDAAK,UAAS;wDAAU,GAAE;wDAAmI,UAAS;;;;;;;;;;;;;;;;0DAG3K,6LAAC;gDAAE,WAAW,CAAC,QAAQ,EAAE,MAAM,IAAI,KAAK,SAAS,kBAAkB,gBAAgB,sBAAsB,CAAC;0DACvG,gBAAgB,eAAe;;;;;;;;;;;;;;;;;gCAOvC,iBAAiB,2BAChB,6LAAC;oCAAI,WAAW,CAAC,IAAI,EAAE,MAAM,IAAI,KAAK,SAAS,qCAAqC,+BAA+B,kBAAkB,CAAC;8CACpI,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;oDAAI,WAAW,CAAC,QAAQ,EAAE,MAAM,IAAI,KAAK,SAAS,mBAAmB,kBAAkB;oDAAE,MAAK;oDAAe,SAAQ;8DACpH,cAAA,6LAAC;wDAAK,UAAS;wDAAU,GAAE;wDAAmI,UAAS;;;;;;;;;;;;;;;;0DAG3K,6LAAC;gDAAE,WAAW,CAAC,QAAQ,EAAE,MAAM,IAAI,KAAK,SAAS,mBAAmB,iBAAiB,YAAY,CAAC;;oDAAE;kEACpF,6LAAC;wDAAK,WAAU;kEAAuB,gBAAgB,SAAS;;;;;;;;;;;;;;;;;;;;;;;8CAOtF,6LAAC;oCAAI,WAAU;8CAOZ,kBAAkB,iCACjB,6LAAC;wCAAE,WAAU;kDACV,iBAAiB,eAAe;;;;;;;;;;;8CAMvC,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCACC,MAAK;wCACL,UAAU,WAAW,CAAC,SAAS,MAAM,IAAI,CAAC;wCAC1C,WAAW,CAAC,6HAA6H,CAAC;wCAC1I,OAAO;4CAAE,iBAAiB,MAAM,IAAI,KAAK,SAAS,MAAM,MAAM,CAAC,OAAO,GAAG;wCAAU;kDAElF,UAAU,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;YAMzC,KAAK;gBACH,qBACE,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAG,WAAW,CAAC,mBAAmB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;0CAAE;;;;;;;;;;;sCAI5D,6LAAC;4BAAI,WAAW,GAAG,MAAM,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,IAAI,KAAK,SAAS,qBAAqB,mBAAmB,sCAAsC,CAAC;;8CAG5J,6LAAC;oCAAI,WAAW,CAAC,kCAAkC,EAAE,MAAM,IAAI,KAAK,SAAS,oCAAoC,+BAA+B;8CAC9I,cAAA,6LAAC;wCAAI,WAAW,CAAC,wBAAwB,EAAE,MAAM,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;;4CAC1E,IAAI,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC,SAAS,SAAS,MAAM;4CAAG;0DAAC,6LAAC;gDAAK,WAAU;0DAA0C;;;;;;;;;;;;;;;;;8CAKjI,6LAAC;oCAAI,WAAU;;sDAEb,6LAAC;4CAAI,WAAW,CAAC,YAAY,EAAE,MAAM,IAAI,KAAK,SAAS,iBAAiB,gBAAgB;;;;;;sDAGxF,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAW,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,mBAAmB,CAAC;8DAAE;;;;;;8DAC9D,6LAAC;oDAAI,WAAU;;wDACZ,kBAAkB,uBACjB,6LAAC;4DAAI,KAAK,iBAAiB,KAAK;4DAAE,KAAI;4DAAG,WAAU;;;;;;sEAErD,6LAAC;4DAAK,WAAW,CAAC,cAAc,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;sEAAG,kBAAkB,eAAe,kBAAkB;;;;;;;;;;;;;;;;;;sDAK/G,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAW,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,mBAAmB,CAAC;8DAAE;;;;;;8DAC9D,6LAAC;oDAAK,WAAW,CAAC,sBAAsB,EAAE,MAAM,MAAM,CAAC,IAAI,CAAC,0DAA0D,CAAC;8DAAG;;;;;;;;;;;;sDAI5H,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAW,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,mBAAmB,CAAC;8DAAE;;;;;;8DAC9D,6LAAC;oDAAI,WAAU;;wDACZ,iBAAiB,uBAChB,6LAAC;4DAAI,KAAK,gBAAgB,KAAK;4DAAE,KAAI;4DAAG,WAAU;;;;;;sEAEpD,6LAAC;4DAAK,WAAW,CAAC,cAAc,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;sEAAG,iBAAiB,eAAe,iBAAiB;;;;;;;;;;;;;;;;;;sDAK7G,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAW,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,mBAAmB,CAAC;8DAAE;;;;;;8DAC9D,6LAAC;oDAAK,WAAW,CAAC,cAAc,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;8DAAG,2BAA2B,eAAe,SAAS;;;;;;;;;;;;;;;;;;;;;;;;sCAMjH,6LAAC;4BAAE,WAAW,CAAC,oBAAoB,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC,gCAAgC,CAAC;sCAAE;;;;;;sCAK5F,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS;oCACT,UAAU;oCACV,WAAU;oCACV,OAAO;wCAAE,iBAAiB,MAAM,IAAI,KAAK,SAAS,MAAM,MAAM,CAAC,OAAO,GAAG;oCAAU;8CAElF,wBACC;;0DACE,6LAAC;gDAAI,WAAU;;;;;;0DACf,6LAAC;0DAAK;;;;;;;qEAGR,6LAAC;kDAAK;;;;;;;;;;;8CAIV,6LAAC;oCACC,SAAS,IAAM,eAAe;oCAC9B,UAAU;oCACV,WAAW,CAAC,0CAA0C,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC,gDAAgD,CAAC;8CAC9H;;;;;;;;;;;;;;;;;;QAMX;IACF;IAEA,iDAAiD;IACjD,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,YAAY,OAAO,QAAQ,UAAU;QAC1C,MAAM,kBAAkB,WAAW,OAAO,CAAC,KAAK;QAChD,OAAQ;YACN,KAAK;gBAAO,OAAO,QAAQ,eAAe;YAC1C,KAAK;gBAAO,OAAO,QAAQ,gBAAgB;YAC3C,KAAK;gBAAO,OAAO,QAAQ,OAAO;YAClC,KAAK;gBAAO,OAAO,QAAQ,UAAU;YACrC,KAAK;gBAAO,OAAO,QAAQ,OAAO;YAClC,KAAK;gBAAO,OAAO,QAAQ,QAAQ;YACnC,KAAK;gBAAO,OAAO,QAAQ,WAAW;YACtC,KAAK;gBAAO,OAAO,QAAQ,SAAS;YACpC,KAAK;gBAAO,OAAO,QAAQ,QAAQ;YACnC,KAAK;gBAAO,OAAO,QAAQ,QAAQ;YACnC,KAAK;gBAAO,OAAO,QAAQ,MAAM;YACjC,KAAK;gBAAO,OAAO,QAAQ,QAAQ;YACnC,KAAK;gBAAO,OAAO,QAAQ,QAAQ;YACnC,KAAK;gBAAO,OAAO,QAAQ,UAAU;YACrC;gBAAS,OAAO;QAClB;IACF;IAEA,yBAAyB;IACzB,MAAM,sBAAsB;QAC1B,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAC,+BAA+B,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC;;0BAC/E,6LAAC;0BACE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAoDF,CAAC;;;;;;0BAGH,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS;oCACP,IAAI,gBAAgB,YAAY;wCAC9B,OAAO,IAAI;oCACb,OAAO,IAAI,gBAAgB,eAAe;wCACxC,eAAe;oCACjB,OAAO,IAAI,gBAAgB,iBAAiB;wCAC1C,eAAe;oCACjB,OAAO,IAAI,gBAAgB,eAAe;wCACxC,eAAe;oCACjB,OAAO,IAAI,gBAAgB,gBAAgB;wCACzC,eAAe;oCACjB,OAAO,IAAI,gBAAgB,WAAW;wCACpC,eAAe;oCACjB;gCACF;gCACA,WAAU;0CAEV,cAAA,6LAAC;oCAAI,OAAM;oCAA6B,WAAU;oCAAU,MAAK;oCAAO,SAAQ;oCAAY,QAAO;8CACjG,cAAA,6LAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;0CAGzE,6LAAC;gCAAG,WAAU;0CAAqC;;;;;;;;;;;;kCAIrD,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;;gCAEE,uBACC,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,0NAAO;gDAAC,WAAU;;;;;;4CAClB;;;;;;;;;;;;gCAKN,yBACC,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,6OAAW;gDAAC,WAAU;;;;;;4CACtB;;;;;;;;;;;;gCAKN,WAAW,CAAC,WAAW,CAAC,sBACvB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;;;;;;0DACf,6LAAC;gDAAI,WAAU;;;;;;;;;;;;;;;;2CAInB;;;;;;;;;;;;;;;;;;YAWN,sBAAsB,6BACpB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAW,GAAG,MAAM,MAAM,CAAC,UAAU,CAAC,mDAAmD,CAAC;8BAC7F,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAyB,EAAE;;;;;;kDACzC,6LAAC;wCACC,SAAS;4CACP,sBAAsB;4CACtB,eAAe;4CACf,kBAAkB;wCACpB;wCACA,WAAU;kDAEV,cAAA,6LAAC;4CAAI,WAAU;4CAAU,MAAK;4CAAO,QAAO;4CAAe,SAAQ;sDACjE,cAAA,6LAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAY;gDAAI,GAAE;;;;;;;;;;;;;;;;;;;;;;0CAK3E,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDACd,EAAE;;;;;;sDAEL,6LAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;4CACjD,WAAU;4CACV,aAAY;;;;;;sDAEd,6LAAC;4CAAE,WAAU;sDACV,EAAE;;;;;;;;;;;;;;;;;0CAKT,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,SAAS;4CACP,sBAAsB;4CACtB,eAAe;4CACf,kBAAkB;wCACpB;wCACA,WAAU;kDAET,EAAE;;;;;;kDAEL,6LAAC;wCACC,SAAS;wCACT,UAAU,CAAC,eAAe,IAAI;wCAC9B,WAAU;kDAET,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUvB;GAn9CwB;;QACP,kJAAS;QACV,qLAAc;QA0BV,kJAAQ;QACI,sJAAY;;;KA7BpB"}}]
}