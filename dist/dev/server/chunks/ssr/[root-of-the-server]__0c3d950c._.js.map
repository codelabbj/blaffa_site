{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/lib/axios.ts"],"sourcesContent":["import axios, { AxiosError, InternalAxiosRequestConfig } from 'axios';\r\n\r\nconst API_URL = 'https://api.blaffa.net';\r\n\r\n// Create axios instance with base URL\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nlet isRefreshing = false;\r\nlet failedQueue: Array<{\r\n  resolve: (token: string) => void;\r\n  reject: (error: unknown) => void;\r\n}> = [];\r\n\r\nconst processQueue = (error: unknown, token: string | null = null) => {\r\n  failedQueue.forEach(prom => {\r\n    if (error) {\r\n      prom.reject(error);\r\n    } else {\r\n      prom.resolve(token!);\r\n    }\r\n  });\r\n  failedQueue = [];\r\n};\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('accessToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle token refresh\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error: AxiosError) => {\r\n    const originalRequest = error.config as InternalAxiosRequestConfig & { _retry?: boolean };\r\n\r\n    // If the error is 401 and we haven't tried to refresh yet\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      if (isRefreshing) {\r\n        // If we're already refreshing, add the request to the queue\r\n        return new Promise((resolve, reject) => {\r\n          failedQueue.push({ resolve, reject });\r\n        })\r\n          .then((token) => {\r\n            originalRequest.headers.Authorization = `Bearer ${token}`;\r\n            return api(originalRequest);\r\n          })\r\n          .catch((err) => {\r\n            return Promise.reject(err);\r\n          });\r\n      }\r\n\r\n      originalRequest._retry = true;\r\n      isRefreshing = true;\r\n\r\n      try {\r\n        const refreshToken = localStorage.getItem('refreshToken');\r\n        if (!refreshToken) {\r\n          // No refresh token available, redirect to login\r\n          localStorage.removeItem('accessToken');\r\n          window.location.href = '/login';\r\n          return Promise.reject(error);\r\n        }\r\n\r\n        // Try to refresh the token\r\n        const response = await axios.post(\r\n          `${API_URL}/auth/refresh`,\r\n          { refresh: refreshToken },\r\n          { headers: { 'Content-Type': 'application/json' } }\r\n        );\r\n\r\n        const { access, refresh: newRefresh } = response.data;\r\n\r\n        // Update tokens in localStorage\r\n        localStorage.setItem('accessToken', access);\r\n        if (newRefresh) {\r\n          localStorage.setItem('refreshToken', newRefresh);\r\n        }\r\n\r\n        // Update the Authorization header\r\n        api.defaults.headers.common.Authorization = `Bearer ${access}`;\r\n        originalRequest.headers.Authorization = `Bearer ${access}`;\r\n\r\n        // Process the queue\r\n        processQueue(null, access);\r\n\r\n        // Retry the original request\r\n        return api(originalRequest);\r\n      } catch (refreshError) {\r\n        // If refresh fails, clear tokens and redirect to login\r\n        console.error('Failed to refresh token:', refreshError);\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        window.location.href = '/login';\r\n        processQueue(refreshError);\r\n        return Promise.reject(refreshError);\r\n      } finally {\r\n        isRefreshing = false;\r\n      }\r\n    }\r\n\r\n    // For other errors, just reject\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU;AAEhB,sCAAsC;AACtC,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,IAAI,eAAe;AACnB,IAAI,cAGC,EAAE;AAEP,MAAM,eAAe,CAAC,OAAgB,QAAuB,IAAI;IAC/D,YAAY,OAAO,CAAC,CAAA;QAClB,IAAI,OAAO;YACT,KAAK,MAAM,CAAC;QACd,OAAO;YACL,KAAK,OAAO,CAAC;QACf;IACF;IACA,cAAc,EAAE;AAClB;AAEA,wCAAwC;AACxC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,+CAA+C;AAC/C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,0DAA0D;IAC1D,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC7D,IAAI,cAAc;YAChB,4DAA4D;YAC5D,OAAO,IAAI,QAAQ,CAAC,SAAS;gBAC3B,YAAY,IAAI,CAAC;oBAAE;oBAAS;gBAAO;YACrC,GACG,IAAI,CAAC,CAAC;gBACL,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;gBACzD,OAAO,IAAI;YACb,GACC,KAAK,CAAC,CAAC;gBACN,OAAO,QAAQ,MAAM,CAAC;YACxB;QACJ;QAEA,gBAAgB,MAAM,GAAG;QACzB,eAAe;QAEf,IAAI;YACF,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,CAAC,cAAc;gBACjB,gDAAgD;gBAChD,aAAa,UAAU,CAAC;gBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACvB,OAAO,QAAQ,MAAM,CAAC;YACxB;YAEA,2BAA2B;YAC3B,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC/B,GAAG,QAAQ,aAAa,CAAC,EACzB;gBAAE,SAAS;YAAa,GACxB;gBAAE,SAAS;oBAAE,gBAAgB;gBAAmB;YAAE;YAGpD,MAAM,EAAE,MAAM,EAAE,SAAS,UAAU,EAAE,GAAG,SAAS,IAAI;YAErD,gCAAgC;YAChC,aAAa,OAAO,CAAC,eAAe;YACpC,IAAI,YAAY;gBACd,aAAa,OAAO,CAAC,gBAAgB;YACvC;YAEA,kCAAkC;YAClC,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAC9D,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAE1D,oBAAoB;YACpB,aAAa,MAAM;YAEnB,6BAA6B;YAC7B,OAAO,IAAI;QACb,EAAE,OAAO,cAAc;YACrB,uDAAuD;YACvD,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB,aAAa;YACb,OAAO,QAAQ,MAAM,CAAC;QACxB,SAAU;YACR,eAAe;QACjB;IACF;IAEA,gCAAgC;IAChC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/components/StaticTransactionHistory.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Activity } from 'lucide-react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useTheme } from './ThemeProvider';\r\n\r\n// Define API response interfaces\r\ninterface User {\r\n    id: string;\r\n    email: string;\r\n    first_name: string;\r\n    last_name: string;\r\n}\r\n\r\ninterface App {\r\n    id: string;\r\n    name: string;\r\n    image: string;\r\n    public_name: string;\r\n    is_active: boolean;\r\n}\r\n\r\ninterface Network {\r\n    id: number;\r\n    name: string;\r\n    public_name: string;\r\n    image: string;\r\n    country_code: string;\r\n    indication: string;\r\n}\r\n\r\ninterface Transaction {\r\n    id: string;\r\n    amount: number;\r\n    reference: string;\r\n    type_trans: string;\r\n    status: string;\r\n    created_at: string;\r\n    phone_number: string;\r\n    app: App;\r\n    network: Network;\r\n    user: User;\r\n    user_app_id: string;\r\n    transaction_reference: string | null;\r\n    error_message: string | null;\r\n    net_payable_amount: number | null;\r\n}\r\n\r\ntype HistoricItem = {\r\n    id: string;\r\n    user: string;\r\n    created_at: string;\r\n    transaction: Transaction;\r\n};\r\n\r\nexport default function StaticTransactionHistory() {\r\n    const [transactions, setTransactions] = useState<HistoricItem[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const { theme } = useTheme();\r\n    const router = useRouter();\r\n\r\n    // Format date from ISO string to readable format\r\n    const formatDate = (isoDate: string) => {\r\n        const date = new Date(isoDate);\r\n        return date.toLocaleDateString('fr-FR', {\r\n            day: 'numeric',\r\n            month: 'short',\r\n            year: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit',\r\n            hour12: false,\r\n            timeZone: 'UTC'\r\n        });\r\n    };\r\n\r\n    // Fetch transactions from API (static, no WebSocket, no authentication)\r\n    const fetchTransactions = async () => {\r\n        setLoading(true);\r\n\r\n        try {\r\n            // Make API call WITHOUT authentication\r\n            const response = await fetch('https://api.blaffa.net/blaffa/historic', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to fetch transactions');\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (data.results && data.results.length > 0) {\r\n                // Only show first 5 transactions\r\n                setTransactions(data.results.slice(0, 5));\r\n            } else {\r\n                setTransactions([]);\r\n            }\r\n\r\n            setError(null);\r\n        } catch (error) {\r\n            console.error('Error fetching transactions:', error);\r\n            setTransactions([]);\r\n            setError(null); // Don't show error to user, just show empty state\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Initial fetch\r\n    useEffect(() => {\r\n        fetchTransactions();\r\n    }, []);\r\n\r\n    // Show transaction details\r\n    const openTransactionDetails = (transaction: HistoricItem) => {\r\n        router.push(`/transaction/detail?id=${transaction.transaction.id}`);\r\n    };\r\n\r\n    return (\r\n        <div className={`mt-8 bg-gradient-to-br ${theme.colors.background} rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden`}>\r\n            <div className=\"w-full overflow-hidden\">\r\n                {/* Header with title and controls */}\r\n                <div className=\"px-6 py-4 flex items-center justify-between\">\r\n                    <h3 className={`text-xl font-medium ${theme.colors.text}`}>Activités récentes</h3>\r\n                    <a className=\"text-[#134e9a] dark:text-blue-400 hover:text-blue-700 font-bold text-sm\" href=\"/all_transactions\">\r\n                        voir tout\r\n                    </a>\r\n                </div>\r\n\r\n                {/* Transaction list */}\r\n                <div className=\"space-y-4\">\r\n                    <style>\r\n                        {`\r\n        @keyframes slideInUp {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(20px) scale(0.95);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0) scale(1);\r\n          }\r\n        }\r\n\r\n        @keyframes shimmer {\r\n          0% { background-position: -200px 0; }\r\n          100% { background-position: calc(200px + 100%) 0; }\r\n        }\r\n              \r\n        .shimmer-effect {\r\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\r\n          background-size: 200px 100%;\r\n          animation: shimmer 2s infinite;\r\n        }\r\n      `}\r\n                    </style>\r\n\r\n                    {loading ? (\r\n                        <div className=\"flex justify-center items-center py-16\">\r\n                            <div className=\"relative\">\r\n                                <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-blue-500/30 border-t-blue-500\"></div>\r\n                                <div className=\"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/20 to-blue-500/20 animate-pulse\"></div>\r\n                            </div>\r\n                        </div>\r\n                    ) : transactions.length === 0 ? (\r\n                        <div className=\"flex flex-col items-center justify-center py-10 px-6\">\r\n                            <p className=\"text-gray-500 dark:text-gray-400 text-sm mb-2 text-center font-normal\">\r\n                                your recent activities will appear here\r\n                            </p>\r\n                            <h3 className=\"text-xl font-semibold text-center text-gray-900 dark:text-white\">\r\n                                No recent activity yet\r\n                            </h3>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"w-full\">\r\n                            <div className=\"grid gap-0\">\r\n                                {transactions.map((item, index) => (\r\n                                    <div\r\n                                        key={item.id}\r\n                                        className=\"group relative w-full overflow-hidden bg-white dark:bg-transparent transition-all duration-300 cursor-pointer\"\r\n                                        onClick={() => openTransactionDetails(item)}\r\n                                    >\r\n\r\n                                        <div className=\"relative p-6 w-full\">\r\n                                            {/* Unified Layout (Simplified dots design for all screens) */}\r\n                                            <div className=\"w-full\">\r\n                                                <div className=\"flex items-center justify-between w-full\">\r\n                                                    <div className=\"flex items-center gap-4\">\r\n                                                        {/* Stylized Dots Icon - Light gray circle with 3 blue dots */}\r\n                                                        <div className=\"w-12 h-12 rounded-full bg-gray-50 dark:bg-gray-700 flex items-center justify-center flex-shrink-0\">\r\n                                                            <div className=\"flex gap-0.5\">\r\n                                                                <div className=\"w-1.5 h-1.5 rounded-full bg-[#3b82f6] dark:bg-[#60a5fa]\"></div>\r\n                                                                <div className=\"w-1.5 h-1.5 rounded-full bg-[#3b82f6] dark:bg-[#60a5fa]\"></div>\r\n                                                                <div className=\"w-1.5 h-1.5 rounded-full bg-[#3b82f6] dark:bg-[#60a5fa]\"></div>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                        {/* Transaction Info */}\r\n                                                        <div className=\"flex flex-col\">\r\n                                                            <h3 className=\"font-medium text-[1.05rem] text-gray-900 dark:text-white leading-tight\">\r\n                                                                {item.transaction.type_trans === 'deposit' ? 'Dépôt' : item.transaction.type_trans === 'withdrawal' ? 'Retrait' : item.transaction.type_trans}\r\n                                                            </h3>\r\n                                                            <p className=\"text-[0.85rem] text-gray-500 dark:text-gray-400 font-normal\">\r\n                                                                {formatDate(item.transaction.created_at)}\r\n                                                            </p>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    {/* Amount and Status */}\r\n                                                    <div className=\"text-right\">\r\n                                                        <div className=\"font-medium text-[1rem] text-gray-900 dark:text-white\">\r\n                                                            XOF {item.transaction.amount}\r\n                                                        </div>\r\n                                                        <p className=\"text-[0.85rem] text-[#b3b3b3] dark:text-gray-500 font-normal\">\r\n                                                            {item.transaction.status === 'pending' ? 'pending' : item.transaction.status}\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* Gradient border effect on hover */}\r\n                                        <div className=\"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none\">\r\n                                            <div className=\"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/20 via-blue-500/20 to-blue-500/20 blur-sm\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAwDe,SAAS;IACpB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAiB,EAAE;IACnE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+IAAQ;IAC1B,MAAM,SAAS,IAAA,+IAAS;IAExB,iDAAiD;IACjD,MAAM,aAAa,CAAC;QAChB,MAAM,OAAO,IAAI,KAAK;QACtB,OAAO,KAAK,kBAAkB,CAAC,SAAS;YACpC,KAAK;YACL,OAAO;YACP,MAAM;YACN,MAAM;YACN,QAAQ;YACR,QAAQ;YACR,UAAU;QACd;IACJ;IAEA,wEAAwE;IACxE,MAAM,oBAAoB;QACtB,WAAW;QAEX,IAAI;YACA,uCAAuC;YACvC,MAAM,WAAW,MAAM,MAAM,0CAA0C;gBACnE,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;YACJ;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM;YACpB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,KAAK,OAAO,IAAI,KAAK,OAAO,CAAC,MAAM,GAAG,GAAG;gBACzC,iCAAiC;gBACjC,gBAAgB,KAAK,OAAO,CAAC,KAAK,CAAC,GAAG;YAC1C,OAAO;gBACH,gBAAgB,EAAE;YACtB;YAEA,SAAS;QACb,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,gBAAgB,EAAE;YAClB,SAAS,OAAO,kDAAkD;QACtE,SAAU;YACN,WAAW;QACf;IACJ;IAEA,gBAAgB;IAChB,IAAA,kNAAS,EAAC;QACN;IACJ,GAAG,EAAE;IAEL,2BAA2B;IAC3B,MAAM,yBAAyB,CAAC;QAC5B,OAAO,IAAI,CAAC,CAAC,uBAAuB,EAAE,YAAY,WAAW,CAAC,EAAE,EAAE;IACtE;IAEA,qBACI,8OAAC;QAAI,WAAW,CAAC,uBAAuB,EAAE,MAAM,MAAM,CAAC,UAAU,CAAC,uFAAuF,CAAC;kBACtJ,cAAA,8OAAC;YAAI,WAAU;;8BAEX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAW,CAAC,oBAAoB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;sCAAE;;;;;;sCAC3D,8OAAC;4BAAE,WAAU;4BAA0E,MAAK;sCAAoB;;;;;;;;;;;;8BAMpH,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;sCACI,CAAC;;;;;;;;;;;;;;;;;;;;;;MAsBpB,CAAC;;;;;;wBAGc,wBACG,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;mCAGvB,aAAa,MAAM,KAAK,kBACxB,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAE,WAAU;8CAAwE;;;;;;8CAGrF,8OAAC;oCAAG,WAAU;8CAAkE;;;;;;;;;;;iDAKpF,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAI,WAAU;0CACV,aAAa,GAAG,CAAC,CAAC,MAAM,sBACrB,8OAAC;wCAEG,WAAU;wCACV,SAAS,IAAM,uBAAuB;;0DAGtC,8OAAC;gDAAI,WAAU;0DAEX,cAAA,8OAAC;oDAAI,WAAU;8DACX,cAAA,8OAAC;wDAAI,WAAU;;0EACX,8OAAC;gEAAI,WAAU;;kFAEX,8OAAC;wEAAI,WAAU;kFACX,cAAA,8OAAC;4EAAI,WAAU;;8FACX,8OAAC;oFAAI,WAAU;;;;;;8FACf,8OAAC;oFAAI,WAAU;;;;;;8FACf,8OAAC;oFAAI,WAAU;;;;;;;;;;;;;;;;;kFAKvB,8OAAC;wEAAI,WAAU;;0FACX,8OAAC;gFAAG,WAAU;0FACT,KAAK,WAAW,CAAC,UAAU,KAAK,YAAY,UAAU,KAAK,WAAW,CAAC,UAAU,KAAK,eAAe,YAAY,KAAK,WAAW,CAAC,UAAU;;;;;;0FAEjJ,8OAAC;gFAAE,WAAU;0FACR,WAAW,KAAK,WAAW,CAAC,UAAU;;;;;;;;;;;;;;;;;;0EAMnD,8OAAC;gEAAI,WAAU;;kFACX,8OAAC;wEAAI,WAAU;;4EAAwD;4EAC9D,KAAK,WAAW,CAAC,MAAM;;;;;;;kFAEhC,8OAAC;wEAAE,WAAU;kFACR,KAAK,WAAW,CAAC,MAAM,KAAK,YAAY,YAAY,KAAK,WAAW,CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;0DAQhG,8OAAC;gDAAI,WAAU;0DACX,cAAA,8OAAC;oDAAI,WAAU;;;;;;;;;;;;uCA7Cd,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDpD"}},
    {"offset": {"line": 556, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/components/Advertisement_Hero.tsx"],"sourcesContent":["\n\nimport React, { useState, useEffect, useCallback } from 'react';\n//import { ChevronLeft, ChevronRight } from 'lucide-react';\nimport Image from 'next/image'; // Import Next.js Image component\n//import { useTranslation } from 'react-i18next';\nimport api from '../lib/axios';\n\n// Define the type for a single slide object\ninterface Slide {\n  id: string;\n  image: string; // Assuming image is a URL string\n  content?: string; // content might be optional\n  created_at: string;\n  enable: boolean;\n  // Add any other properties your API returns\n}\n\ninterface Ad {\n  enable: boolean;\n \n}\n\n\nconst SlidingHero = ({ baseUrl = 'https://api.blaffa.net' }) => {\n  // Use the Slide type for the slides state\n  const [slides, setSlides] = useState<Slide[]>([]);\n  const [currentSlide, setCurrentSlide] = useState(0);\n  const [loading, setLoading] = useState(true);\n  // Explicitly type the error state\n  const [error, setError] = useState<string | null>(null);\n  // Type imageLoaded as a record mapping string IDs to boolean\n  const [imageLoaded, setImageLoaded] = useState<Record<string, boolean>>({});\n  //const { t } = useTranslation();\n\n  // Fetch advertisements from API\n  useEffect(() => {\n    const fetchAds = async () => {\n      try {\n        setLoading(true);\n        setError(null); // Clear previous errors\n        // Use fetch instead of axios to avoid sending auth token\n        const response = await fetch(`${baseUrl}/blaffa/advertisement`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n        \n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        \n        // Ensure data.results is an array and contains objects matching Slide interface\n        if (Array.isArray(data.results)) {\n          const enabledAds: Slide[] = data.results.filter((ad: Ad) => ad.enable); // Use 'any' temporarily if structure is uncertain, or refine filter type\n          setSlides(enabledAds);\n          // Save to localStorage for offline/fallback use\n          localStorage.setItem('advertisementCache', JSON.stringify(enabledAds));\n        } else {\n            console.error('API response results is not an array:', data);\n            setSlides([]); // Set to empty array if results is not as expected\n        }\n\n      } catch (err: unknown) { // Catch error as unknown\n        console.error('Error fetching advertisements:', err);\n        // Try to load from localStorage cache\n        const cachedAds = localStorage.getItem('advertisementCache');\n        if (cachedAds) {\n          try {\n            const parsedAds = JSON.parse(cachedAds) as Slide[];\n            setSlides(parsedAds);\n            console.log('Loaded advertisements from cache');\n          } catch (parseErr) {\n            console.error('Failed to parse cached advertisements:', parseErr);\n            setSlides([]); // Empty array if no valid cache\n          }\n        } else {\n          setSlides([]); // Empty array if no cache available\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAds();\n  }, [baseUrl]);\n\n  // Auto-slide functionality\n  useEffect(() => {\n    if (slides.length <= 1) return;\n\n    const interval = setInterval(() => {\n      setCurrentSlide(prev => (prev + 1) % slides.length);\n    }, 5000);\n\n    return () => clearInterval(interval);\n  }, [slides.length]);\n\n \n\n  const handleImageLoad = useCallback((slideId: string) => { // Explicitly type slideId\n    setImageLoaded(prev => ({ ...prev, [slideId]: true }));\n  }, []);\n\n  // Handle image error - use Next.js Image onError signature\n  const handleImageError = useCallback((slideId: string, e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n      console.error(`Failed to load image for slide ${slideId}:`, e);\n      // Optionally set a fallback image source here if needed, though Next/Image handles some fallbacks\n      // e.currentTarget.src = 'fallback-image-url.jpg'; // Example fallback\n      setImageLoaded(prev => ({ ...prev, [slideId]: true })); // Mark as loaded even on error to show fallback/broken image\n  }, []);\n\n\n  if (loading) {\n    return (\n      <div className=\"relative w-full h-64 md:h-96 lg:h-[500px] bg-gradient-to-r from-gray-800 to-gray-900 flex items-center justify-center\">\n        <div className=\"flex space-x-2\">\n          <div className=\"w-3 h-3 bg-white rounded-full animate-bounce\"></div>\n          <div className=\"w-3 h-3 bg-white rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n          <div className=\"w-3 h-3 bg-white rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (slides.length === 0) {\n    return null; // Show nothing if no slides available\n  }\n\n  return (\n    <div className=\"w-full h-64 md:h-96 lg:h-[500px] overflow-hidden bg-black rounded-2xl shadow-lg\">\n      {/* Slides Container */}\n      <div\n        className=\"flex transition-transform duration-700 ease-in-out h-full\"\n        style={{ transform: `translateX(-${currentSlide * 100}%)` }}\n      >\n        {/* Explicitly type the slide parameter */}\n        {slides.map((slide: Slide, index: number) => (\n          <div\n            key={slide.id}\n            className=\"relative flex-shrink-0 w-full h-full\"\n          >\n            {/* Background Image using Next.js Image */}\n            <div className=\"absolute inset-0\">\n              <Image\n                src={slide.image}\n                alt={slide.content || `Slide ${index + 1}`}\n                fill // Use fill to make the image cover the parent div\n                className={`object-cover transition-opacity duration-500 ${\n                  imageLoaded[slide.id] ? 'opacity-100' : 'opacity-0'\n                }`}\n                onLoad={() => handleImageLoad(slide.id)}\n                onError={(e) => handleImageError(slide.id, e)} // Use the new error handler\n                sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\" // Define appropriate sizes\n                priority={index === 0} // Prioritize loading the first image\n              />\n              {/* Gradient Overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent\"></div>\n            </div>\n\n            {/* Content */}\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"text-center text-white px-4 max-w-4xl\">\n                <h1 className=\"text-2xl md:text-4xl lg:text-6xl font-bold mb-4 leading-tight drop-shadow-lg\">\n                  {slide.content}\n                </h1>\n                {/* <div className=\"w-20 h-1 bg-gradient-to-r from-blue-400 to-purple-600 mx-auto rounded-full\"></div> */}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Navigation Arrows */}\n      {slides.length > 1 && (\n        <>\n          {/* <button\n            onClick={prevSlide}\n            className=\"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white p-2 md:p-3 rounded-full transition-all duration-300 hover:scale-110 z-10\" // Added z-10 to ensure arrows are above images\n            aria-label=\"Previous slide\"\n          >\n            <ChevronLeft className=\"w-5 h-5 md:w-6 md:h-6\" />\n          </button>\n\n          <button\n            onClick={nextSlide}\n            className=\"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white p-2 md:p-3 rounded-full transition-all duration-300 hover:scale-110 z-10\" // Added z-10\n            aria-label=\"Next slide\"\n          >\n            <ChevronRight className=\"w-5 h-5 md:w-6 md:h-6\" />\n          </button> */}\n        </>\n      )}\n\n      {/* Dots Indicator */}\n      {/* {slides.length > 1 && (\n        <div className=\"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2 z-10\"> \n          {slides.map((_, index) => (\n            <button\n              key={index}\n              onClick={() => goToSlide(index)}\n              className={`w-3 h-3 rounded-full transition-all duration-300 ${\n                index === currentSlide\n                  ? 'bg-white scale-125'\n                  : 'bg-white/50 hover:bg-white/75'\n              }`}\n              aria-label={`Go to slide ${index + 1}`}\n            />\n          ))}\n        </div>\n      )} */}\n\n      {/* Progress Bar */}\n      {/* {slides.length > 1 && (\n        <div className=\"absolute bottom-0 left-0 w-full h-1 bg-white/20 z-10\"> \n          <div\n            className=\"h-full bg-gradient-to-r from-blue-400 to-purple-600 transition-all duration-700 ease-in-out\"\n            style={{ width: `${((currentSlide + 1) / slides.length) * 100}%` }}\n          />\n        </div>\n      )} */}\n    </div>\n  );\n};\n\nexport default SlidingHero;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 789, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/app/landing/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from 'react';\nimport Image from 'next/image';\nimport StaticTransactionHistory from '@/components/StaticTransactionHistory';\nimport { useTranslation } from 'react-i18next';\n// import Footer from '@/components/footer';\nimport { useTheme } from '../../components/ThemeProvider';\n\n//import Advertisement_Hero from '@/components/Advertisement_Hero';\n//import { ArrowDownLeft, ArrowUpRight, Ticket, CreditCard } from 'lucide-react';\nimport {\n  MessageCircle,\n  X,\n  BitcoinIcon,\n  Send,\n  Headset,\n} from 'lucide-react';\n\nimport Advertisement_Hero from '../../components/Advertisement_Hero';\n\n\n\nexport default function LandingPage() {\n  const { t } = useTranslation();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isContactMenuOpen, setIsContactMenuOpen] = useState(false);\n  const [telegramUrl, setTelegramUrl] = useState('https://t.me/manosservice'); // Default fallback\n  // const [animateHeader, setAnimateHeader] = useState(false);\n  const { theme } = useTheme();\n\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') || 'dark';\n    document.documentElement.classList.toggle('dark', savedTheme === 'dark');\n  }, []);\n\n\n  // Fetch settings to get telegram URL (without token) - with cache fallback\n  useEffect(() => {\n    const fetchTelegramUrl = async () => {\n      try {\n        const response = await fetch('https://api.blaffa.net/blaffa/setting/', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const settingsData = await response.json();\n        const settings = Array.isArray(settingsData) ? settingsData[0] : settingsData;\n\n        if (settings?.telegram) {\n          setTelegramUrl(settings.telegram);\n          // Save to localStorage for offline/fallback use\n          localStorage.setItem('settingsCache', JSON.stringify(settings));\n        }\n      } catch (error) {\n        console.error('Error fetching telegram URL from settings:', error);\n        // Try to load from cache\n        const cachedSettings = localStorage.getItem('settingsCache');\n        if (cachedSettings) {\n          try {\n            const settings = JSON.parse(cachedSettings);\n            if (settings?.telegram) {\n              setTelegramUrl(settings.telegram);\n              console.log('Loaded settings from cache');\n            }\n          } catch (parseErr) {\n            console.error('Failed to parse cached settings:', parseErr);\n          }\n        }\n        // Keep default fallback URL if no cache\n      }\n    };\n\n    fetchTelegramUrl();\n  }, []);\n\n  // Simulates loading state\n  useEffect(() => {\n    // setAnimateHeader(true);\n    setTimeout(() => {\n      setIsLoading(false);\n    }, 1000);\n\n    // Show a notification after 3 seconds\n\n\n    // Trigger header animation\n    setTimeout(() => {\n      // setAnimateHeader(true);\n    }, 500);\n  }, []);\n\n  return (\n    <div className={`min-h-screen bg-gradient-to-br ${theme.colors.a_background} font-sans relative overflow-hidden`}>\n\n      {/* Background gradient effects */}\n      <div className=\"absolute top-20 -left-10 w-40 h-40 bg-blue-700/20 rounded-full blur-3xl animate-pulse-slow\"></div>\n      <div className=\"absolute bottom-20 right-10 w-60 h-60 bg-blue-700/10 rounded-full blur-3xl animate-pulse-slow\"></div>\n\n      {/* Loading overlay */}\n      {isLoading && (\n        <div className=\"absolute inset-0 bg-gray-900/90 z-50 flex items-center justify-center\">\n          <div className=\"flex flex-col items-center gap-3\">\n            <div className=\"w-16 h-16 border-4 border-gray-700 border-t-blue-500 rounded-full animate-spin\"></div>\n            <p className=\"text-gray-400\">Loading Blaffa...</p>\n          </div>\n        </div>\n      )}\n\n      {/* Dashboard Header - Matching Reference Image */}\n      {/* Dashboard Header - Updated with Login/Register buttons */}\n      <header className={`bg-gradient-to-br ${theme.colors.a_background} border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50`}>\n        <div className=\"w-full px-6\">\n          <div className=\"flex items-center justify-between h-16\">\n            {/* Left - Logo Only */}\n            <div className=\"flex items-center\">\n              <Image src=\"/logo.jpg\" alt=\"BLAFFA Logo\" width={65} height={65} className=\"object-contain\" />\n            </div>\n\n            {/* Right - Auth Buttons */}\n            <div className=\"flex items-center gap-3\">\n              <a\n                href=\"/login\"\n                className=\"bg-[#002d72] text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#00255e] transition-colors\"\n              >\n                Connexion\n              </a>\n              <a\n                href=\"/register\"\n                className=\"bg-transparent text-[#002d72] dark:text-blue-400 border border-[#002d72] dark:border-blue-400 px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#002d72]/5 transition-colors\"\n              >\n                Inscription\n              </a>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"py-4 px-6 w-full\">\n        {/* Hero Banner & Download button */}\n        <div className=\"mb-6 space-y-4\">\n          {/* Smart Professional Android Download Action */}\n          <div className=\"flex justify-center md:justify-end\">\n            <a\n              href=\"https://blaffa.net/blaffa.apk\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className={`inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 dark:bg-slate-800/10 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-full hover:bg-white/20 transition-all duration-300 group shadow-sm`}\n            >\n              <div className=\"bg-green-500/10 p-1 rounded-full group-hover:bg-green-500/20 transition-colors\">\n                <svg className=\"w-4 h-4 fill-current text-green-500\" viewBox=\"0 0 24 24\">\n                  <path d=\"M17.523 15.3414C18.1109 15.3414 18.587 14.8653 18.587 14.2774C18.587 13.6896 18.1109 13.2135 17.523 13.2135C16.9351 13.2135 16.459 13.6896 16.459 14.2774C16.459 14.8653 16.9351 15.3414 17.523 15.3414ZM6.47702 15.3414C7.0649 15.3414 7.541 14.8653 7.541 14.2774C7.541 13.6896 7.0649 13.2135 6.47702 13.2135C5.88914 13.2135 5.41304 13.6896 5.41304 14.2774C5.41304 14.8653 5.88914 15.3414 6.47702 15.3414ZM17.9234 10.7495L19.7821 7.5303C19.9126 7.30424 19.8354 7.0152 19.6094 6.88478C19.3833 6.75436 19.0943 6.83147 18.9639 7.05753L17.0768 10.3251C15.6558 9.67812 14.0754 9.32431 12.4206 9.32431C10.7659 9.32431 9.18548 9.67812 7.76449 10.3251L5.87739 7.05753C5.74697 6.83147 5.45793 6.75436 5.23186 6.88478C5.0058 7.0152 4.9286 7.30424 5.05903 7.5303L6.91771 10.7495C3.89944 12.3385 1.8413 15.4294 1.77734 19.0494H23.0637C22.9997 15.4294 20.9416 12.3385 17.9234 10.7495Z\" />\n                </svg>\n              </div>\n              <span className={`text-[10px] md:text-xs font-bold ${theme.colors.text} tracking-wide`}>\n                APPLICATION ANDROID\n              </span>\n              <div className=\"ml-1 w-1 h-1 rounded-full bg-blue-500 animate-pulse\"></div>\n            </a>\n          </div>\n\n          <Advertisement_Hero />\n        </div>\n\n        {/* Achat and Vente Buttons */}\n        <div className=\"grid grid-cols-2 gap-4 mb-6\">\n          {/* Achat Button - Filled */}\n          <a\n            href=\"/crypto/buy\"\n            className=\"bg-[#1e3a8a] hover:bg-[#1e40af] text-white rounded-3xl py-4 px-6 flex items-center justify-center gap-3 transition-all duration-300 active:scale-95 shadow-lg\"\n          >\n            <BitcoinIcon className=\"w-6 h-6\" />\n            <span className=\"font-semibold text-lg\">Achat</span>\n          </a>\n\n          {/* Vente Button - Outlined */}\n          <a\n            href=\"/crypto/sell\"\n            className=\"bg-transparent border-2 border-[#1e3a8a] text-[#1e3a8a] dark:text-white dark:border-white hover:bg-[#1e3a8a]/5 rounded-3xl py-4 px-6 flex items-center justify-center gap-3 transition-all duration-300 active:scale-95\"\n          >\n            <BitcoinIcon className=\"w-6 h-6\" />\n            <span className=\"font-semibold text-lg\">Vente</span>\n          </a>\n        </div>\n\n        {/* Centre d'activité Section */}\n        <div className=\"mb-6\">\n          <h2 className={`text-xl font-semibold mb-4 ${theme.colors.text}`}>Centre d&apos; activite</h2>\n\n          <div className=\"flex justify-around items-start gap-4\">\n            {/* Depot - Stylized Receive/Hand Icon */}\n            <a href=\"/deposit\" className=\"flex flex-col items-center gap-2 group\">\n              <div className=\"w-20 h-20 rounded-full bg-[#FFF0F0] dark:bg-red-900/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\n                <svg className=\"w-10 h-10 text-[#FF4D4D] dark:text-red-400 rotate-180\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z\" />\n                </svg>\n              </div>\n              <span className={`text-sm font-medium ${theme.colors.text}`}>Depot</span>\n            </a>\n\n            {/* Retrait - Stylized Sent/Paper Plane Icon */}\n            <a href=\"/withdraw\" className=\"flex flex-col items-center gap-2 group\">\n              <div className=\"w-20 h-20 rounded-full bg-[#FFF0F0] dark:bg-red-900/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\n                <svg className=\"w-10 h-10 text-[#FF4D4D] dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z\" />\n                </svg>\n              </div>\n              <span className={`text-sm font-medium ${theme.colors.text}`}>Retrait</span>\n            </a>\n\n            {/* Coupon - Stylized Ticket with % Icon */}\n            <a href=\"/coupon\" className=\"flex flex-col items-center gap-2 group\">\n              <div className=\"w-20 h-20 rounded-full bg-[#FFF0F0] dark:bg-red-900/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\n                <svg className=\"w-10 h-10 text-[#FF4D4D]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M7 7h.01\" />\n                  <text x=\"12\" y=\"16\" fontSize=\"10\" fill=\"currentColor\" textAnchor=\"middle\" fontWeight=\"bold\" stroke=\"none\">%</text>\n                </svg>\n              </div>\n              <span className={`text-sm font-medium ${theme.colors.text}`}>Coupon</span>\n            </a>\n          </div>\n        </div>\n\n        {/* Activités récentes Section */}\n        <div className=\"mb-6\">\n          <StaticTransactionHistory />\n        </div>\n\n        {/* Floating Contact Button */}\n        <div className=\"fixed bottom-24 right-6 z-40\">\n          {/* Expanded Menu */}\n          {isContactMenuOpen && (\n            <div className=\"absolute bottom-20 right-0 flex flex-col-reverse gap-3 mb-2\">\n              {/* Telegram Button */}\n              <a\n                href={telegramUrl}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className={`flex items-center gap-3 bg-gradient-to-br ${theme.colors.background} ${theme.colors.hover} rounded-full px-4 py-2 shadow-lg transition-all duration-300 transform hover:scale-105`}\n                onClick={() => setIsContactMenuOpen(false)}\n              >\n                <span className={`text-sm font-medium ${theme.colors.text}`}>Telegram</span>\n                <div className=\"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center shadow-md\">\n                  <Send className=\"w-6 h-6 text-white\" />\n                </div>\n              </a>\n\n              {/* WhatsApp Button */}\n              <a\n                href=\"https://wa.me/+2250566643821\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className={`flex items-center gap-3 bg-gradient-to-br ${theme.colors.background} ${theme.colors.hover} rounded-full px-4 py-2 shadow-lg transition-all duration-300 transform hover:scale-105`}\n                onClick={() => setIsContactMenuOpen(false)}\n              >\n                <span className={`text-sm font-medium ${theme.colors.text}`}>WhatsApp</span>\n                <div className=\"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center shadow-md\">\n                  <Image src='/whatsapp.png' width=\"24\" height=\"24\" className=\"w-6 h-6\" alt='whatsapp' />\n                </div>\n              </a>\n            </div>\n          )}\n\n          {/* Main FAB Button */}\n          <button\n            onClick={() => setIsContactMenuOpen(!isContactMenuOpen)}\n            className={`group flex items-center justify-center w-16 h-16 md:w-20 md:h-20 bg-[#002d72] dark:bg-blue-600 hover:bg-[#00255e] dark:hover:bg-blue-500 rounded-full shadow-[0_10px_30px_rgba(0,45,114,0.4)] transition-all duration-300 transform hover:scale-105 active:scale-95`}\n          >\n            {/* Icon - Custom square chat bubble with lines */}\n            <div className={`transform transition-all duration-300 ${isContactMenuOpen ? 'rotate-90' : 'rotate-0'}`}>\n              {isContactMenuOpen ? (\n                <X className=\"w-8 h-8 text-white\" />\n              ) : (\n                <svg\n                  width=\"32\"\n                  height=\"32\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"text-white\"\n                >\n                  <path d=\"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z\" fill=\"white\" />\n                  <rect x=\"6\" y=\"6\" width=\"12\" height=\"2\" rx=\"1\" fill=\"currentColor\" className=\"text-[#002d72] dark:text-blue-600\" />\n                  <rect x=\"6\" y=\"10\" width=\"12\" height=\"2\" rx=\"1\" fill=\"currentColor\" className=\"text-[#002d72] dark:text-blue-600\" />\n                  <rect x=\"6\" y=\"14\" width=\"8\" height=\"2\" rx=\"1\" fill=\"currentColor\" className=\"text-[#002d72] dark:text-blue-600\" />\n                </svg>\n              )}\n            </div>\n          </button>\n        </div>\n\n        {/* <Footer /> */}\n\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport api from \"@/lib/axios\";\nimport LandingPage from \"./landing/page\";\n\nexport default function RootPage() {\n  const router = useRouter();\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const checkTokenAndRedirect = async () => {\n      const token = typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") : null;\n\n      if (!token) {\n        setIsAuthenticated(false);\n        setIsLoading(false);\n        return;\n      }\n\n      try {\n        const response = await api.get(\"/auth/me\", {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        if (response.status === 200) {\n          setIsAuthenticated(true);\n          router.replace(\"/dashboard\");\n        } else {\n          setIsAuthenticated(false);\n        }\n      } catch {\n        setIsAuthenticated(false);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    checkTokenAndRedirect();\n  }, [router]);\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-900 to-blue-700\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-400 mb-6\"></div>\n        <div className=\"text-white text-lg font-semibold\">Chargement...</div>\n      </div>\n    );\n  }\n\n  // Show landing page for non-authenticated users\n  if (isAuthenticated === false) {\n    return <LandingPage />;\n  }\n\n  // This component will unmount when authenticated users are redirected\n  return null;\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAiB;IACvE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,MAAM,wBAAwB;YAC5B,MAAM,QAAQ,sCAAgC,0BAAsC;YAEpF,wCAAY;gBACV,mBAAmB;gBACnB,aAAa;gBACb;YACF;;;QAiBF;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,qDAAqD;IACrD,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAI,WAAU;8BAAmC;;;;;;;;;;;;IAGxD;IAEA,gDAAgD;IAChD,IAAI,oBAAoB,OAAO;QAC7B,qBAAO,8OAAC,yIAAW;;;;;IACrB;IAEA,sEAAsE;IACtE,OAAO;AACT"}}]
}