{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/lib/axios.ts"],"sourcesContent":["import axios, { AxiosError, InternalAxiosRequestConfig } from 'axios';\r\n\r\nconst API_URL = 'https://api.blaffa.net';\r\n\r\n// Create axios instance with base URL\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nlet isRefreshing = false;\r\nlet failedQueue: Array<{\r\n  resolve: (token: string) => void;\r\n  reject: (error: unknown) => void;\r\n}> = [];\r\n\r\nconst processQueue = (error: unknown, token: string | null = null) => {\r\n  failedQueue.forEach(prom => {\r\n    if (error) {\r\n      prom.reject(error);\r\n    } else {\r\n      prom.resolve(token!);\r\n    }\r\n  });\r\n  failedQueue = [];\r\n};\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('accessToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle token refresh\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error: AxiosError) => {\r\n    const originalRequest = error.config as InternalAxiosRequestConfig & { _retry?: boolean };\r\n\r\n    // If the error is 401 and we haven't tried to refresh yet\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      if (isRefreshing) {\r\n        // If we're already refreshing, add the request to the queue\r\n        return new Promise((resolve, reject) => {\r\n          failedQueue.push({ resolve, reject });\r\n        })\r\n          .then((token) => {\r\n            originalRequest.headers.Authorization = `Bearer ${token}`;\r\n            return api(originalRequest);\r\n          })\r\n          .catch((err) => {\r\n            return Promise.reject(err);\r\n          });\r\n      }\r\n\r\n      originalRequest._retry = true;\r\n      isRefreshing = true;\r\n\r\n      try {\r\n        const refreshToken = localStorage.getItem('refreshToken');\r\n        if (!refreshToken) {\r\n          // No refresh token available, redirect to login\r\n          localStorage.removeItem('accessToken');\r\n          window.location.href = '/login';\r\n          return Promise.reject(error);\r\n        }\r\n\r\n        // Try to refresh the token\r\n        const response = await axios.post(\r\n          `${API_URL}/auth/refresh`,\r\n          { refresh: refreshToken },\r\n          { headers: { 'Content-Type': 'application/json' } }\r\n        );\r\n\r\n        const { access, refresh: newRefresh } = response.data;\r\n\r\n        // Update tokens in localStorage\r\n        localStorage.setItem('accessToken', access);\r\n        if (newRefresh) {\r\n          localStorage.setItem('refreshToken', newRefresh);\r\n        }\r\n\r\n        // Update the Authorization header\r\n        api.defaults.headers.common.Authorization = `Bearer ${access}`;\r\n        originalRequest.headers.Authorization = `Bearer ${access}`;\r\n\r\n        // Process the queue\r\n        processQueue(null, access);\r\n\r\n        // Retry the original request\r\n        return api(originalRequest);\r\n      } catch (refreshError) {\r\n        // If refresh fails, clear tokens and redirect to login\r\n        console.error('Failed to refresh token:', refreshError);\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        window.location.href = '/login';\r\n        processQueue(refreshError);\r\n        return Promise.reject(refreshError);\r\n      } finally {\r\n        isRefreshing = false;\r\n      }\r\n    }\r\n\r\n    // For other errors, just reject\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU;AAEhB,sCAAsC;AACtC,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,IAAI,eAAe;AACnB,IAAI,cAGC,EAAE;AAEP,MAAM,eAAe,CAAC,OAAgB,QAAuB,IAAI;IAC/D,YAAY,OAAO,CAAC,CAAA;QAClB,IAAI,OAAO;YACT,KAAK,MAAM,CAAC;QACd,OAAO;YACL,KAAK,OAAO,CAAC;QACf;IACF;IACA,cAAc,EAAE;AAClB;AAEA,wCAAwC;AACxC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,+CAA+C;AAC/C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,0DAA0D;IAC1D,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC7D,IAAI,cAAc;YAChB,4DAA4D;YAC5D,OAAO,IAAI,QAAQ,CAAC,SAAS;gBAC3B,YAAY,IAAI,CAAC;oBAAE;oBAAS;gBAAO;YACrC,GACG,IAAI,CAAC,CAAC;gBACL,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;gBACzD,OAAO,IAAI;YACb,GACC,KAAK,CAAC,CAAC;gBACN,OAAO,QAAQ,MAAM,CAAC;YACxB;QACJ;QAEA,gBAAgB,MAAM,GAAG;QACzB,eAAe;QAEf,IAAI;YACF,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,CAAC,cAAc;gBACjB,gDAAgD;gBAChD,aAAa,UAAU,CAAC;gBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACvB,OAAO,QAAQ,MAAM,CAAC;YACxB;YAEA,2BAA2B;YAC3B,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC/B,GAAG,QAAQ,aAAa,CAAC,EACzB;gBAAE,SAAS;YAAa,GACxB;gBAAE,SAAS;oBAAE,gBAAgB;gBAAmB;YAAE;YAGpD,MAAM,EAAE,MAAM,EAAE,SAAS,UAAU,EAAE,GAAG,SAAS,IAAI;YAErD,gCAAgC;YAChC,aAAa,OAAO,CAAC,eAAe;YACpC,IAAI,YAAY;gBACd,aAAa,OAAO,CAAC,gBAAgB;YACvC;YAEA,kCAAkC;YAClC,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAC9D,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAE1D,oBAAoB;YACpB,aAAa,MAAM;YAEnB,6BAA6B;YAC7B,OAAO,IAAI;QACb,EAAE,OAAO,cAAc;YACrB,uDAAuD;YACvD,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB,aAAa;YACb,OAAO,QAAQ,MAAM,CAAC;QACxB,SAAU;YACR,eAAe;QACjB;IACF;IAEA,gCAAgC;IAChC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/app/coupon/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { useState, useEffect } from 'react';\r\nimport Head from 'next/head';\r\nimport { useTheme } from '../../components/ThemeProvider';\r\nimport api from '@/lib/axios';\r\nimport { useRouter } from 'next/navigation';\r\nimport { ArrowLeft, Star, ThumbsUp, ThumbsDown, Copy, Check, Plus, Link as LinkIcon, Trophy } from 'lucide-react';\r\n\r\n// Unified interfaces matching the actual JSON response\r\ninterface BetApp {\r\n  id: string;\r\n  name: string;\r\n  image: string;\r\n  public_name: string;\r\n}\r\n\r\ninterface Coupon {\r\n  id: string;\r\n  created_at: string;\r\n  code: string;\r\n  bet_app: BetApp;\r\n  author_first_name: string;\r\n  author_last_name: string;\r\n  author_rating: number;\r\n  coupon_type: 'combine' | 'single';\r\n  cote: string;\r\n  match_count: number;\r\n  likes: number;\r\n  dislikes: number;\r\n  average_rating: number;\r\n  user_liked: boolean;\r\n  user_disliked: boolean;\r\n  can_rate: boolean;\r\n}\r\n\r\ninterface UserProfile {\r\n  first_name: string;\r\n  last_name: string;\r\n  email: string;\r\n  can_publish_coupons: boolean;\r\n  is_staff: boolean;\r\n}\r\n\r\nconst CouponPage = () => {\r\n  const [platforms, setPlatforms] = useState<BetApp[]>([]);\r\n  const [selectedPlatformId, setSelectedPlatformId] = useState<string | null>(null);\r\n  const [coupons, setCoupons] = useState<Coupon[]>([]);\r\n  const [userProfile, setUserProfile] = useState<UserProfile | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [platformsLoading, setPlatformsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [copiedId, setCopiedId] = useState<string | null>(null);\r\n  const { theme } = useTheme();\r\n  const router = useRouter();\r\n\r\n  const fetchPlatforms = async () => {\r\n    try {\r\n      const response = await api.get('/blaffa/app_name?operation_type=coupon');\r\n      if (response.status === 200) {\r\n        setPlatforms(response.data || []);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching platforms:', err);\r\n    } finally {\r\n      setPlatformsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCoupons = async (platformId: string | null = null) => {\r\n    setLoading(true);\r\n    try {\r\n      const url = platformId ? `/blaffa/coupon?bet_app=${platformId}` : `/blaffa/coupon`;\r\n      const response = await api.get(url);\r\n      if (response.status === 200) {\r\n        const data = response.data;\r\n        setCoupons(data.results || data || []);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching coupons:', err);\r\n      setError('Failed to load coupons.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchUserProfile = async () => {\r\n    const token = localStorage.getItem('accessToken');\r\n    if (!token) return;\r\n    try {\r\n      const response = await api.get(`/auth/me`);\r\n      if (response.status === 200) {\r\n        const profileData = response.data;\r\n        setUserProfile({\r\n          first_name: profileData.first_name,\r\n          last_name: profileData.last_name,\r\n          email: profileData.email,\r\n          can_publish_coupons: profileData.can_publish_coupons,\r\n          is_staff: profileData.is_staff\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching profile:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPlatforms();\r\n    fetchCoupons();\r\n    fetchUserProfile();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedPlatformId !== null) {\r\n      fetchCoupons(selectedPlatformId);\r\n    } else {\r\n      // Re-fetch all if selection cleared, but we need to avoid the initial mount double call if possible\r\n      // However, for simplicity here, we re-fetch if it changes to null after first load\r\n      fetchCoupons();\r\n    }\r\n  }, [selectedPlatformId]);\r\n\r\n  const handleCopy = (text: string, id: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    setCopiedId(id);\r\n    setTimeout(() => setCopiedId(null), 2000);\r\n  };\r\n\r\n  const getInitials = (first?: string, last?: string) => {\r\n    if (!first && !last) return '??';\r\n    return `${(first || '').charAt(0)}${(last || '').charAt(0)}`.toUpperCase();\r\n  };\r\n\r\n  const formatDate = () => {\r\n    return new Date().toLocaleDateString('fr-FR', {\r\n      day: 'numeric',\r\n      month: 'long',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={`${theme.colors.a_background} font-sans`}>\r\n      <Head>\r\n        <title>Coupons - Blaffa</title>\r\n      </Head>\r\n\r\n      {/* Header */}\r\n      <header className={`bg-transparent sticky top-0 z-50`}>\r\n        <div className=\"w-full px-6 h-16 flex items-center justify-between\">\r\n          <button onClick={() => router.back()} className={`p-2 -ml-2 rounded-full ${theme.colors.hover} transition-colors`}>\r\n            <ArrowLeft className={theme.colors.text} size={24} />\r\n          </button>\r\n          <h1 className={`text-lg font-bold ${theme.colors.text}`}>Coupon</h1>\r\n          <div className=\"w-8\"></div>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"w-full p-6 space-y-6\">\r\n        {/* User Card */}\r\n        <div className={`${theme.colors.a_background} p-5 rounded-3xl shadow-[0_4px_20px_rgba(0,0,0,0.03)] flex flex-col gap-6 border ${theme.mode === 'dark' ? 'border-slate-800' : 'border-gray-50'}`}>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className={`w-12 h-12 rounded-xl ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-[#E8E8E8]'} flex items-center justify-center ${theme.mode === 'dark' ? 'text-slate-300' : 'text-[#999999]'} font-bold text-lg`}>\r\n                {getInitials(userProfile?.first_name, userProfile?.last_name)}\r\n              </div>\r\n              <div>\r\n                <h3 className={`font-bold text-base ${theme.colors.text}`}>\r\n                  {userProfile ? `${userProfile.first_name} ${userProfile.last_name}` : 'Anonyme'}\r\n                </h3>\r\n                <div className=\"flex gap-0.5 mt-0.5\">\r\n                  {[1, 2, 3, 4, 5].map(i => (\r\n                    <Star key={i} size={14} className={i <= 4 ? \"fill-yellow-400 text-yellow-400\" : \"text-gray-200 fill-gray-200\"} />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {(userProfile?.can_publish_coupons || userProfile?.is_staff) && (\r\n              <button\r\n                onClick={() => router.push('/coupon/create')}\r\n                className=\"w-10 h-10 rounded-xl bg-[#002d72] flex items-center justify-center text-white shadow-lg active:scale-95 transition-transform\"\r\n              >\r\n                <Plus size={24} strokeWidth={3} />\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Stats Bar */}\r\n          <div className=\"flex gap-3\">\r\n            <div className={`flex-1 ${theme.colors.a_background} border ${theme.mode === 'dark' ? 'border-slate-800' : 'border-gray-100'} rounded-2xl p-3 text-center`}>\r\n              <div className={`text-xl font-black ${theme.mode === 'dark' ? 'text-blue-400' : 'text-[#002d72]'} leading-none`}>0</div>\r\n              <div className={`text-xs ${theme.colors.d_text} opacity-60 font-medium mt-1`}>Mes coupons</div>\r\n            </div>\r\n            <div className={`flex-1 ${theme.colors.a_background} border ${theme.mode === 'dark' ? 'border-slate-800' : 'border-gray-100'} rounded-2xl p-3 text-center`}>\r\n              <div className=\"text-xl font-black text-green-600 leading-none\">0 FCFA</div>\r\n              <div className={`text-xs ${theme.colors.d_text} opacity-60 font-medium mt-1`}>Bonus</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Platform Scroll */}\r\n        <div className=\"flex gap-4 overflow-x-auto pb-4 scrollbar-hide\">\r\n          {/* \"Tous\" Category */}\r\n          <button\r\n            onClick={() => setSelectedPlatformId(null)}\r\n            className={`flex-shrink-0 ${theme.colors.a_background} px-4 py-3 rounded-2xl shadow-[0_2px_10px_rgba(0,0,0,0.02)] flex items-center gap-2 border transition-all\r\n              ${selectedPlatformId === null\r\n                ? 'border-blue-600 ring-2 ring-blue-600/20'\r\n                : theme.mode === 'dark' ? 'border-slate-800' : 'border-transparent opacity-60 hover:opacity-100'}`}\r\n          >\r\n            <div className={`w-8 h-8 rounded-lg ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-gray-50'} flex items-center justify-center`}>\r\n              <Trophy className={selectedPlatformId === null ? \"text-blue-600\" : \"text-gray-400\"} size={16} />\r\n            </div>\r\n            <span className={`font-bold text-sm ${selectedPlatformId === null ? 'text-blue-600' : theme.colors.text}`}>Tous</span>\r\n          </button>\r\n\r\n          {platformsLoading ? (\r\n            [1, 2, 3].map(i => (\r\n              <div key={i} className={`flex-shrink-0 w-32 h-14 ${theme.mode === 'dark' ? 'bg-slate-800' : 'bg-gray-100'} rounded-2xl animate-pulse`}></div>\r\n            ))\r\n          ) : (\r\n            platforms.map((platform) => (\r\n              <button\r\n                key={platform.id}\r\n                onClick={() => setSelectedPlatformId(platform.id)}\r\n                className={`flex-shrink-0 ${theme.colors.a_background} px-4 py-3 rounded-2xl shadow-[0_2px_10px_rgba(0,0,0,0.02)] flex items-center gap-2 border transition-all\r\n                  ${selectedPlatformId === platform.id\r\n                    ? 'border-blue-600 ring-2 ring-blue-600/20'\r\n                    : theme.mode === 'dark' ? 'border-slate-800' : 'border-transparent opacity-60 hover:opacity-100'}`}\r\n              >\r\n                <div className={`w-8 h-8 rounded-lg ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-gray-50'} flex items-center justify-center p-1`}>\r\n                  {platform.image ? (\r\n                    <img src={platform.image} alt=\"\" className=\"w-6 h-6 object-contain\" />\r\n                  ) : (\r\n                    <div className=\"w-6 h-6 bg-blue-600 rounded-md flex items-center justify-center text-white font-bold text-[10px]\">\r\n                      {platform.name.charAt(0)}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <span className={`font-bold text-sm ${selectedPlatformId === platform.id ? 'text-blue-600' : theme.colors.text}`}>\r\n                  {platform.public_name || platform.name}\r\n                </span>\r\n              </button>\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        {/* Day's Header */}\r\n        <div className=\"flex justify-between items-center pt-2\">\r\n          <h2 className={`text-2xl font-bold ${theme.colors.text}`}>Prédicitions du jour</h2>\r\n          <span className={`text-lg font-medium ${theme.colors.d_text} opacity-60`}>{formatDate()}</span>\r\n        </div>\r\n\r\n        {/* Coupon List */}\r\n        {loading ? (\r\n          <div className=\"flex flex-col items-center justify-center py-20 gap-4\">\r\n            <div className=\"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin\"></div>\r\n            <p className=\"text-gray-400 animate-pulse\">Chargement des coupons...</p>\r\n          </div>\r\n        ) : coupons.length === 0 ? (\r\n          <div className=\"text-center py-20 space-y-4\">\r\n            <Trophy size={64} className=\"mx-auto text-gray-200\" />\r\n            <p className=\"text-gray-500\">Aucune prédiction pour aujourd'hui.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {coupons.map((coupon) => (\r\n              <div key={coupon.id} className={`${theme.colors.a_background} rounded-3xl p-5 shadow-[0_4px_25px_rgba(0,0,0,0.04)] border ${theme.mode === 'dark' ? 'border-slate-800' : 'border-transparent'} transition-all hover:shadow-lg`}>\r\n                {/* Author Info */}\r\n                <div className=\"flex items-center gap-4 mb-4\">\r\n                  <div className={`w-12 h-12 rounded-xl ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-[#E8E8E8]'} ${theme.mode === 'dark' ? 'text-slate-400' : 'text-[#999999]'} flex items-center justify-center font-bold text-lg`}>\r\n                    {getInitials(coupon.author_first_name, coupon.author_last_name)}\r\n                  </div>\r\n                  <div>\r\n                    <h3 className={`font-bold text-base ${theme.colors.text}`}>{coupon.author_first_name} {coupon.author_last_name}</h3>\r\n                    <div className=\"flex gap-0.5 mt-0.5\">\r\n                      {[1, 2, 3, 4, 5].map(i => (\r\n                        <Star key={i} size={14} className={i <= Math.round(coupon.author_rating) ? \"fill-yellow-400 text-yellow-400\" : \"text-gray-200 fill-gray-200\"} />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Bet Type Pill */}\r\n                <div className=\"inline-flex items-center gap-1.5 bg-[#E9F3FF] dark:bg-blue-900/30 text-[#1976D2] dark:text-blue-300 text-xs px-3 py-1.5 rounded-lg font-bold mb-4\">\r\n                  <LinkIcon size={14} />\r\n                  {coupon.coupon_type === 'combine' ? `Combiné (${coupon.match_count} matchs)` : 'Simple'}\r\n                </div>\r\n\r\n                {/* Côte & Platform */}\r\n                <div className=\"flex justify-between items-end mb-6\">\r\n                  <div>\r\n                    <div className={`${theme.colors.d_text} opacity-60 text-xs uppercase tracking-wide font-medium leading-none`}>Côte totale: <span className={`text-2xl font-black ml-1 ${theme.colors.text}`}>{coupon.cote}</span></div>\r\n                  </div>\r\n                  <div className={`flex items-center gap-2 ${theme.mode === 'dark' ? 'bg-slate-800 border-slate-700' : 'bg-[#F8F9FA] border-gray-100'} py-1.5 px-3 rounded-xl shadow-sm border`}>\r\n                    <div className=\"w-5 h-5 rounded flex items-center justify-center overflow-hidden\">\r\n                      <img src={coupon.bet_app.image} alt=\"app\" className=\"w-full h-full object-contain\" />\r\n                    </div>\r\n                    <span className={`font-bold text-xs ${theme.colors.text}`}>{coupon.bet_app.public_name}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <hr className={`border-gray-50 ${theme.mode === 'dark' ? 'border-slate-700/50' : ''} mb-4`} />\r\n\r\n                {/* Footer Actions */}\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className={`flex items-center gap-4 ${theme.mode === 'dark' ? 'text-slate-400' : 'text-[#999999]'}`}>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <ThumbsUp size={18} className={coupon.user_liked ? \"text-blue-500 fill-blue-500\" : \"\"} />\r\n                      <span className=\"font-bold text-sm\">{coupon.likes}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <ThumbsDown size={18} className={coupon.user_disliked ? \"text-red-500 fill-red-500\" : \"\"} />\r\n                      <span className=\"font-bold text-sm\">{coupon.dislikes}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1 ml-1\">\r\n                      <Star size={18} className=\"fill-yellow-400 text-yellow-400\" />\r\n                      <span className={`font-bold text-sm ${theme.colors.text}`}>{coupon.average_rating || '4.5'}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={() => handleCopy(coupon.code, coupon.id)}\r\n                    className={`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-black transition-all shadow-sm active:scale-95\r\n                      ${copiedId === coupon.id\r\n                        ? 'bg-green-100 text-green-700 border border-green-200'\r\n                        : 'bg-[#ECF2FF] text-[#002d72] dark:text-blue-300'}`}\r\n                  >\r\n                    {copiedId === coupon.id ? <Check size={16} strokeWidth={3} /> : <div className=\"p-0.5 rounded bg-white/60 dark:bg-gray-800/60\"><Copy size={14} /></div>}\r\n                    <span>{coupon.code}</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CouponPage;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;;;;;;;;AA2CA,MAAM,aAAa;IACjB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAW,EAAE;IACvD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAgB;IAC5E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAqB;IACnE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB;IACxD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+IAAQ;IAC1B,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,WAAW,MAAM,8HAAG,CAAC,GAAG,CAAC;YAC/B,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,aAAa,SAAS,IAAI,IAAI,EAAE;YAClC;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,6BAA6B;QAC7C,SAAU;YACR,oBAAoB;QACtB;IACF;IAEA,MAAM,eAAe,OAAO,aAA4B,IAAI;QAC1D,WAAW;QACX,IAAI;YACF,MAAM,MAAM,aAAa,CAAC,uBAAuB,EAAE,YAAY,GAAG,CAAC,cAAc,CAAC;YAClF,MAAM,WAAW,MAAM,8HAAG,CAAC,GAAG,CAAC;YAC/B,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,MAAM,OAAO,SAAS,IAAI;gBAC1B,WAAW,KAAK,OAAO,IAAI,QAAQ,EAAE;YACvC;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,2BAA2B;YACzC,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,mBAAmB;QACvB,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;QACZ,IAAI;YACF,MAAM,WAAW,MAAM,8HAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC;YACzC,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,MAAM,cAAc,SAAS,IAAI;gBACjC,eAAe;oBACb,YAAY,YAAY,UAAU;oBAClC,WAAW,YAAY,SAAS;oBAChC,OAAO,YAAY,KAAK;oBACxB,qBAAqB,YAAY,mBAAmB;oBACpD,UAAU,YAAY,QAAQ;gBAChC;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;QACA;QACA;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,uBAAuB,MAAM;YAC/B,aAAa;QACf,OAAO;YACL,oGAAoG;YACpG,mFAAmF;YACnF;QACF;IACF,GAAG;QAAC;KAAmB;IAEvB,MAAM,aAAa,CAAC,MAAc;QAChC,UAAU,SAAS,CAAC,SAAS,CAAC;QAC9B,YAAY;QACZ,WAAW,IAAM,YAAY,OAAO;IACtC;IAEA,MAAM,cAAc,CAAC,OAAgB;QACnC,IAAI,CAAC,SAAS,CAAC,MAAM,OAAO;QAC5B,OAAO,GAAG,CAAC,SAAS,EAAE,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,WAAW;IAC1E;IAEA,MAAM,aAAa;QACjB,OAAO,IAAI,OAAO,kBAAkB,CAAC,SAAS;YAC5C,KAAK;YACL,OAAO;YACP,MAAM;QACR;IACF;IAEA,qBACE,8OAAC;QAAI,WAAW,GAAG,MAAM,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC;;0BACtD,8OAAC,+KAAI;0BACH,cAAA,8OAAC;8BAAM;;;;;;;;;;;0BAIT,8OAAC;gBAAO,WAAW,CAAC,gCAAgC,CAAC;0BACnD,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAO,SAAS,IAAM,OAAO,IAAI;4BAAI,WAAW,CAAC,uBAAuB,EAAE,MAAM,MAAM,CAAC,KAAK,CAAC,kBAAkB,CAAC;sCAC/G,cAAA,8OAAC,6NAAS;gCAAC,WAAW,MAAM,MAAM,CAAC,IAAI;gCAAE,MAAM;;;;;;;;;;;sCAEjD,8OAAC;4BAAG,WAAW,CAAC,kBAAkB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;sCAAE;;;;;;sCACzD,8OAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;0BAInB,8OAAC;gBAAK,WAAU;;kCAEd,8OAAC;wBAAI,WAAW,GAAG,MAAM,MAAM,CAAC,YAAY,CAAC,iFAAiF,EAAE,MAAM,IAAI,KAAK,SAAS,qBAAqB,kBAAkB;;0CAC7L,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAW,CAAC,qBAAqB,EAAE,MAAM,IAAI,KAAK,SAAS,iBAAiB,eAAe,kCAAkC,EAAE,MAAM,IAAI,KAAK,SAAS,mBAAmB,iBAAiB,kBAAkB,CAAC;0DAChN,YAAY,aAAa,YAAY,aAAa;;;;;;0DAErD,8OAAC;;kEACC,8OAAC;wDAAG,WAAW,CAAC,oBAAoB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;kEACtD,cAAc,GAAG,YAAY,UAAU,CAAC,CAAC,EAAE,YAAY,SAAS,EAAE,GAAG;;;;;;kEAExE,8OAAC;wDAAI,WAAU;kEACZ;4DAAC;4DAAG;4DAAG;4DAAG;4DAAG;yDAAE,CAAC,GAAG,CAAC,CAAA,kBACnB,8OAAC,0MAAI;gEAAS,MAAM;gEAAI,WAAW,KAAK,IAAI,oCAAoC;+DAArE;;;;;;;;;;;;;;;;;;;;;;oCAKlB,CAAC,aAAa,uBAAuB,aAAa,QAAQ,mBACzD,8OAAC;wCACC,SAAS,IAAM,OAAO,IAAI,CAAC;wCAC3B,WAAU;kDAEV,cAAA,8OAAC,0MAAI;4CAAC,MAAM;4CAAI,aAAa;;;;;;;;;;;;;;;;;0CAMnC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAW,CAAC,OAAO,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,IAAI,KAAK,SAAS,qBAAqB,kBAAkB,4BAA4B,CAAC;;0DACxJ,8OAAC;gDAAI,WAAW,CAAC,mBAAmB,EAAE,MAAM,IAAI,KAAK,SAAS,kBAAkB,iBAAiB,aAAa,CAAC;0DAAE;;;;;;0DACjH,8OAAC;gDAAI,WAAW,CAAC,QAAQ,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC,4BAA4B,CAAC;0DAAE;;;;;;;;;;;;kDAEhF,8OAAC;wCAAI,WAAW,CAAC,OAAO,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,IAAI,KAAK,SAAS,qBAAqB,kBAAkB,4BAA4B,CAAC;;0DACxJ,8OAAC;gDAAI,WAAU;0DAAiD;;;;;;0DAChE,8OAAC;gDAAI,WAAW,CAAC,QAAQ,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC,4BAA4B,CAAC;0DAAE;;;;;;;;;;;;;;;;;;;;;;;;kCAMpF,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCACC,SAAS,IAAM,sBAAsB;gCACrC,WAAW,CAAC,cAAc,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC;cACpD,EAAE,uBAAuB,OACrB,4CACA,MAAM,IAAI,KAAK,SAAS,qBAAqB,mDAAmD;;kDAEtG,8OAAC;wCAAI,WAAW,CAAC,mBAAmB,EAAE,MAAM,IAAI,KAAK,SAAS,iBAAiB,aAAa,iCAAiC,CAAC;kDAC5H,cAAA,8OAAC,gNAAM;4CAAC,WAAW,uBAAuB,OAAO,kBAAkB;4CAAiB,MAAM;;;;;;;;;;;kDAE5F,8OAAC;wCAAK,WAAW,CAAC,kBAAkB,EAAE,uBAAuB,OAAO,kBAAkB,MAAM,MAAM,CAAC,IAAI,EAAE;kDAAE;;;;;;;;;;;;4BAG5G,mBACC;gCAAC;gCAAG;gCAAG;6BAAE,CAAC,GAAG,CAAC,CAAA,kBACZ,8OAAC;oCAAY,WAAW,CAAC,wBAAwB,EAAE,MAAM,IAAI,KAAK,SAAS,iBAAiB,cAAc,0BAA0B,CAAC;mCAA3H;;;;gFAGZ,UAAU,GAAG,CAAC,CAAC,yBACb,8OAAC;oCAEC,SAAS,IAAM,sBAAsB,SAAS,EAAE;oCAChD,WAAW,CAAC,cAAc,EAAE,MAAM,MAAM,CAAC,YAAY,CAAC;kBACpD,EAAE,uBAAuB,SAAS,EAAE,GAChC,4CACA,MAAM,IAAI,KAAK,SAAS,qBAAqB,mDAAmD;;sDAEtG,8OAAC;4CAAI,WAAW,CAAC,mBAAmB,EAAE,MAAM,IAAI,KAAK,SAAS,iBAAiB,aAAa,qCAAqC,CAAC;sDAC/H,SAAS,KAAK,iBACb,8OAAC;gDAAI,KAAK,SAAS,KAAK;gDAAE,KAAI;gDAAG,WAAU;;;;;yGAE3C,8OAAC;gDAAI,WAAU;0DACZ,SAAS,IAAI,CAAC,MAAM,CAAC;;;;;;;;;;;sDAI5B,8OAAC;4CAAK,WAAW,CAAC,kBAAkB,EAAE,uBAAuB,SAAS,EAAE,GAAG,kBAAkB,MAAM,MAAM,CAAC,IAAI,EAAE;sDAC7G,SAAS,WAAW,IAAI,SAAS,IAAI;;;;;;;mCAjBnC,SAAS,EAAE;;;;;;;;;;;kCAyBxB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAW,CAAC,mBAAmB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;0CAAE;;;;;;0CAC1D,8OAAC;gCAAK,WAAW,CAAC,oBAAoB,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC;0CAAG;;;;;;;;;;;;oBAI5E,wBACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAE,WAAU;0CAA8B;;;;;;;;;;;mEAE3C,QAAQ,MAAM,KAAK,kBACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,gNAAM;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC5B,8OAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;iFAG/B,8OAAC;wBAAI,WAAU;kCACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;gCAAoB,WAAW,GAAG,MAAM,MAAM,CAAC,YAAY,CAAC,6DAA6D,EAAE,MAAM,IAAI,KAAK,SAAS,qBAAqB,qBAAqB,+BAA+B,CAAC;;kDAE5N,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAW,CAAC,qBAAqB,EAAE,MAAM,IAAI,KAAK,SAAS,iBAAiB,eAAe,CAAC,EAAE,MAAM,IAAI,KAAK,SAAS,mBAAmB,iBAAiB,mDAAmD,CAAC;0DAChN,YAAY,OAAO,iBAAiB,EAAE,OAAO,gBAAgB;;;;;;0DAEhE,8OAAC;;kEACC,8OAAC;wDAAG,WAAW,CAAC,oBAAoB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;;4DAAG,OAAO,iBAAiB;4DAAC;4DAAE,OAAO,gBAAgB;;;;;;;kEAC9G,8OAAC;wDAAI,WAAU;kEACZ;4DAAC;4DAAG;4DAAG;4DAAG;4DAAG;yDAAE,CAAC,GAAG,CAAC,CAAA,kBACnB,8OAAC,0MAAI;gEAAS,MAAM;gEAAI,WAAW,KAAK,KAAK,KAAK,CAAC,OAAO,aAAa,IAAI,oCAAoC;+DAApG;;;;;;;;;;;;;;;;;;;;;;kDAOnB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,0MAAQ;gDAAC,MAAM;;;;;;4CACf,OAAO,WAAW,KAAK,YAAY,CAAC,SAAS,EAAE,OAAO,WAAW,CAAC,QAAQ,CAAC,GAAG;;;;;;;kDAIjF,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;0DACC,cAAA,8OAAC;oDAAI,WAAW,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,oEAAoE,CAAC;;wDAAE;sEAAa,8OAAC;4DAAK,WAAW,CAAC,yBAAyB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;sEAAG,OAAO,IAAI;;;;;;;;;;;;;;;;;0DAE3M,8OAAC;gDAAI,WAAW,CAAC,wBAAwB,EAAE,MAAM,IAAI,KAAK,SAAS,kCAAkC,+BAA+B,wCAAwC,CAAC;;kEAC3K,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC;4DAAI,KAAK,OAAO,OAAO,CAAC,KAAK;4DAAE,KAAI;4DAAM,WAAU;;;;;;;;;;;kEAEtD,8OAAC;wDAAK,WAAW,CAAC,kBAAkB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;kEAAG,OAAO,OAAO,CAAC,WAAW;;;;;;;;;;;;;;;;;;kDAI1F,8OAAC;wCAAG,WAAW,CAAC,eAAe,EAAE,MAAM,IAAI,KAAK,SAAS,wBAAwB,GAAG,KAAK,CAAC;;;;;;kDAG1F,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAW,CAAC,wBAAwB,EAAE,MAAM,IAAI,KAAK,SAAS,mBAAmB,kBAAkB;;kEACtG,8OAAC;wDAAI,WAAU;;0EACb,8OAAC,0NAAQ;gEAAC,MAAM;gEAAI,WAAW,OAAO,UAAU,GAAG,gCAAgC;;;;;;0EACnF,8OAAC;gEAAK,WAAU;0EAAqB,OAAO,KAAK;;;;;;;;;;;;kEAEnD,8OAAC;wDAAI,WAAU;;0EACb,8OAAC,gOAAU;gEAAC,MAAM;gEAAI,WAAW,OAAO,aAAa,GAAG,8BAA8B;;;;;;0EACtF,8OAAC;gEAAK,WAAU;0EAAqB,OAAO,QAAQ;;;;;;;;;;;;kEAEtD,8OAAC;wDAAI,WAAU;;0EACb,8OAAC,0MAAI;gEAAC,MAAM;gEAAI,WAAU;;;;;;0EAC1B,8OAAC;gEAAK,WAAW,CAAC,kBAAkB,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE;0EAAG,OAAO,cAAc,IAAI;;;;;;;;;;;;;;;;;;0DAIzF,8OAAC;gDACC,SAAS,IAAM,WAAW,OAAO,IAAI,EAAE,OAAO,EAAE;gDAChD,WAAW,CAAC;sBACV,EAAE,aAAa,OAAO,EAAE,GACpB,wDACA,kDAAkD;;oDAEvD,aAAa,OAAO,EAAE,iBAAG,8OAAC,6MAAK;wDAAC,MAAM;wDAAI,aAAa;;;;;iHAAQ,8OAAC;wDAAI,WAAU;kEAAgD,cAAA,8OAAC,0MAAI;4DAAC,MAAM;;;;;;;;;;;kEAC3I,8OAAC;kEAAM,OAAO,IAAI;;;;;;;;;;;;;;;;;;;+BA9Dd,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;AAwEjC;uCAEe"}}]
}