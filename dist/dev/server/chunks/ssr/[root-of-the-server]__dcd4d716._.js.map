{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/lib/axios.ts"],"sourcesContent":["import axios, { AxiosError, InternalAxiosRequestConfig } from 'axios';\r\n\r\nconst API_URL = 'https://api.blaffa.net';\r\n\r\n// Create axios instance with base URL\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nlet isRefreshing = false;\r\nlet failedQueue: Array<{\r\n  resolve: (token: string) => void;\r\n  reject: (error: unknown) => void;\r\n}> = [];\r\n\r\nconst processQueue = (error: unknown, token: string | null = null) => {\r\n  failedQueue.forEach(prom => {\r\n    if (error) {\r\n      prom.reject(error);\r\n    } else {\r\n      prom.resolve(token!);\r\n    }\r\n  });\r\n  failedQueue = [];\r\n};\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('accessToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle token refresh\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error: AxiosError) => {\r\n    const originalRequest = error.config as InternalAxiosRequestConfig & { _retry?: boolean };\r\n\r\n    // If the error is 401 and we haven't tried to refresh yet\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      if (isRefreshing) {\r\n        // If we're already refreshing, add the request to the queue\r\n        return new Promise((resolve, reject) => {\r\n          failedQueue.push({ resolve, reject });\r\n        })\r\n          .then((token) => {\r\n            originalRequest.headers.Authorization = `Bearer ${token}`;\r\n            return api(originalRequest);\r\n          })\r\n          .catch((err) => {\r\n            return Promise.reject(err);\r\n          });\r\n      }\r\n\r\n      originalRequest._retry = true;\r\n      isRefreshing = true;\r\n\r\n      try {\r\n        const refreshToken = localStorage.getItem('refreshToken');\r\n        if (!refreshToken) {\r\n          // No refresh token available, redirect to login\r\n          localStorage.removeItem('accessToken');\r\n          window.location.href = '/login';\r\n          return Promise.reject(error);\r\n        }\r\n\r\n        // Try to refresh the token\r\n        const response = await axios.post(\r\n          `${API_URL}/auth/refresh`,\r\n          { refresh: refreshToken },\r\n          { headers: { 'Content-Type': 'application/json' } }\r\n        );\r\n\r\n        const { access, refresh: newRefresh } = response.data;\r\n\r\n        // Update tokens in localStorage\r\n        localStorage.setItem('accessToken', access);\r\n        if (newRefresh) {\r\n          localStorage.setItem('refreshToken', newRefresh);\r\n        }\r\n\r\n        // Update the Authorization header\r\n        api.defaults.headers.common.Authorization = `Bearer ${access}`;\r\n        originalRequest.headers.Authorization = `Bearer ${access}`;\r\n\r\n        // Process the queue\r\n        processQueue(null, access);\r\n\r\n        // Retry the original request\r\n        return api(originalRequest);\r\n      } catch (refreshError) {\r\n        // If refresh fails, clear tokens and redirect to login\r\n        console.error('Failed to refresh token:', refreshError);\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        window.location.href = '/login';\r\n        processQueue(refreshError);\r\n        return Promise.reject(refreshError);\r\n      } finally {\r\n        isRefreshing = false;\r\n      }\r\n    }\r\n\r\n    // For other errors, just reject\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU;AAEhB,sCAAsC;AACtC,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,IAAI,eAAe;AACnB,IAAI,cAGC,EAAE;AAEP,MAAM,eAAe,CAAC,OAAgB,QAAuB,IAAI;IAC/D,YAAY,OAAO,CAAC,CAAA;QAClB,IAAI,OAAO;YACT,KAAK,MAAM,CAAC;QACd,OAAO;YACL,KAAK,OAAO,CAAC;QACf;IACF;IACA,cAAc,EAAE;AAClB;AAEA,wCAAwC;AACxC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,+CAA+C;AAC/C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,0DAA0D;IAC1D,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC7D,IAAI,cAAc;YAChB,4DAA4D;YAC5D,OAAO,IAAI,QAAQ,CAAC,SAAS;gBAC3B,YAAY,IAAI,CAAC;oBAAE;oBAAS;gBAAO;YACrC,GACG,IAAI,CAAC,CAAC;gBACL,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;gBACzD,OAAO,IAAI;YACb,GACC,KAAK,CAAC,CAAC;gBACN,OAAO,QAAQ,MAAM,CAAC;YACxB;QACJ;QAEA,gBAAgB,MAAM,GAAG;QACzB,eAAe;QAEf,IAAI;YACF,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,CAAC,cAAc;gBACjB,gDAAgD;gBAChD,aAAa,UAAU,CAAC;gBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACvB,OAAO,QAAQ,MAAM,CAAC;YACxB;YAEA,2BAA2B;YAC3B,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC/B,GAAG,QAAQ,aAAa,CAAC,EACzB;gBAAE,SAAS;YAAa,GACxB;gBAAE,SAAS;oBAAE,gBAAgB;gBAAmB;YAAE;YAGpD,MAAM,EAAE,MAAM,EAAE,SAAS,UAAU,EAAE,GAAG,SAAS,IAAI;YAErD,gCAAgC;YAChC,aAAa,OAAO,CAAC,eAAe;YACpC,IAAI,YAAY;gBACd,aAAa,OAAO,CAAC,gBAAgB;YACvC;YAEA,kCAAkC;YAClC,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAC9D,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAE1D,oBAAoB;YACpB,aAAa,MAAM;YAEnB,6BAA6B;YAC7B,OAAO,IAAI;QACb,EAAE,OAAO,cAAc;YACrB,uDAAuD;YACvD,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB,aAAa;YACb,OAAO,QAAQ,MAAM,CAAC;QACxB,SAAU;YACR,eAAe;QACjB;IACF;IAEA,gCAAgC;IAChC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/app/coupon/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { useState, useEffect } from 'react';\r\nimport Head from 'next/head';\r\nimport { useTheme } from '../../components/ThemeProvider';\r\nimport api from '@/lib/axios';\r\nimport { useRouter } from 'next/navigation';\r\nimport { ArrowLeft, Star, ThumbsUp, ThumbsDown, Copy, Check, Plus, Link as LinkIcon, Trophy, MessageCircle, X, Send } from 'lucide-react';\r\n\r\n// Unified interfaces matching the actual JSON response\r\ninterface BetApp {\r\n  id: string;\r\n  name: string;\r\n  image: string;\r\n  public_name: string;\r\n}\r\n\r\ninterface CommentAuthor {\r\n  id: string;\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n}\r\n\r\ninterface Comment {\r\n  id: string;\r\n  content: string;\r\n  created_at: string;\r\n  author: CommentAuthor;\r\n  parent_id: string | null;\r\n  replies?: Comment[];\r\n}\r\n\r\ninterface Coupon {\r\n  id: string;\r\n  created_at: string;\r\n  code: string;\r\n  bet_app: BetApp;\r\n  author: string;\r\n  author_first_name: string;\r\n  author_last_name: string;\r\n  author_rating: number;\r\n  coupon_type: 'combine' | 'single';\r\n  cote: string;\r\n  match_count: number;\r\n  average_rating: number;\r\n  total_ratings: number;\r\n  likes_count: number;\r\n  dislikes_count: number;\r\n  user_liked: boolean;\r\n  user_disliked: boolean;\r\n  can_rate: boolean;\r\n  total_comments?: number;\r\n}\r\n\r\ninterface UserProfile {\r\n  first_name: string;\r\n  last_name: string;\r\n  email: string;\r\n  can_publish_coupons: boolean;\r\n  can_rate_coupons: boolean;\r\n  is_staff: boolean;\r\n}\r\n\r\nconst CouponPage = () => {\r\n  const [platforms, setPlatforms] = useState<BetApp[]>([]);\r\n  const [selectedPlatformId, setSelectedPlatformId] = useState<string | null>(null);\r\n  const [coupons, setCoupons] = useState<Coupon[]>([]);\r\n  const [userProfile, setUserProfile] = useState<UserProfile | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [platformsLoading, setPlatformsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [copiedId, setCopiedId] = useState<string | null>(null);\r\n\r\n  // Comment-related state\r\n  const [showCommentModal, setShowCommentModal] = useState(false);\r\n  const [selectedCoupon, setSelectedCoupon] = useState<Coupon | null>(null);\r\n  const [comments, setComments] = useState<Comment[]>([]);\r\n  const [commentText, setCommentText] = useState('');\r\n  const [commentsLoading, setCommentsLoading] = useState(false);\r\n  const [replyingTo, setReplyingTo] = useState<Comment | null>(null);\r\n\r\n  const { theme } = useTheme();\r\n  const router = useRouter();\r\n\r\n  const fetchPlatforms = async () => {\r\n    try {\r\n      const response = await api.get('/blaffa/app_name?operation_type=coupon');\r\n      if (response.status === 200) {\r\n        setPlatforms(response.data || []);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching platforms:', err);\r\n    } finally {\r\n      setPlatformsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCoupons = async (platformId: string | null = null) => {\r\n    setLoading(true);\r\n    try {\r\n      const url = platformId ? `/blaffa/coupon?bet_app=${platformId}` : `/blaffa/coupon`;\r\n      const response = await api.get(url);\r\n      if (response.status === 200) {\r\n        const data = response.data;\r\n        const results = data.results || data || [];\r\n        const mappedCoupons = results.map((c: any) => ({\r\n          ...c,\r\n          // Map legacy user_rating to new booleans if explicit booleans aren't present\r\n          user_liked: c.user_liked ?? (c.user_rating === 5),\r\n          user_disliked: c.user_disliked ?? (c.user_rating === 1),\r\n        }));\r\n        setCoupons(mappedCoupons);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching coupons:', err);\r\n      setError('Failed to load coupons.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchUserProfile = async () => {\r\n    const token = localStorage.getItem('accessToken');\r\n    if (!token) return;\r\n    try {\r\n      const response = await api.get(`/auth/me`);\r\n      if (response.status === 200) {\r\n        const profileData = response.data;\r\n        setUserProfile({\r\n          first_name: profileData.first_name,\r\n          last_name: profileData.last_name,\r\n          email: profileData.email,\r\n          can_publish_coupons: profileData.can_publish_coupons,\r\n          can_rate_coupons: profileData.can_rate_coupons,\r\n          is_staff: profileData.is_staff\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching profile:', err);\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    fetchPlatforms();\r\n    fetchCoupons();\r\n    fetchUserProfile();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedPlatformId !== null) {\r\n      fetchCoupons(selectedPlatformId);\r\n    } else {\r\n      // Re-fetch all if selection cleared, but we need to avoid the initial mount double call if possible\r\n      // However, for simplicity here, we re-fetch if it changes to null after first load\r\n      fetchCoupons();\r\n    }\r\n  }, [selectedPlatformId]);\r\n\r\n  const handleCopy = (text: string, id: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    setCopiedId(id);\r\n    setTimeout(() => setCopiedId(null), 2000);\r\n  };\r\n\r\n  const handleVote = async (couponId: string, voteType: 'like' | 'dislike') => {\r\n    if (!userProfile?.can_rate_coupons) {\r\n      setError(\"Vous n'avez pas l'autorisation de noter des coupons. Pour noter, vous devez avoir au moins 1 mois d'ancienneté et 15 000 FCFA de transactions acceptées.\");\r\n      setTimeout(() => setError(null), 5000);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.post(`/blaffa/coupons/${couponId}/vote/`, { vote_type: voteType });\r\n      if (response.status === 200) {\r\n        // Clear any previous error on success\r\n        setError(null);\r\n        // Update local state for the specific coupon\r\n        setCoupons(prevCoupons => prevCoupons.map(c => {\r\n          if (c.id === couponId) {\r\n            return {\r\n              ...c,\r\n              likes_count: response.data.coupon.likes,\r\n              dislikes_count: response.data.coupon.dislikes,\r\n              user_liked: response.data.coupon.user_liked,\r\n              user_disliked: response.data.coupon.user_disliked,\r\n              // If the backend returns updated can_rate, use it. Otherwise, rely on existing logic or assume voting toggles/updates it.\r\n              // Documentation says if same vote -> delete (so maybe allow voting again? or just untoggle?)\r\n              // For now, let's trust the response or just keep can_rate true if we want to allow changing vote?\r\n              // The docs say \"same vote -> delete\", \"opposed vote -> update\". This implies we can vote again.\r\n              // So we might NOT want to set can_rate to false permanently unless there's a limit.\r\n              // BUT doc says \"Un vote par jour et par auteur\".\r\n              // Let's assume response might carry state or we just update the counts.\r\n              // can_rate might be complex to infer locally if it depends on \"per day\".\r\n              // Let's try to keep can_rate as is or check if response has it.\r\n              // The example response at line 231 doesn't show `can_rate` in the enclosed coupon object.\r\n            };\r\n          }\r\n          return c;\r\n        }));\r\n      }\r\n    } catch (err: any) {\r\n      console.error('Error voting coupon:', err);\r\n      const errorMessage = err.response?.data?.error || err.response?.data?.detail || err.response?.data?.message || 'Erreur lors du vote.';\r\n      setError(errorMessage);\r\n      setTimeout(() => setError(null), 5000);\r\n    }\r\n  };\r\n\r\n  const fetchComments = async (couponAuthorId: string) => {\r\n    setCommentsLoading(true);\r\n    try {\r\n      const response = await api.get(`/blaffa/author-comments/list/?coupon_author_id=${couponAuthorId}`);\r\n      if (response.status === 200) {\r\n        setComments(response.data || []);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching comments:', err);\r\n      setError('Erreur lors du chargement des commentaires.');\r\n      setTimeout(() => setError(null), 3000);\r\n    } finally {\r\n      setCommentsLoading(false);\r\n    }\r\n  };\r\n\r\n  const createComment = async (couponId: string, content: string, parentId: string | null = null) => {\r\n    if (!content.trim()) return;\r\n\r\n    try {\r\n      const payload: any = {\r\n        coupon_id: couponId,\r\n        content: content.trim()\r\n      };\r\n\r\n      if (parentId) {\r\n        payload.parent_id = parentId;\r\n      }\r\n\r\n      const response = await api.post('/blaffa/author-comments/', payload);\r\n      if (response.status === 200 || response.status === 201) {\r\n        // Refresh comments after creating\r\n        if (selectedCoupon) {\r\n          await fetchComments(selectedCoupon.author);\r\n\r\n          // Update comment count in the coupon list\r\n          setCoupons(prevCoupons => prevCoupons.map(c => {\r\n            if (c.id === couponId) {\r\n              return {\r\n                ...c,\r\n                total_comments: (c.total_comments || 0) + 1\r\n              };\r\n            }\r\n            return c;\r\n          }));\r\n        }\r\n\r\n        setCommentText('');\r\n        setReplyingTo(null);\r\n      }\r\n    } catch (err: any) {\r\n      console.error('Error creating comment:', err);\r\n      const errorMessage = err.response?.data?.error || err.response?.data?.detail || 'Erreur lors de la création du commentaire.';\r\n      setError(errorMessage);\r\n      setTimeout(() => setError(null), 3000);\r\n    }\r\n  };\r\n\r\n  const handleOpenComments = (coupon: Coupon) => {\r\n    setSelectedCoupon(coupon);\r\n    setShowCommentModal(true);\r\n    fetchComments(coupon.author);\r\n  };\r\n\r\n  const handleCloseComments = () => {\r\n    setShowCommentModal(false);\r\n    setSelectedCoupon(null);\r\n    setComments([]);\r\n    setCommentText('');\r\n    setReplyingTo(null);\r\n  };\r\n\r\n  const handleSendComment = () => {\r\n    if (selectedCoupon && commentText.trim()) {\r\n      createComment(selectedCoupon.id, commentText, replyingTo?.id || null);\r\n    }\r\n  };\r\n\r\n  const formatCommentDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('fr-FR', {\r\n      day: 'numeric',\r\n      month: 'long',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const getInitials = (first?: string, last?: string) => {\r\n    if (!first && !last) return '??';\r\n    return `${(first || '').charAt(0)}${(last || '').charAt(0)}`.toUpperCase();\r\n  };\r\n\r\n  const formatDate = () => {\r\n    return new Date().toLocaleDateString('fr-FR', {\r\n      day: 'numeric',\r\n      month: 'long',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={`${theme.colors.a_background} font-sans`}>\r\n      <Head>\r\n        <title>Coupons - Blaffa</title>\r\n      </Head>\r\n\r\n      {/* Header */}\r\n      <header className={`bg-transparent sticky top-0 z-50`}>\r\n        <div className=\"w-full px-6 h-16 flex items-center justify-between\">\r\n          <button onClick={() => router.back()} className={`p-2 -ml-2 rounded-full ${theme.colors.hover} transition-colors`}>\r\n            <ArrowLeft className={theme.colors.text} size={24} />\r\n          </button>\r\n          <h1 className={`text-lg font-bold ${theme.colors.text}`}>Coupon</h1>\r\n          <div className=\"w-8\"></div>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"w-full p-6 space-y-6\">\r\n        {/* Error Banner */}\r\n        {error && (\r\n          <div className=\"fixed top-20 left-6 right-6 z-50 animate-in fade-in slide-in-from-top-4 duration-300\">\r\n            <div className={`p-4 rounded-2xl border ${theme.mode === 'dark' ? 'bg-red-900/20 border-red-500/50 text-red-400' : 'bg-red-50 border-red-200 text-red-600'} flex items-center gap-3 shadow-lg backdrop-blur-md`}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n              <span className=\"font-medium text-sm\">{error}</span>\r\n              <button onClick={() => setError(null)} className=\"ml-auto p-1 hover:bg-red-100 dark:hover:bg-red-900/40 rounded-full transition-colors\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* User Card */}\r\n        <div className={`${theme.colors.a_background} p-5 rounded-3xl shadow-[0_4px_20px_rgba(0,0,0,0.03)] flex flex-col gap-6 border ${theme.mode === 'dark' ? 'border-slate-800' : 'border-gray-50'}`}>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className={`w-12 h-12 rounded-xl ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-[#E8E8E8]'} flex items-center justify-center ${theme.mode === 'dark' ? 'text-slate-300' : 'text-[#999999]'} font-bold text-lg`}>\r\n                {getInitials(userProfile?.first_name, userProfile?.last_name)}\r\n              </div>\r\n              <div>\r\n                <h3 className={`font-bold text-base ${theme.colors.text}`}>\r\n                  {userProfile ? `${userProfile.first_name} ${userProfile.last_name}` : 'Anonyme'}\r\n                </h3>\r\n                <div className=\"flex gap-0.5 mt-0.5\">\r\n                  {[1, 2, 3, 4, 5].map(i => (\r\n                    <Star key={i} size={14} className={i <= 4 ? \"fill-yellow-400 text-yellow-400\" : \"text-gray-200 fill-gray-200\"} />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {(userProfile?.can_publish_coupons || userProfile?.is_staff) && (\r\n              <button\r\n                onClick={() => router.push('/coupon/create')}\r\n                className=\"w-10 h-10 rounded-xl bg-[#002d72] flex items-center justify-center text-white shadow-lg active:scale-95 transition-transform\"\r\n              >\r\n                <Plus size={24} strokeWidth={3} />\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n        </div>\r\n\r\n        {/* Platform Scroll */}\r\n        <div className=\"flex gap-4 overflow-x-auto pb-4 scrollbar-hide\">\r\n          {/* \"Tous\" Category */}\r\n          <button\r\n            onClick={() => setSelectedPlatformId(null)}\r\n            className={`flex-shrink-0 ${theme.colors.a_background} px-4 py-3 rounded-2xl shadow-[0_2px_10px_rgba(0,0,0,0.02)] flex items-center gap-2 border transition-all\r\n              ${selectedPlatformId === null\r\n                ? 'border-blue-600 ring-2 ring-blue-600/20'\r\n                : theme.mode === 'dark' ? 'border-slate-800' : 'border-transparent opacity-60 hover:opacity-100'}`}\r\n          >\r\n            <div className={`w-8 h-8 rounded-lg ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-gray-50'} flex items-center justify-center`}>\r\n              <Trophy className={selectedPlatformId === null ? \"text-blue-600\" : \"text-gray-400\"} size={16} />\r\n            </div>\r\n            <span className={`font-bold text-sm ${selectedPlatformId === null ? 'text-blue-600' : theme.colors.text}`}>Tous</span>\r\n          </button>\r\n\r\n          {platformsLoading ? (\r\n            [1, 2, 3].map(i => (\r\n              <div key={i} className={`flex-shrink-0 w-32 h-14 ${theme.mode === 'dark' ? 'bg-slate-800' : 'bg-gray-100'} rounded-2xl animate-pulse`}></div>\r\n            ))\r\n          ) : (\r\n            platforms.map((platform) => (\r\n              <button\r\n                key={platform.id}\r\n                onClick={() => setSelectedPlatformId(platform.id)}\r\n                className={`flex-shrink-0 ${theme.colors.a_background} px-4 py-3 rounded-2xl shadow-[0_2px_10px_rgba(0,0,0,0.02)] flex items-center gap-2 border transition-all\r\n                  ${selectedPlatformId === platform.id\r\n                    ? 'border-blue-600 ring-2 ring-blue-600/20'\r\n                    : theme.mode === 'dark' ? 'border-slate-800' : 'border-transparent opacity-60 hover:opacity-100'}`}\r\n              >\r\n                <div className={`w-8 h-8 rounded-lg ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-gray-50'} flex items-center justify-center p-1`}>\r\n                  {platform.image ? (\r\n                    <img src={platform.image} alt=\"\" className=\"w-6 h-6 object-contain\" />\r\n                  ) : (\r\n                    <div className=\"w-6 h-6 bg-blue-600 rounded-md flex items-center justify-center text-white font-bold text-[10px]\">\r\n                      {platform.name.charAt(0)}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <span className={`font-bold text-sm ${selectedPlatformId === platform.id ? 'text-blue-600' : theme.colors.text}`}>\r\n                  {platform.public_name || platform.name}\r\n                </span>\r\n              </button>\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        {/* Day's Header */}\r\n        <div className=\"flex justify-between items-center pt-2\">\r\n          <h2 className={`text-2xl font-bold ${theme.colors.text}`}>Prédicitions du jour</h2>\r\n          <span className={`text-lg font-medium ${theme.colors.d_text} opacity-60`}>{formatDate()}</span>\r\n        </div>\r\n\r\n        {/* Coupon List */}\r\n        {loading ? (\r\n          <div className=\"flex flex-col items-center justify-center py-20 gap-4\">\r\n            <div className=\"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin\"></div>\r\n            <p className=\"text-gray-400 animate-pulse\">Chargement des coupons...</p>\r\n          </div>\r\n        ) : coupons.length === 0 ? (\r\n          <div className=\"text-center py-20 space-y-4\">\r\n            <Trophy size={64} className=\"mx-auto text-gray-200\" />\r\n            <p className=\"text-gray-500\">Aucune prédiction pour aujourd'hui.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {coupons.map((coupon) => (\r\n              <div key={coupon.id} className={`${theme.colors.a_background} rounded-3xl p-5 shadow-[0_4px_25px_rgba(0,0,0,0.04)] border ${theme.mode === 'dark' ? 'border-slate-800' : 'border-transparent'} transition-all hover:shadow-lg`}>\r\n                {/* Author Info */}\r\n                <div className=\"flex items-center gap-4 mb-4\">\r\n                  <div className={`w-12 h-12 rounded-xl ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-[#E8E8E8]'} ${theme.mode === 'dark' ? 'text-slate-400' : 'text-[#999999]'} flex items-center justify-center font-bold text-lg`}>\r\n                    {getInitials(coupon.author_first_name, coupon.author_last_name)}\r\n                  </div>\r\n                  <div>\r\n                    <h3 className={`font-bold text-base ${theme.colors.text}`}>{coupon.author_first_name} {coupon.author_last_name}</h3>\r\n                    <div className=\"flex gap-0.5 mt-0.5\">\r\n                      {[1, 2, 3, 4, 5].map(i => (\r\n                        <Star key={i} size={14} className={i <= Math.round(coupon.author_rating) ? \"fill-yellow-400 text-yellow-400\" : \"text-gray-200 fill-gray-200\"} />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Bet Type Pill */}\r\n                <div className=\"inline-flex items-center gap-1.5 bg-[#E9F3FF] dark:bg-blue-900/30 text-[#1976D2] dark:text-blue-300 text-xs px-3 py-1.5 rounded-lg font-bold mb-4\">\r\n                  <LinkIcon size={14} />\r\n                  {coupon.coupon_type === 'combine'\r\n                    ? `Combiné (${coupon.match_count} matchs)`\r\n                    : `Simple (${coupon.match_count} match)`}\r\n                </div>\r\n\r\n                {/* Côte & Platform */}\r\n                <div className=\"flex justify-between items-end mb-6\">\r\n                  <div>\r\n                    <div className={`${theme.colors.d_text} opacity-60 text-xs uppercase tracking-wide font-medium leading-none`}>Côte totale: <span className={`text-2xl font-black ml-1 ${theme.colors.text}`}>{coupon.cote}</span></div>\r\n                  </div>\r\n                  <div className={`flex items-center gap-2 ${theme.mode === 'dark' ? 'bg-slate-800 border-slate-700' : 'bg-[#F8F9FA] border-gray-100'} py-1.5 px-3 rounded-xl shadow-sm border`}>\r\n                    <div className=\"w-5 h-5 rounded flex items-center justify-center overflow-hidden\">\r\n                      <img src={coupon.bet_app.image} alt=\"app\" className=\"w-full h-full object-contain\" />\r\n                    </div>\r\n                    <span className={`font-bold text-xs ${theme.colors.text}`}>{coupon.bet_app.public_name}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <hr className={`border-gray-50 ${theme.mode === 'dark' ? 'border-slate-700/50' : ''} mb-4`} />\r\n\r\n                {/* Footer Actions */}\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className={`flex items-center gap-4 ${theme.mode === 'dark' ? 'text-slate-400' : 'text-[#999999]'}`}>\r\n                    <button\r\n                      onClick={() => coupon.can_rate && handleVote(coupon.id, 'like')}\r\n                      disabled={!coupon.can_rate && !coupon.user_liked && !coupon.user_disliked} // Allow changing vote if already voted? Or depend on can_rate?\r\n                      // The doc says \"Un vote par jour\". Does that mean 1 action? Or 1 final state? \r\n                      // Usually \"can_rate\" comes from backend. If it's false, we disable.\r\n                      // But if we already voted, maybe we can toggle?\r\n                      // Let's rely on can_rate for now, but also checks if backend returns different can_rate.\r\n                      // If user_liked is true, we might want to allow clicking to unlike (toggle).\r\n                      className={`flex items-center gap-1.5 transition-colors ${coupon.user_liked ? \"text-blue-500\" : coupon.can_rate ? \"hover:text-blue-500\" : \"opacity-50 cursor-not-allowed\"}`}\r\n                    >\r\n                      <ThumbsUp size={18} className={coupon.user_liked ? \"fill-blue-500\" : \"\"} />\r\n                      <span className=\"font-bold text-sm\">{coupon.likes_count || 0}</span>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => coupon.can_rate && handleVote(coupon.id, 'dislike')}\r\n                      disabled={!coupon.can_rate && !coupon.user_liked && !coupon.user_disliked}\r\n                      className={`flex items-center gap-1.5 transition-colors ${coupon.user_disliked ? \"text-red-500\" : coupon.can_rate ? \"hover:text-red-500\" : \"opacity-50 cursor-not-allowed\"}`}\r\n                    >\r\n                      <ThumbsDown size={18} className={coupon.user_disliked ? \"fill-red-500\" : \"\"} />\r\n                      <span className=\"font-bold text-sm\">{coupon.dislikes_count || 0}</span>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleOpenComments(coupon)}\r\n                      className=\"flex items-center gap-1.5 transition-colors hover:text-blue-500\"\r\n                    >\r\n                      <MessageCircle size={18} />\r\n                      <span className=\"font-bold text-sm\">{coupon.total_comments || 0}</span>\r\n                    </button>\r\n                    <div className=\"flex items-center gap-1 ml-1\">\r\n                      <Star size={18} className=\"fill-yellow-400 text-yellow-400\" />\r\n                      <span className={`font-bold text-sm ${theme.colors.text}`}>\r\n                        {typeof coupon.average_rating === 'number' ? coupon.average_rating.toFixed(1) : coupon.average_rating}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={() => handleCopy(coupon.code, coupon.id)}\r\n                    className={`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-black transition-all shadow-sm active:scale-95\r\n                      ${copiedId === coupon.id\r\n                        ? 'bg-green-100 text-green-700 border border-green-200'\r\n                        : 'bg-[#ECF2FF] text-[#002d72] dark:text-blue-300'}`}\r\n                  >\r\n                    {copiedId === coupon.id ? <Check size={16} strokeWidth={3} /> : <div className=\"p-0.5 rounded bg-white/60 dark:bg-gray-800/60\"><Copy size={14} /></div>}\r\n                    <span>{coupon.code}</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Comment Modal */}\r\n        {showCommentModal && selectedCoupon && (\r\n          <div className=\"fixed inset-0 z-50 flex items-end sm:items-center justify-center\">\r\n            {/* Backdrop */}\r\n            <div\r\n              className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\r\n              onClick={handleCloseComments}\r\n            />\r\n\r\n            {/* Modal */}\r\n            <div className={`relative w-full sm:max-w-lg sm:mx-4 ${theme.colors.a_background} sm:rounded-3xl flex flex-col max-h-[90vh] sm:max-h-[80vh] h-full sm:h-auto shadow-2xl`}>\r\n              {/* Header */}\r\n              <div className={`flex items-center justify-between p-6 border-b ${theme.mode === 'dark' ? 'border-slate-700' : 'border-gray-100'}`}>\r\n                <h2 className={`text-xl font-bold ${theme.colors.text}`}>Commentaires</h2>\r\n                <button\r\n                  onClick={handleCloseComments}\r\n                  className={`p-2 rounded-full ${theme.colors.hover} transition-colors`}\r\n                >\r\n                  <X size={24} className={theme.colors.text} />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Comments List */}\r\n              <div className=\"flex-1 overflow-y-auto p-6 space-y-4\">\r\n                {commentsLoading ? (\r\n                  <div className=\"flex flex-col items-center justify-center py-12 gap-3\">\r\n                    <div className=\"w-10 h-10 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin\"></div>\r\n                    <p className=\"text-gray-400 text-sm\">Chargement des commentaires...</p>\r\n                  </div>\r\n                ) : comments.length === 0 ? (\r\n                  <div className=\"flex flex-col items-center justify-center py-12 gap-3\">\r\n                    <MessageCircle size={48} className=\"text-gray-300\" />\r\n                    <p className=\"text-gray-400 text-sm\">Aucun commentaire pour le moment</p>\r\n                    <p className=\"text-gray-400 text-xs\">Soyez le premier à commenter !</p>\r\n                  </div>\r\n                ) : (\r\n                  comments.map((comment) => (\r\n                    <div key={comment.id} className=\"space-y-3\">\r\n                      {/* Main Comment */}\r\n                      <div className=\"flex gap-3\">\r\n                        <div className={`w-10 h-10 rounded-full ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-gray-200'} flex items-center justify-center flex-shrink-0`}>\r\n                          <span className={`font-bold text-sm ${theme.mode === 'dark' ? 'text-slate-300' : 'text-gray-600'}`}>\r\n                            {getInitials(comment.author.first_name, comment.author.last_name)}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-baseline gap-2 mb-1\">\r\n                            <span className={`font-bold text-sm ${theme.colors.text}`}>\r\n                              {comment.author.first_name} {comment.author.last_name}\r\n                            </span>\r\n                            <span className=\"text-xs text-gray-400\">\r\n                              {formatCommentDate(comment.created_at)}\r\n                            </span>\r\n                          </div>\r\n                          <p className={`text-sm ${theme.colors.text} leading-relaxed`}>\r\n                            {comment.content}\r\n                          </p>\r\n                          <button\r\n                            onClick={() => setReplyingTo(comment)}\r\n                            className=\"text-xs text-blue-500 hover:text-blue-600 mt-2 font-medium\"\r\n                          >\r\n                            Répondre\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Nested Replies */}\r\n                      {comment.replies && comment.replies.length > 0 && (\r\n                        <div className=\"ml-12 space-y-3\">\r\n                          {comment.replies.map((reply) => (\r\n                            <div key={reply.id} className=\"flex gap-3\">\r\n                              <div className={`w-8 h-8 rounded-full ${theme.mode === 'dark' ? 'bg-slate-700' : 'bg-gray-200'} flex items-center justify-center flex-shrink-0`}>\r\n                                <span className={`font-bold text-xs ${theme.mode === 'dark' ? 'text-slate-300' : 'text-gray-600'}`}>\r\n                                  {getInitials(reply.author.first_name, reply.author.last_name)}\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"flex-1\">\r\n                                <div className=\"flex items-baseline gap-2 mb-1\">\r\n                                  <span className={`font-bold text-sm ${theme.colors.text}`}>\r\n                                    {reply.author.first_name} {reply.author.last_name}\r\n                                  </span>\r\n                                  <span className=\"text-xs text-gray-400\">\r\n                                    {formatCommentDate(reply.created_at)}\r\n                                  </span>\r\n                                </div>\r\n                                <p className={`text-sm ${theme.colors.text} leading-relaxed`}>\r\n                                  {reply.content}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n\r\n              {/* Reply Indicator */}\r\n              {replyingTo && (\r\n                <div className={`px-6 py-2 border-t ${theme.mode === 'dark' ? 'border-slate-700 bg-slate-800/50' : 'border-gray-100 bg-gray-50'} flex items-center justify-between`}>\r\n                  <span className=\"text-sm text-gray-500\">\r\n                    Répondre à <span className=\"font-semibold\">{replyingTo.author.first_name}</span>\r\n                  </span>\r\n                  <button\r\n                    onClick={() => setReplyingTo(null)}\r\n                    className=\"text-xs text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    Annuler\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Input Area */}\r\n              <div className={`p-6 border-t ${theme.mode === 'dark' ? 'border-slate-700' : 'border-gray-100'}`}>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={commentText}\r\n                    onChange={(e) => setCommentText(e.target.value)}\r\n                    onKeyPress={(e) => e.key === 'Enter' && handleSendComment()}\r\n                    placeholder=\"Écrire un commentaire...\"\r\n                    className={`flex-1 px-4 py-3 rounded-xl border ${theme.mode === 'dark'\r\n                      ? 'bg-slate-800 border-slate-700 text-white placeholder-slate-400'\r\n                      : 'bg-white border-gray-200 text-gray-900 placeholder-gray-400'\r\n                      } focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`}\r\n                  />\r\n                  <button\r\n                    onClick={handleSendComment}\r\n                    disabled={!commentText.trim()}\r\n                    className={`p-3 rounded-xl transition-all ${commentText.trim()\r\n                      ? 'bg-blue-600 hover:bg-blue-700 active:scale-95'\r\n                      : 'bg-gray-300 cursor-not-allowed'\r\n                      }`}\r\n                  >\r\n                    <Send size={20} className=\"text-white\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CouponPage;\r\n"],"names":[],"mappings":"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"}}]
}