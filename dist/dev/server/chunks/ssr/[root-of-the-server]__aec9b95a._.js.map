{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/lib/axios.ts"],"sourcesContent":["import axios, { AxiosError, InternalAxiosRequestConfig } from 'axios';\r\n\r\nconst API_URL = 'https://api.blaffa.net';\r\n\r\n// Create axios instance with base URL\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nlet isRefreshing = false;\r\nlet failedQueue: Array<{\r\n  resolve: (token: string) => void;\r\n  reject: (error: unknown) => void;\r\n}> = [];\r\n\r\nconst processQueue = (error: unknown, token: string | null = null) => {\r\n  failedQueue.forEach(prom => {\r\n    if (error) {\r\n      prom.reject(error);\r\n    } else {\r\n      prom.resolve(token!);\r\n    }\r\n  });\r\n  failedQueue = [];\r\n};\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('accessToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle token refresh\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error: AxiosError) => {\r\n    const originalRequest = error.config as InternalAxiosRequestConfig & { _retry?: boolean };\r\n\r\n    // If the error is 401 and we haven't tried to refresh yet\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      if (isRefreshing) {\r\n        // If we're already refreshing, add the request to the queue\r\n        return new Promise((resolve, reject) => {\r\n          failedQueue.push({ resolve, reject });\r\n        })\r\n          .then((token) => {\r\n            originalRequest.headers.Authorization = `Bearer ${token}`;\r\n            return api(originalRequest);\r\n          })\r\n          .catch((err) => {\r\n            return Promise.reject(err);\r\n          });\r\n      }\r\n\r\n      originalRequest._retry = true;\r\n      isRefreshing = true;\r\n\r\n      try {\r\n        const refreshToken = localStorage.getItem('refreshToken');\r\n        if (!refreshToken) {\r\n          // No refresh token available, redirect to login\r\n          localStorage.removeItem('accessToken');\r\n          window.location.href = '/login';\r\n          return Promise.reject(error);\r\n        }\r\n\r\n        // Try to refresh the token\r\n        const response = await axios.post(\r\n          `${API_URL}/auth/refresh`,\r\n          { refresh: refreshToken },\r\n          { headers: { 'Content-Type': 'application/json' } }\r\n        );\r\n\r\n        const { access, refresh: newRefresh } = response.data;\r\n\r\n        // Update tokens in localStorage\r\n        localStorage.setItem('accessToken', access);\r\n        if (newRefresh) {\r\n          localStorage.setItem('refreshToken', newRefresh);\r\n        }\r\n\r\n        // Update the Authorization header\r\n        api.defaults.headers.common.Authorization = `Bearer ${access}`;\r\n        originalRequest.headers.Authorization = `Bearer ${access}`;\r\n\r\n        // Process the queue\r\n        processQueue(null, access);\r\n\r\n        // Retry the original request\r\n        return api(originalRequest);\r\n      } catch (refreshError) {\r\n        // If refresh fails, clear tokens and redirect to login\r\n        console.error('Failed to refresh token:', refreshError);\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        window.location.href = '/login';\r\n        processQueue(refreshError);\r\n        return Promise.reject(refreshError);\r\n      } finally {\r\n        isRefreshing = false;\r\n      }\r\n    }\r\n\r\n    // For other errors, just reject\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU;AAEhB,sCAAsC;AACtC,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,IAAI,eAAe;AACnB,IAAI,cAGC,EAAE;AAEP,MAAM,eAAe,CAAC,OAAgB,QAAuB,IAAI;IAC/D,YAAY,OAAO,CAAC,CAAA;QAClB,IAAI,OAAO;YACT,KAAK,MAAM,CAAC;QACd,OAAO;YACL,KAAK,OAAO,CAAC;QACf;IACF;IACA,cAAc,EAAE;AAClB;AAEA,wCAAwC;AACxC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,+CAA+C;AAC/C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,0DAA0D;IAC1D,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC7D,IAAI,cAAc;YAChB,4DAA4D;YAC5D,OAAO,IAAI,QAAQ,CAAC,SAAS;gBAC3B,YAAY,IAAI,CAAC;oBAAE;oBAAS;gBAAO;YACrC,GACG,IAAI,CAAC,CAAC;gBACL,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;gBACzD,OAAO,IAAI;YACb,GACC,KAAK,CAAC,CAAC;gBACN,OAAO,QAAQ,MAAM,CAAC;YACxB;QACJ;QAEA,gBAAgB,MAAM,GAAG;QACzB,eAAe;QAEf,IAAI;YACF,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,CAAC,cAAc;gBACjB,gDAAgD;gBAChD,aAAa,UAAU,CAAC;gBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACvB,OAAO,QAAQ,MAAM,CAAC;YACxB;YAEA,2BAA2B;YAC3B,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC/B,GAAG,QAAQ,aAAa,CAAC,EACzB;gBAAE,SAAS;YAAa,GACxB;gBAAE,SAAS;oBAAE,gBAAgB;gBAAmB;YAAE;YAGpD,MAAM,EAAE,MAAM,EAAE,SAAS,UAAU,EAAE,GAAG,SAAS,IAAI;YAErD,gCAAgC;YAChC,aAAa,OAAO,CAAC,eAAe;YACpC,IAAI,YAAY;gBACd,aAAa,OAAO,CAAC,gBAAgB;YACvC;YAEA,kCAAkC;YAClC,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAC9D,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ;YAE1D,oBAAoB;YACpB,aAAa,MAAM;YAEnB,6BAA6B;YAC7B,OAAO,IAAI;QACb,EAAE,OAAO,cAAc;YACrB,uDAAuD;YACvD,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB,aAAa;YACb,OAAO,QAAQ,MAAM,CAAC;QACxB,SAAU;YACR,eAAe;QACjB;IACF;IAEA,gCAAgC;IAChC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/components/TransactionHistory.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { ArrowDownLeft, ArrowUpRight, X, Activity, Copy, CheckCircle, Clock, XCircle, AlertCircle, ChevronRight, Smartphone, Phone, CreditCard, Hash, Calendar, } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\n//import Footer from '../components/footer';\nimport { useTranslation } from 'react-i18next';\nimport { useTheme } from './ThemeProvider';\nimport api from '@/lib/axios';\n// Define the App interface\ninterface App {\n  id: string;\n  name: string;\n  image: string;\n  public_name: string;\n  is_active: boolean;\n}\n\n// Define API response interfaces\n/**\n * @typedef {Object} User\n * @property {string} id\n * @property {string} email\n * @property {string} first_name\n * @property {string} last_name\n */\ninterface User {\n  id: string;\n  email: string;\n  first_name: string;\n  last_name: string;\n}\n\n/**\n * @typedef {Object} App\n * @property {string} id\n * @property {string} name\n * @property {string} image\n * @property {string} public_name\n * @property {boolean} is_active\n */\n\n/**\n * @typedef {Object} Network\n * @property {number} id\n * @property {string} name\n * @property {string} public_name\n * @property {string} image\n * @property {string} country_code\n * @property {string} indication\n */\ninterface Network {\n  id: number;\n  name: string;\n  public_name: string;\n  image: string;\n  country_code: string;\n  indication: string;\n}\n\n/**\n * @typedef {Object} Network\n * @property {number} id\n * @property {string} name\n * @property {string} public_name\n * @property {string} image\n * @property {string} country_code\n * @property {string} indication\n */\n\ninterface Transaction {\n  id: string;\n  amount: number;\n  reference: string;\n  type_trans: string;\n  status: string;\n  created_at: string;\n  phone_number: string;\n  app: App;\n  network: Network;\n  user: User;\n  user_app_id: string;\n  transaction_reference: string | null;\n  error_message: string | null;\n  net_payable_amount: number | null;\n}\n\n// Define the HistoricItem type\ntype HistoricItem = {\n  id: string;\n  user: string;\n  created_at: string;\n  transaction: Transaction;\n};\n\n/**\n * @typedef {Object} ApiResponse\n * @property {number} count\n * @property {string|null} next\n * @property {string|null} previous\n * @property {HistoricItem[]} results\n */\n\nexport default function TransactionHistory() {\n  const [transactions, setTransactions] = useState<HistoricItem[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [page, setPage] = useState(1);\n  // const [ setHasMore] = useState(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const { t } = useTranslation();\n  const { theme } = useTheme();\n  const router = useRouter();\n\n  interface CustomWebSocket extends WebSocket {\n    pingInterval?: NodeJS.Timeout | null;\n  }\n\n  const webSocketRef = useRef<CustomWebSocket | null>(null);\n\n  const wsHealth = useRef({\n    lastMessageTime: 0,\n    messageCount: 0\n  });\n\n\n  // WebSocket reference\n  const webSocketReconnectAttempts = useRef(0);\n  // Transactions map to track unique transactions\n  const transactionsMapRef = useRef(new Map());\n  // Reconnect timeout reference for WebSocket\n  const reconnectTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Format date from ISO string to readable format\n  const formatDate = (isoDate: string) => {\n    const date = new Date(isoDate);\n    return date.toLocaleDateString('fr-FR', {\n      day: 'numeric',\n      month: 'short',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: false,\n      timeZone: 'UTC'\n    });\n  };\n\n  // Build API URL based on filters and pagination\n  const getApiUrl = (pageNumber: number, activeFilter: string) => {\n    let apiUrl = `/blaffa/historic${pageNumber > 1 ? `?page=${pageNumber}` : ''}`;\n\n    if (activeFilter === 'deposits') {\n      apiUrl = `/blaffa/historic${pageNumber > 1 ? `?page=${pageNumber}&` : '?'}type=deposit`;\n    } else if (activeFilter === 'withdrawals') {\n      apiUrl = `/blaffa/historic${pageNumber > 1 ? `?page=${pageNumber}&` : '?'}type=withdrawal`;\n    }\n\n    return apiUrl;\n  };\n\n  // Create a function to generate a composite key for transactions\n  const getTransactionKey = (transaction: HistoricItem | Transaction) => {\n    // Check for different possible properties to handle various formats\n    const id = 'transaction' in transaction\n      ? transaction.transaction.id\n      : transaction.id;\n\n    if (!id) {\n      console.error('Could not extract ID from transaction:', transaction);\n      // Generate a fallback ID to prevent errors\n      return `unknown-${Math.random().toString(36).substring(2, 11)}`;\n    }\n\n    return id.toString();\n  };\n\n  // Add this function to cycle through filter options\n\n\n  // Update the setupWebSocket function with better error handling and fallback\n  const setupWebSocket = () => {\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n      setError('Authentication required for real-time updates');\n      console.log(error);\n      window.location.href = '/login';\n      return;\n    }\n\n    // Clean up existing connection\n    cleanupWebSocket();\n\n    try {\n      const wsUrl = `wss://api.blaffa.net/ws/socket?token=${encodeURIComponent(token)}`;\n      webSocketRef.current = new WebSocket(wsUrl);\n\n      // Set connection timeout\n      const connectionTimeout = setTimeout(() => {\n        if (webSocketRef.current?.readyState !== WebSocket.OPEN) {\n          handleConnectionFailure('Connection timeout');\n        }\n      }, 5000);\n\n      webSocketRef.current.onopen = () => {\n        clearTimeout(connectionTimeout);\n        console.log('WebSocket connected successfully');\n        webSocketReconnectAttempts.current = 0;\n        startPingInterval();\n      };\n\n      webSocketRef.current.onclose = (event) => {\n        clearTimeout(connectionTimeout);\n        handleWebSocketClose(event);\n      };\n\n      webSocketRef.current.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        handleConnectionFailure('Connection failed');\n      };\n\n      webSocketRef.current.onmessage = handleWebSocketMessage;\n\n    } catch (error) {\n      console.error('WebSocket setup failed:', error);\n      setError(error instanceof Error ? error.message : 'Failed to establish connection');\n      handleConnectionFailure('Failed to initialize WebSocket');\n    }\n  };\n\n  // Add these helper functions\n  const cleanupWebSocket = () => {\n    if (webSocketRef.current) {\n      webSocketRef.current.close();\n      webSocketRef.current = null;\n    }\n    if (reconnectTimeoutRef.current) {\n      clearTimeout(reconnectTimeoutRef.current);\n    }\n  };\n\n  const startPingInterval = () => {\n    const pingInterval = setInterval(() => {\n      if (webSocketRef.current?.readyState === WebSocket.OPEN) {\n        try {\n          webSocketRef.current.send(JSON.stringify({ type: 'ping' }));\n        } catch (error) {\n          console.error('Failed to send ping:', error);\n          cleanupWebSocket();\n          setupWebSocket();\n        }\n      } else {\n        clearInterval(pingInterval);\n      }\n    }, 30000);\n\n    // Store the interval ID for cleanup\n    if (webSocketRef.current) {\n      webSocketRef.current.pingInterval = pingInterval;\n    }\n  };\n\n  const handleConnectionFailure = (message: string) => {\n    console.error(message);\n    setError(message);\n\n    // Implement exponential backoff\n    const backoffDelay = Math.min(1000 * Math.pow(2, webSocketReconnectAttempts.current), 30000);\n    webSocketReconnectAttempts.current++;\n\n    reconnectTimeoutRef.current = setTimeout(() => {\n      setupWebSocket();\n    }, backoffDelay);\n  };\n\n  const handleWebSocketMessage = (event: MessageEvent) => {\n    try {\n      const data = JSON.parse(event.data);\n      wsHealth.current = {\n        lastMessageTime: Date.now(),\n        messageCount: wsHealth.current.messageCount + 1\n      };\n\n      switch (data.type) {\n        case 'transaction_update':\n          handleTransactionUpdate(data.transaction);\n          break;\n        case 'new_transaction':\n          handleNewTransaction(data.transaction);\n          break;\n        case 'pong':\n          console.log('Received pong from server');\n          break;\n        case 'error':\n          console.error('Server error:', data.message);\n          setError(data.message);\n          break;\n        default:\n          if (data.transaction) {\n            const existingTransaction = transactionsMapRef.current.has(getTransactionKey(data.transaction));\n            if (existingTransaction) {\n              handleTransactionUpdate(data.transaction);\n            } else {\n              handleNewTransaction(data.transaction);\n            }\n          }\n      }\n\n    } catch (error) {\n      console.error('Error processing message:', error);\n    }\n  };\n\n  const handleWebSocketClose = (event: CloseEvent) => {\n    cleanupWebSocket();\n\n    const reason = getCloseReason(event.code);\n    console.log(`WebSocket closed: ${reason}`);\n\n    if (event.code !== 1000) {\n      handleConnectionFailure(reason);\n    }\n  };\n\n  const getCloseReason = (code: number): string => {\n    const closeReasons: Record<number, string> = {\n      1000: 'Normal closure',\n      1001: 'Going away',\n      1002: 'Protocol error',\n      1003: 'Unsupported data',\n      1005: 'No status received',\n      1006: 'Abnormal closure',\n      1007: 'Invalid frame payload data',\n      1008: 'Policy violation',\n      1009: 'Message too big',\n      1010: 'Mandatory extension',\n      1011: 'Internal server error',\n      1012: 'Service restart',\n      1013: 'Try again later',\n      1014: 'Bad gateway',\n      1015: 'TLS handshake'\n    };\n\n    return closeReasons[code] || `Unknown reason (${code})`;\n  };\n\n  // Handle new transaction from WebSocket\n  const handleNewTransaction = (transaction: Transaction) => {\n    const key = getTransactionKey(transaction);\n\n    // Only add if it matches the current filter\n    if (shouldShowTransaction(transaction)) {\n      // Check if we already have this transaction\n      if (!transactionsMapRef.current.has(key)) {\n        // Create a proper HistoricItem\n        const historicItem: HistoricItem = {\n          id: transaction.id,\n          user: transaction.user?.id || '',\n          created_at: transaction.created_at,\n          transaction: transaction\n        };\n\n        // Add to our map\n        transactionsMapRef.current.set(key, historicItem);\n\n        // Add to state (at the beginning)\n        setTransactions(prev => [historicItem, ...prev]);\n      }\n    }\n  };\n\n  // Handle transaction updates from WebSocket\n  const handleTransactionUpdate = (updatedTransaction: Transaction) => {\n    const key = getTransactionKey(updatedTransaction);\n\n    console.log('Received update for transaction:', key, updatedTransaction);\n    console.log('Does this transaction exist in our map?', transactionsMapRef.current.has(key));\n\n    // Update the transaction in our state\n    setTransactions(prev =>\n      prev.map(item => {\n        if (getTransactionKey(item) === key) {\n          // Create updated item with new transaction data\n          return {\n            ...item,\n            transaction: updatedTransaction\n          };\n        }\n        return item;\n      })\n    );\n\n    // Update the transaction in our map\n    if (transactionsMapRef.current.has(key)) {\n      const existingItem = transactionsMapRef.current.get(key);\n      if (existingItem) {\n        const updatedItem = {\n          ...existingItem,\n          transaction: updatedTransaction\n        };\n        transactionsMapRef.current.set(key, updatedItem);\n      }\n    }\n  };\n\n  // Filter transactions based on current filter\n  const shouldShowTransaction = (item: HistoricItem | Transaction) => {\n    const transaction = 'transaction' in item ? item.transaction : item;\n\n    if (!transaction) return false;\n\n    return true;\n  };\n\n  // Fetch transactions from API\n  const fetchTransactions = async (pageNumber: number, activeFilter: string) => {\n    setLoading(true);\n\n    try {\n      const apiUrl = getApiUrl(pageNumber, activeFilter);\n      console.log('Fetching transactions from:', apiUrl);\n\n      const token = localStorage.getItem('accessToken');\n      if (!token) {\n        console.error('No access token found');\n        setError('You must be logged in to view transactions.');\n        setLoading(false);\n        return;\n      }\n\n      const response = await api.get(apiUrl, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.status !== 200) {\n        const errorData = await response.data;\n        console.error('Error Data:', errorData);\n        throw new Error(errorData.message);\n      }\n\n      const data = response.data;\n      console.log('Fetched Transactions:', data);\n\n      // Process the fetched transactions\n      if (pageNumber === 1) {\n        // Reset the transactions map for first page\n        transactionsMapRef.current.clear();\n\n        // Check if we got any transactions\n        if (data.results && data.results.length > 0) {\n          // Add each transaction to the map\n          data.results.forEach((tx: HistoricItem) => {\n            const key = getTransactionKey(tx);\n            transactionsMapRef.current.set(key, tx);\n          });\n\n          setTransactions(data.results);\n        } else {\n          // No transactions found\n          setTransactions([]);\n        }\n      } else {\n        // For pagination, only add transactions that don't already exist\n        const newTransactions = data.results.filter((tx: HistoricItem) => {\n          const key = getTransactionKey(tx);\n          if (!transactionsMapRef.current.has(key)) {\n            transactionsMapRef.current.set(key, tx);\n            return true;\n          }\n          return false;\n        });\n\n        setTransactions(prev => [...prev, ...newTransactions]);\n      }\n\n      setError(null);\n    } catch (error) {\n      console.error('Error fetching transactions:', error);\n      if (error instanceof Error) {\n        setError(error.message || 'Failed to load transactions. Please try again.');\n        console.error('Error message:', error.message);\n      } else {\n        setError('Failed to load transactions. Please try again.');\n        console.error('Unknown error:', error);\n      }\n\n      // Set empty transactions if API failed\n      if (pageNumber === 1) {\n        setTransactions([]);\n        transactionsMapRef.current.clear();\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Initial fetch and WebSocket setup\n  useEffect(() => {\n    fetchTransactions(page, 'all');\n\n    // Setup WebSocket connection\n    setupWebSocket();\n\n    // Add health check interval for WebSocket\n    const healthCheckInterval = setInterval(() => {\n      const now = Date.now();\n      const minutesSinceLastMessage = (now - wsHealth.current.lastMessageTime) / (1000 * 60);\n\n      if (wsHealth.current.lastMessageTime > 0 && minutesSinceLastMessage > 5) {\n        console.warn('No WebSocket messages received in 5 minutes, reconnecting...');\n        setupWebSocket(); // Force reconnection\n      }\n    }, 60000); // Check every minute\n\n    // Cleanup function\n    return () => {\n      clearInterval(healthCheckInterval);\n      if (webSocketRef.current) {\n        // Clear ping interval if exists\n        if (webSocketRef.current.pingInterval) {\n          clearInterval(webSocketRef.current.pingInterval);\n        }\n\n        webSocketRef.current.close();\n        webSocketRef.current = null;\n      }\n\n      // Clear any pending reconnection timeouts\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  // Verify WebSocket connection after initial setup\n  useEffect(() => {\n    // Verify connection after initial setup\n    const verifyConnectionTimeout = setTimeout(() => {\n      // If we haven't received any messages after 10 seconds of setup\n      if (wsHealth.current.messageCount === 0 && webSocketRef.current &&\n        webSocketRef.current.readyState === WebSocket.OPEN) {\n        console.log('Testing WebSocket connection with manual ping...');\n        try {\n          webSocketRef.current.send(JSON.stringify({ type: 'ping' }));\n        } catch (error) {\n          console.error('Failed to send ping, reconnecting WebSocket:', error);\n          setupWebSocket();\n        }\n      }\n    }, 10000);\n\n    return () => clearTimeout(verifyConnectionTimeout);\n  }, []);\n\n  // Reset page when tab changes to refetch from the beginning\n  useEffect(() => {\n    setPage(1);\n    fetchTransactions(1, 'all');\n  }, []);\n\n\n  // Show transaction details in page\n  const openTransactionDetails = (transaction: HistoricItem) => {\n    router.push(`/transaction/detail?id=${transaction.transaction.id}`);\n  };\n\n  // Copy transaction ID or reference to clipboard\n  const copyToClipboard = (text: string) => {\n    navigator.clipboard.writeText(text)\n      .then(() => {\n        // Could add a toast notification here\n        console.log('Copied to clipboard:', text);\n      })\n      .catch(err => {\n        console.error('Failed to copy:', err);\n      });\n  };\n\n  // Format the transaction amount with currency symbol\n  const formatAmount = (amount: number) => {\n    return new Intl.NumberFormat('fr-BJ', {\n      style: 'currency',\n      currency: 'XOF',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  const getTransactionTypeIcon = (type: string) => {\n    return type === 'deposit' ? (\n      <ArrowDownLeft className=\"w-5 h-5\" />\n    ) : (\n      <ArrowUpRight className=\"w-5 h-5\" />\n    );\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'completed':\n        return <CheckCircle className=\"w-4 h-4 text-green-500\" />;\n      case 'accept':\n        return <CheckCircle className=\"w-4 h-4 text-green-500\" />;\n      case 'payment_init_success':\n        return <Clock className=\"w-4 h-4 text-blue500\" />;\n      case 'pending':\n        return <Clock className=\"w-4 h-4 text-yellow-500\" />;\n      case 'failed':\n      case 'error':\n        return <XCircle className=\"w-4 h-4 text-red-500\" />;\n      default:\n        return <AlertCircle className=\"w-4 h-4 text-gray-500\" />;\n    }\n  };\n\n  const formatStatusText = (status: string) => {\n    if (status === 'payment_init_success') return 'payment_init_success';\n    const statusMap: Record<string, string> = {\n      completed: 'Completed',\n      accept: 'Accepted',\n      pending: 'Pending',\n      failed: 'Failed',\n      error: 'Failed'\n    };\n\n    return statusMap[status.toLowerCase()] || status;\n  };\n\n  const getStatusBadgeClass = (status: string) => {\n    switch (status) {\n      case 'completed':\n      case 'accept':\n        return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400';\n      case 'payment_init_success':\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400';\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400';\n      case 'failed':\n      case 'error':\n        return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400';\n      default:\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400';\n    }\n  };\n\n  return (\n    <div className={`mt-8 ${theme.colors.a_background} rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden`}>\n      <div className=\"w-full overflow-hidden\">\n        {/* Header with title and controls */}\n        <div className=\"px-6 py-4 flex items-center justify-between\">\n          <h3 className={`text-xl font-medium ${theme.colors.text}`}>Activités récentes</h3>\n          <a className={`hover:text-blue-700 font-bold text-sm`} style={{ color: theme.colors.primary }} href=\"/all_transactions\">\n            voir tout\n          </a>\n        </div>\n\n        {/* Transaction list */}\n        <div className=\"space-y-4\">\n          <style>\n            {`\n        @keyframes slideInUp {\n          from {\n            opacity: 0;\n            transform: translateY(20px) scale(0.95);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n\n        @keyframes shimmer {\n          0% { background-position: -200px 0; }\n          100% { background-position: calc(200px + 100%) 0; }\n        }\n              \n        .shimmer-effect {\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\n          background-size: 200px 100%;\n          animation: shimmer 2s infinite;\n        }\n      `}\n          </style>\n\n          {loading && page === 1 ? (\n            <div className=\"flex justify-center items-center py-16\">\n              <div className=\"relative\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-blue-500/30 border-t-blue-500\"></div>\n                <div className=\"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/20 to-blue-500/20 animate-pulse\"></div>\n              </div>\n            </div>\n          ) : transactions.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center py-10 px-6\">\n              <p className={`${theme.mode === 'dark' ? 'text-gray-400' : 'text-gray-500'} text-sm mb-2 text-center font-normal`}>\n                your recent activities will appear here\n              </p>\n              <h3 className={`text-xl font-semibold text-center ${theme.colors.text}`}>\n                No recent activity yet\n              </h3>\n            </div>\n          ) : (\n            <div className=\"w-full\">\n              <div className=\"grid gap-0\">\n                {transactions.map((item, index) => (\n                  <div\n                    key={item.id}\n                    className={`group relative w-full overflow-hidden bg-gradient-to-br ${theme.colors.background} transition-all duration-300 cursor-pointer`}\n                    onClick={() => openTransactionDetails(item)}\n                  >\n\n                    <div className=\"relative p-6 w-full\">\n                      {/* Unified Layout (Simplified dots design for all screens) */}\n                      <div className=\"w-full\">\n                        <div className=\"flex items-center justify-between w-full\">\n                          <div className=\"flex items-center gap-4\">\n                            {/* Stylized Dots Icon - Light gray circle with 3 blue dots */}\n                            <div className={`w-12 h-12 rounded-full ${theme.mode === 'dark' ? 'bg-gray-700' : 'bg-gray-50'} flex items-center justify-center flex-shrink-0`}>\n                              <div className=\"flex gap-0.5\">\n                                <div className={`w-1.5 h-1.5 rounded-full ${theme.mode === 'dark' ? 'bg-[#60a5fa]' : 'bg-[#3b82f6]'}`}></div>\n                                <div className={`w-1.5 h-1.5 rounded-full ${theme.mode === 'dark' ? 'bg-[#60a5fa]' : 'bg-[#3b82f6]'}`}></div>\n                                <div className={`w-1.5 h-1.5 rounded-full ${theme.mode === 'dark' ? 'bg-[#60a5fa]' : 'bg-[#3b82f6]'}`}></div>\n                              </div>\n                            </div>\n\n                            {/* Transaction Info */}\n                            <div className=\"flex flex-col\">\n                              <h3 className={`font-medium text-[1.05rem] ${theme.colors.text} leading-tight`}>\n                                {item.transaction.type_trans === 'deposit' ? 'Dépôt' : item.transaction.type_trans === 'withdrawal' ? 'Retrait' : item.transaction.type_trans}\n                              </h3>\n                              <p className={`text-[0.85rem] ${theme.mode === 'dark' ? 'text-gray-400' : 'text-gray-500'} font-normal`}>\n                                {formatDate(item.transaction.created_at)}\n                              </p>\n                            </div>\n                          </div>\n\n                          {/* Amount and Status */}\n                          <div className=\"text-right\">\n                            <div className={`font-medium text-[1rem] ${theme.colors.text}`}>\n                              XOF {item.transaction.amount}\n                            </div>\n                            <p className={`text-[0.85rem] ${theme.mode === 'dark' ? 'text-gray-500' : 'text-[#b3b3b3]'} font-normal`}>\n                              {item.transaction.status === 'pending' ? 'pending' : item.transaction.status}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Gradient border effect on hover */}\n                    <div className=\"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none\">\n                      <div className=\"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/20 via-blue-500/20 to-blue-500/20 blur-sm\"></div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Load More Indicator */}\n          {loading && page > 1 && (\n            <div className=\"flex justify-center items-center py-8\">\n              <div className=\"relative\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-3 border-blue-500/30 border-t-blue-500\"></div>\n                <div className=\"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/10 to-blue-500/10 animate-pulse\"></div>\n              </div>\n            </div>\n          )}\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1052, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/components/Advertisement_Hero.tsx"],"sourcesContent":["\n\nimport React, { useState, useEffect, useCallback } from 'react';\n//import { ChevronLeft, ChevronRight } from 'lucide-react';\nimport Image from 'next/image'; // Import Next.js Image component\n//import { useTranslation } from 'react-i18next';\nimport api from '../lib/axios';\n\n// Define the type for a single slide object\ninterface Slide {\n  id: string;\n  image: string; // Assuming image is a URL string\n  content?: string; // content might be optional\n  created_at: string;\n  enable: boolean;\n  // Add any other properties your API returns\n}\n\ninterface Ad {\n  enable: boolean;\n \n}\n\n\nconst SlidingHero = ({ baseUrl = 'https://api.blaffa.net' }) => {\n  // Use the Slide type for the slides state\n  const [slides, setSlides] = useState<Slide[]>([]);\n  const [currentSlide, setCurrentSlide] = useState(0);\n  const [loading, setLoading] = useState(true);\n  // Explicitly type the error state\n  const [error, setError] = useState<string | null>(null);\n  // Type imageLoaded as a record mapping string IDs to boolean\n  const [imageLoaded, setImageLoaded] = useState<Record<string, boolean>>({});\n  //const { t } = useTranslation();\n\n  // Fetch advertisements from API\n  useEffect(() => {\n    const fetchAds = async () => {\n      try {\n        setLoading(true);\n        setError(null); // Clear previous errors\n        // Use fetch instead of axios to avoid sending auth token\n        const response = await fetch(`${baseUrl}/blaffa/advertisement`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n        \n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        \n        // Ensure data.results is an array and contains objects matching Slide interface\n        if (Array.isArray(data.results)) {\n          const enabledAds: Slide[] = data.results.filter((ad: Ad) => ad.enable); // Use 'any' temporarily if structure is uncertain, or refine filter type\n          setSlides(enabledAds);\n          // Save to localStorage for offline/fallback use\n          localStorage.setItem('advertisementCache', JSON.stringify(enabledAds));\n        } else {\n            console.error('API response results is not an array:', data);\n            setSlides([]); // Set to empty array if results is not as expected\n        }\n\n      } catch (err: unknown) { // Catch error as unknown\n        console.error('Error fetching advertisements:', err);\n        // Try to load from localStorage cache\n        const cachedAds = localStorage.getItem('advertisementCache');\n        if (cachedAds) {\n          try {\n            const parsedAds = JSON.parse(cachedAds) as Slide[];\n            setSlides(parsedAds);\n            console.log('Loaded advertisements from cache');\n          } catch (parseErr) {\n            console.error('Failed to parse cached advertisements:', parseErr);\n            setSlides([]); // Empty array if no valid cache\n          }\n        } else {\n          setSlides([]); // Empty array if no cache available\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAds();\n  }, [baseUrl]);\n\n  // Auto-slide functionality\n  useEffect(() => {\n    if (slides.length <= 1) return;\n\n    const interval = setInterval(() => {\n      setCurrentSlide(prev => (prev + 1) % slides.length);\n    }, 5000);\n\n    return () => clearInterval(interval);\n  }, [slides.length]);\n\n \n\n  const handleImageLoad = useCallback((slideId: string) => { // Explicitly type slideId\n    setImageLoaded(prev => ({ ...prev, [slideId]: true }));\n  }, []);\n\n  // Handle image error - use Next.js Image onError signature\n  const handleImageError = useCallback((slideId: string, e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n      console.error(`Failed to load image for slide ${slideId}:`, e);\n      // Optionally set a fallback image source here if needed, though Next/Image handles some fallbacks\n      // e.currentTarget.src = 'fallback-image-url.jpg'; // Example fallback\n      setImageLoaded(prev => ({ ...prev, [slideId]: true })); // Mark as loaded even on error to show fallback/broken image\n  }, []);\n\n\n  if (loading) {\n    return (\n      <div className=\"relative w-full h-64 md:h-96 lg:h-[500px] bg-gradient-to-r from-gray-800 to-gray-900 flex items-center justify-center\">\n        <div className=\"flex space-x-2\">\n          <div className=\"w-3 h-3 bg-white rounded-full animate-bounce\"></div>\n          <div className=\"w-3 h-3 bg-white rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n          <div className=\"w-3 h-3 bg-white rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (slides.length === 0) {\n    return null; // Show nothing if no slides available\n  }\n\n  return (\n    <div className=\"w-full h-64 md:h-96 lg:h-[500px] overflow-hidden bg-black rounded-2xl shadow-lg\">\n      {/* Slides Container */}\n      <div\n        className=\"flex transition-transform duration-700 ease-in-out h-full\"\n        style={{ transform: `translateX(-${currentSlide * 100}%)` }}\n      >\n        {/* Explicitly type the slide parameter */}\n        {slides.map((slide: Slide, index: number) => (\n          <div\n            key={slide.id}\n            className=\"relative flex-shrink-0 w-full h-full\"\n          >\n            {/* Background Image using Next.js Image */}\n            <div className=\"absolute inset-0\">\n              <Image\n                src={slide.image}\n                alt={slide.content || `Slide ${index + 1}`}\n                fill // Use fill to make the image cover the parent div\n                className={`object-cover transition-opacity duration-500 ${\n                  imageLoaded[slide.id] ? 'opacity-100' : 'opacity-0'\n                }`}\n                onLoad={() => handleImageLoad(slide.id)}\n                onError={(e) => handleImageError(slide.id, e)} // Use the new error handler\n                sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\" // Define appropriate sizes\n                priority={index === 0} // Prioritize loading the first image\n              />\n              {/* Gradient Overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent\"></div>\n            </div>\n\n            {/* Content */}\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"text-center text-white px-4 max-w-4xl\">\n                <h1 className=\"text-2xl md:text-4xl lg:text-6xl font-bold mb-4 leading-tight drop-shadow-lg\">\n                  {slide.content}\n                </h1>\n                {/* <div className=\"w-20 h-1 bg-gradient-to-r from-blue-400 to-purple-600 mx-auto rounded-full\"></div> */}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Navigation Arrows */}\n      {slides.length > 1 && (\n        <>\n          {/* <button\n            onClick={prevSlide}\n            className=\"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white p-2 md:p-3 rounded-full transition-all duration-300 hover:scale-110 z-10\" // Added z-10 to ensure arrows are above images\n            aria-label=\"Previous slide\"\n          >\n            <ChevronLeft className=\"w-5 h-5 md:w-6 md:h-6\" />\n          </button>\n\n          <button\n            onClick={nextSlide}\n            className=\"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white p-2 md:p-3 rounded-full transition-all duration-300 hover:scale-110 z-10\" // Added z-10\n            aria-label=\"Next slide\"\n          >\n            <ChevronRight className=\"w-5 h-5 md:w-6 md:h-6\" />\n          </button> */}\n        </>\n      )}\n\n      {/* Dots Indicator */}\n      {/* {slides.length > 1 && (\n        <div className=\"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2 z-10\"> \n          {slides.map((_, index) => (\n            <button\n              key={index}\n              onClick={() => goToSlide(index)}\n              className={`w-3 h-3 rounded-full transition-all duration-300 ${\n                index === currentSlide\n                  ? 'bg-white scale-125'\n                  : 'bg-white/50 hover:bg-white/75'\n              }`}\n              aria-label={`Go to slide ${index + 1}`}\n            />\n          ))}\n        </div>\n      )} */}\n\n      {/* Progress Bar */}\n      {/* {slides.length > 1 && (\n        <div className=\"absolute bottom-0 left-0 w-full h-1 bg-white/20 z-10\"> \n          <div\n            className=\"h-full bg-gradient-to-r from-blue-400 to-purple-600 transition-all duration-700 ease-in-out\"\n            style={{ width: `${((currentSlide + 1) / slides.length) * 100}%` }}\n          />\n        </div>\n      )} */}\n    </div>\n  );\n};\n\nexport default SlidingHero;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1285, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Documents/Coblabsite/blaffa_site/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Image from 'next/image';\r\nimport TransactionHistory from '@/components/TransactionHistory';\r\nimport { useTranslation } from 'react-i18next';\r\n// import Footer from '@/components/footer';\r\nimport { useTheme } from '../../components/ThemeProvider';\r\nimport api from '@/lib/axios';\r\n\r\n//import Advertisement_Hero from '@/components/Advertisement_Hero';\r\n//import { ArrowDownLeft, ArrowUpRight, Ticket, CreditCard } from 'lucide-react';\r\nimport {\r\n  MessageCircle,\r\n  X,\r\n  BitcoinIcon,\r\n  Send,\r\n  Headset,\r\n} from 'lucide-react';\r\n\r\nimport Advertisement_Hero from '../../components/Advertisement_Hero';\r\n\r\n\r\n\r\nexport default function Dashboard() {\r\n  const { t } = useTranslation();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isContactMenuOpen, setIsContactMenuOpen] = useState(false);\r\n  const [telegramUrl, setTelegramUrl] = useState('https://t.me/manosservice'); // Default fallback\r\n  const [whatsappUrl, setWhatsappUrl] = useState('https://wa.me/+2250566643821'); // Default fallback\r\n  // const [animateHeader, setAnimateHeader] = useState(false);\r\n  const { theme } = useTheme();\r\n\r\n\r\n  useEffect(() => {\r\n    const savedTheme = localStorage.getItem('theme') || 'dark';\r\n    document.documentElement.classList.toggle('dark', savedTheme === 'dark');\r\n  }, []);\r\n\r\n\r\n\r\n  // Fetch settings to get telegram URL\r\n  useEffect(() => {\r\n    const fetchTelegramUrl = async () => {\r\n      try {\r\n        const token = localStorage.getItem('accessToken');\r\n        if (!token) return;\r\n\r\n        const response = await api.get('/blaffa/setting/', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n\r\n        if (response.status === 200) {\r\n          const settingsData = response.data;\r\n          const settings = Array.isArray(settingsData) ? settingsData[0] : settingsData;\r\n\r\n          if (settings?.telegram) {\r\n            setTelegramUrl(settings.telegram);\r\n          }\r\n\r\n          if (settings?.whatsapp_phone) {\r\n            // Format the phone number for wa.me URL (remove non-numeric characters and ensure international format)\r\n            const phoneNumber = settings.whatsapp_phone.replace(/\\D/g, '');\r\n            const indicator = settings.whatsapp_phone_indi;\r\n            setWhatsappUrl(`https://wa.me/${indicator}${phoneNumber}`);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching settings:', error);\r\n        // Keep default fallback URLs\r\n      }\r\n    };\r\n\r\n    fetchTelegramUrl();\r\n  }, []);\r\n\r\n  // Simulates loading state\r\n  useEffect(() => {\r\n    // setAnimateHeader(true);\r\n    setTimeout(() => {\r\n      setIsLoading(false);\r\n    }, 1000);\r\n\r\n    // Show a notification after 3 seconds\r\n\r\n\r\n    // Trigger header animation\r\n    setTimeout(() => {\r\n      // setAnimateHeader(true);\r\n    }, 500);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`bg-gradient-to-br ${theme.colors.a_background} font-sans relative overflow-hidden`}>\r\n\r\n      {/* Background gradient effects */}\r\n      <div className=\"absolute top-20 -left-10 w-40 h-40 bg-blue-700/20 rounded-full blur-3xl animate-pulse-slow\"></div>\r\n      <div className=\"absolute bottom-20 right-10 w-60 h-60 bg-blue-700/10 rounded-full blur-3xl animate-pulse-slow\"></div>\r\n\r\n      {/* Loading overlay */}\r\n      {isLoading && (\r\n        <div className=\"absolute inset-0 bg-gray-900/90 z-50 flex items-center justify-center\">\r\n          <div className=\"flex flex-col items-center gap-3\">\r\n            <div className=\"w-16 h-16 border-4 border-gray-700 border-t-blue-500 rounded-full animate-spin\"></div>\r\n            <p className=\"text-gray-400\">Loading Blaffa...</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Dashboard Header - Matching Landing Page */}\r\n      <header className={`bg-gradient-to-br ${theme.colors.a_background} border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50`}>\r\n        <div className=\"w-full px-6\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            {/* Left - Logo Only */}\r\n            <div className=\"flex items-center\">\r\n              <Image src=\"/logo.jpg\" alt=\"BLAFFA Logo\" width={65} height={65} className=\"object-contain\" />\r\n            </div>\r\n\r\n            {/* Right - Support and Notifications */}\r\n            <div className=\"flex items-center gap-3\">\r\n              {/* Headphones/Support Icon */}\r\n              <a href='/contact' className={`relative p-2 ${theme.colors.hover} rounded-full transition-colors`}>\r\n                <Headset className={`h-6 w-6 ${theme.colors.text}`} />\r\n              </a>\r\n\r\n              {/* Notification Bell with Red Dot */}\r\n              <a href='/notifications' className={`relative p-2 ${theme.colors.hover} rounded-full transition-colors`}>\r\n                <svg className=\"h-6 w-6 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path d=\"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z\" />\r\n                </svg>\r\n                <span className=\"absolute top-1.5 right-1.5 w-2.5 h-2.5 bg-red-50 rounded-full border-2 border-white dark:border-gray-900\"></span>\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"py-4 px-6 w-full\">\r\n        {/* Hero Banner */}\r\n        <div className=\"mb-6\">\r\n          <Advertisement_Hero />\r\n        </div>\r\n\r\n        {/* Achat and Vente Buttons - Synced with Landing */}\r\n        <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n          {/* Achat Button */}\r\n          <a\r\n            href=\"/crypto/buy\"\r\n            className=\"bg-[#1e3a8a] hover:bg-[#1e40af] text-white rounded-3xl py-4 px-6 flex items-center justify-center gap-3 transition-all duration-300 active:scale-95 shadow-lg\"\r\n          >\r\n            <BitcoinIcon className=\"w-6 h-6\" />\r\n            <span className=\"font-semibold text-lg\">Achat</span>\r\n          </a>\r\n\r\n          {/* Vente Button */}\r\n          <a\r\n            href=\"/crypto/sell\"\r\n            className=\"bg-transparent border-2 border-[#1e3a8a] text-[#1e3a8a] dark:text-white dark:border-white hover:bg-[#1e3a8a]/5 rounded-3xl py-4 px-6 flex items-center justify-center gap-3 transition-all duration-300 active:scale-95\"\r\n          >\r\n            <BitcoinIcon className=\"w-6 h-6\" />\r\n            <span className=\"font-semibold text-lg\">Vente</span>\r\n          </a>\r\n        </div>\r\n\r\n        {/* Centre d'activité Section - Ported from Landing */}\r\n        <div className=\"mb-6\">\r\n          <h2 className={`text-xl font-semibold mb-4 ${theme.colors.text}`}>Centre d&apos; activite</h2>\r\n\r\n          <div className=\"flex justify-around items-start gap-4\">\r\n            {/* Depot */}\r\n            <a href=\"/deposit\" className=\"flex flex-col items-center gap-2 group\">\r\n              <div className=\"w-20 h-20 rounded-full bg-[#FFF0F0] dark:bg-red-900/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\r\n                <svg className=\"w-10 h-10 text-[#FF4D4D] dark:text-red-400 rotate-180\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z\" />\r\n                </svg>\r\n              </div>\r\n              <span className={`text-sm font-medium ${theme.colors.text}`}>Depot</span>\r\n            </a>\r\n\r\n            {/* Retrait */}\r\n            <a href=\"/withdraw\" className=\"flex flex-col items-center gap-2 group\">\r\n              <div className=\"w-20 h-20 rounded-full bg-[#FFF0F0] dark:bg-red-900/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\r\n                <svg className=\"w-10 h-10 text-[#FF4D4D] dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z\" />\r\n                </svg>\r\n              </div>\r\n              <span className={`text-sm font-medium ${theme.colors.text}`}>Retrait</span>\r\n            </a>\r\n\r\n            {/* Coupon */}\r\n            <a href=\"/coupon\" className=\"flex flex-col items-center gap-2 group\">\r\n              <div className=\"w-20 h-20 rounded-full bg-[#FFF0F0] dark:bg-red-900/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\r\n                <svg className=\"w-10 h-10 text-[#FF4D4D]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z\" />\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M7 7h.01\" />\r\n                  <text x=\"12\" y=\"16\" fontSize=\"10\" fill=\"currentColor\" textAnchor=\"middle\" fontWeight=\"bold\" stroke=\"none\">%</text>\r\n                </svg>\r\n              </div>\r\n              <span className={`text-sm font-medium ${theme.colors.text}`}>Coupon</span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Activités récentes Section */}\r\n        <div className=\"mb-6\">\r\n          <TransactionHistory />\r\n\r\n          {/* Floating Contact Button */}\r\n          <div className=\"fixed bottom-24 right-6 z-40\">\r\n            {/* Expanded Menu */}\r\n            {isContactMenuOpen && (\r\n              <div className=\"absolute bottom-20 right-0 flex flex-col-reverse gap-3 mb-2\">\r\n                {/* Telegram Button */}\r\n                <a\r\n                  href={telegramUrl}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className={`flex items-center gap-3 bg-gradient-to-br ${theme.colors.background} ${theme.colors.hover} rounded-full px-4 py-2 shadow-lg transition-all duration-300 transform hover:scale-105`}\r\n                  onClick={() => setIsContactMenuOpen(false)}\r\n                >\r\n                  <span className={`text-sm font-medium ${theme.colors.text}`}>Telegram</span>\r\n                  <div className=\"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center shadow-md\">\r\n                    <Send className=\"w-6 h-6 text-white\" />\r\n                  </div>\r\n                </a>\r\n\r\n                {/* WhatsApp Button */}\r\n                <a\r\n                  href=\"https://wa.me/+2250566643821\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className={`flex items-center gap-3 bg-gradient-to-br ${theme.colors.background} ${theme.colors.hover} rounded-full px-4 py-2 shadow-lg transition-all duration-300 transform hover:scale-105`}\r\n                  onClick={() => setIsContactMenuOpen(false)}\r\n                >\r\n                  <span className={`text-sm font-medium ${theme.colors.text}`}>WhatsApp</span>\r\n                  <div className=\"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center shadow-md\">\r\n                    <Image src='/whatsapp.png' width=\"24\" height=\"24\" className=\"w-6 h-6\" alt='whatsapp' />\r\n                  </div>\r\n                </a>\r\n              </div>\r\n            )}\r\n\r\n            {/* Main FAB Button */}\r\n            <button\r\n              onClick={() => setIsContactMenuOpen(!isContactMenuOpen)}\r\n              className={`group flex items-center justify-center w-16 h-16 md:w-20 md:h-20 bg-[#002d72] dark:bg-blue-600 hover:bg-[#00255e] dark:hover:bg-blue-500 rounded-full shadow-[0_10px_30px_rgba(0,45,114,0.4)] transition-all duration-300 transform hover:scale-105 active:scale-95`}\r\n            >\r\n              {/* Icon - Custom square chat bubble with lines */}\r\n              <div className={`transform transition-all duration-300 ${isContactMenuOpen ? 'rotate-90' : 'rotate-0'}`}>\r\n                {isContactMenuOpen ? (\r\n                  <X className=\"w-8 h-8 text-white\" />\r\n                ) : (\r\n                  <svg\r\n                    width=\"32\"\r\n                    height=\"32\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"text-white\"\r\n                  >\r\n                    <path d=\"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z\" fill=\"white\" />\r\n                    <rect x=\"6\" y=\"6\" width=\"12\" height=\"2\" rx=\"1\" fill=\"currentColor\" className=\"text-[#002d72] dark:text-blue-600\" />\r\n                    <rect x=\"6\" y=\"10\" width=\"12\" height=\"2\" rx=\"1\" fill=\"currentColor\" className=\"text-[#002d72] dark:text-blue-600\" />\r\n                    <rect x=\"6\" y=\"14\" width=\"8\" height=\"2\" rx=\"1\" fill=\"currentColor\" className=\"text-[#002d72] dark:text-blue-600\" />\r\n                  </svg>\r\n                )}\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </main>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}